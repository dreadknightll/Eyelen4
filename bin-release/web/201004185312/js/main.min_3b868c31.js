function anyObj(){}function playBtnSnd_default(){g2_sndObjs[g2_curSndTag]=RES.getRes("buttonSnd_mp3"),g2_sndChls[g2_curSndTag]=g2_sndObjs[g2_curSndTag].play(0,1),g2_curSndTag=(g2_curSndTag+1)%2}function playBtnSnd_iOS(){null!=g2_sndChls[0]&&g2_sndChls[0].stop(),g2_sndObjs[g2_curSndTag]=RES.getRes("buttonSnd_mp3"),g2_sndChls[0]=g2_sndObjs[g2_curSndTag].play(0,1)}function playBtnSnd(){S_BUILD_FOR==S_NATIVE_IOS?playBtnSnd_iOS():playBtnSnd_default()}function getCurScene(){switch(g_level){case 0:return null;case 1:return null;case 2:return null;case 3:return g_praDifficultScene}return g_praDifficultScene}function getImgResNameByPicTag(t){var e;return e=10>t?"img_00"+t:100>t?"img_0"+t:"img_"+t}function getHTTPSImgURLByPicTag(t){var e,i;return e="https://www.gdeint.cn/wechatAppData/eyelen/eyelen3E/pics/getImgCrossDomain.php?tag=",i=10>t?"00"+t:100>t?"0"+t:""+t,e+=i}function getImgResNameByFileName(t){return t.substr(0,7)}function Basic_CaliPresenter(){this.m_initA1=0,this.m_initA2=0,this.m_locked=!1,this.m_a1=0,this.m_a2=0,this.m_a1Set=!1,this.m_a2Set=!1,this.m_a2Enabled=!1,this.m_oldValues=new Array,this.m_lastValueTag=-1,this.m_ovTopTag=-1,this.m2_newValRecd=!0,this.setInitA1=function(t){this.validateInput(t)&&(this.m_initA1=t,this.m_a1Set||(this.m_a1=this.m_initA1,this.m_a1Set=!0),this.m_lastValueTag<0&&(this.m_lastValueTag=0,this.m_oldValues[0]=t,this.m_ovTopTag=0))},this.setInitA2=function(t){this.validateInput(t)&&(this.m_initA2=t,this.m_a2Set||(this.m_a2=this.m_initA2,this.m_a2Set=!0))},this.lock=function(){this.m_locked=!0},this.unlock=function(){this.m_locked=!1},this.getA1=function(){return this.m_a1},this.inputA1=function(t){this.validateInput(t)&&(this.m_locked||(this.m_a1Set?this.m2_newValRecd=!1:(this.m_lastValueTag=0,this.m_oldValues[this.m_lastValueTag]=t,this.m_ovTopTag=0),this.m_a1=t,this.m_a1Set=!0))},this.undoA1=function(){this.m_lastValueTag>0&&this.m2_newValRecd&&--this.m_lastValueTag,this.m_a1=this.m_oldValues[this.m_lastValueTag],this.m2_newValRecd=!0},this.redoA1=function(){this.m2_newValRecd&&(this.m_lastValueTag<this.m_ovTopTag&&++this.m_lastValueTag,this.m_a1=this.m_oldValues[this.m_lastValueTag])},this.recA1=function(){++this.m_lastValueTag,this.m_oldValues[this.m_lastValueTag]=this.m_a1,this.m_ovTopTag=this.m_lastValueTag,this.m2_newValRecd=!0},this.enableA2=function(){this.m_a2Enabled=!0},this.disableA2=function(){this.m_a2Enabled=!1},this.a2Enabled=function(){return this.m_a2Enabled},this.getA2=function(){return this.m_a2Enabled?this.m_a2:this.m_a1},this.inputA2=function(t){this.validateInput(t)&&(this.m_locked||this.m_a2Enabled&&(this.m_a2=t,this.m_a2Set=!0))},this.resetValues=function(){this.m_a1=this.m_initA1,this.m_a2=this.m_initA2,this.m_locked=!1,this.m_a2Enabled=!1,this.m_a1Set=!1,this.m_a2Set=!1},this.validateInput=function(t){return"number"==typeof t?isNaN(t)?!1:0>=t?!1:!0:!1}}var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,r){return new(i||(i=Promise))(function(n,s){function o(t){try{a(r.next(t))}catch(e){s(e)}}function h(t){try{a(r["throw"](t))}catch(e){s(e)}}function a(t){t.done?n(t.value):new i(function(e){e(t.value)}).then(o,h)}a((r=r.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return r([t,e])}}function r(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(o=s[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(s,i[1])).done)return o;switch(s=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(r){i=[6,r],s=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,s,o,h,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return h={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},CLenInputerBase=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setWidth=function(t){g_console.text+="Error!!Abstract class's func called!!'\n"},e.prototype.getLen=function(){return g_console.text+="Error!!Abstract class's func called!!'\n",0},e.prototype.clearLen=function(){g_console.text+="Error!!Abstract class's func called!!'\n"},e.prototype.lock=function(){g_console.text+="Error!!Abstract class's func called!!'\n"},e.prototype.unlock=function(){g_console.text+="Error!!Abstract class's func called!!'\n"},e}(eui.Component);__reflect(CLenInputerBase.prototype,"CLenInputerBase");var CDispObj=function(){function t(){this.m_visible=!0}return t.prototype.show=function(){this.m_visible=!0},t.prototype.hide=function(){this.m_visible=!1},t.prototype.visible=function(){return this.m_visible},t}();__reflect(CDispObj.prototype,"CDispObj",["IDispObj"]);var CUIContainer=function(){function t(){}return t.prototype.setResLoader=function(t){this.m_resLoader=t},t.prototype.setAlertDlg=function(t){this.m_alertDlg=t,this.m_alertDlg._setParentContainer(this),this.m_alertDlg.setParent(this)},t.prototype.setConfirmDlg=function(t){this.m_confirmDlg=t,this.m_confirmDlg._setParentContainer(this),this.m_confirmDlg.setParent(this)},t.prototype.setPreloaderUI=function(t){this.m_preloaderUI=t,this.m_preloaderUI._setParentContainer(this)},t.prototype._getResLoader=function(){return this.m_resLoader},t.prototype._getAlertDlg=function(){return this.m_alertDlg},t.prototype._getConfirmDlg=function(){return this.m_confirmDlg},t.prototype._getPreloaderUI=function(){return this.m_preloaderUI},t.prototype.getAllPlugins=function(){var t=new Array;return t[0]=this.m_alertDlg,t[1]=this.m_confirmDlg,t[2]=this.m_preloaderUI,t},t.prototype.saveVisibleStates=function(){this.m_visibilityTempArr=new Array;var t,e=this.getAllPlugins();for(t=0;t<e.length;++t)this.m_visibilityTempArr[t]=e[t].isVisible()},t.prototype.getVisibleStates=function(){return this.m_visibilityTempArr},t.prototype.getDlgLayer=function(){return null},t.prototype.getNotiLayer=function(){return null},t.prototype.disableForNoti=function(){},t.prototype.resumeAfterNoti=function(){},t.prototype.showAlert=function(t,e){var i=(this.getVisibleStates(),this._getAlertDlg());null!=e&&i.setCloseListener(e),i.setContent(t),i.showDlg()},t.prototype.showConfirm=function(t,e){var i=this._getConfirmDlg();i.setCloseListener(e),i._setContent(t),this._getConfirmDlg().showDlg()},t.prototype.setCaRat=function(t){},t.prototype.getCaRat=function(){return 1},t.prototype.isVisible=function(){return!0},t.prototype.show=function(){var t,e=this.getAllPlugins();for(t=0;t<e.length;++t)this.m_visibilityTempArr&&this.m_visibilityTempArr[t]?e[t].show():e[t].hide()},t.prototype.hide=function(){this.saveVisibleStates();var t,e=this.getAllPlugins();for(t=0;t<e.length;++t)e[t].hide()},t.prototype.applyFunc=function(t,e){},t}();__reflect(CUIContainer.prototype,"CUIContainer",["IUIContainer","INotiParent","gdeint.IHidable"]);var CCommonEyelenPraScene=function(t){function e(){var e=t.call(this)||this;return e.m_NoImgMode=!1,e.m_scrMask=new egret.Rectangle,e.m_dlgLayer=new egret.DisplayObjectContainer,e.m_notiLayer=new egret.DisplayObjectContainer,e.m_notiLayerBg=new egret.Shape,e.recoverNotiLayerBg(),e.m_notiLayer.visible=!1,e.m_notiLayer.addChild(e.m_notiLayerBg),e}return __extends(e,t),e.prototype.startNewPra=function(){window.alert("startNewPra run terribly!")},e.prototype.setWinWidth=function(t){this.m_winWidth=t},e.prototype.setWinHeight=function(t){this.m_winHeight=t},e.prototype.createScene=function(){this.m_scrMask.x=0,this.m_scrMask.y=0,this.m_scrMask.width=this.m_winWidth,this.m_scrMask.height=this.m_winHeight,this.mask=this.m_scrMask},e.prototype.getPM=function(){return null},e.prototype.setLenArr=function(t){window.alert("Len arr set terribly!!Length:"+t.length)},e.prototype.getCurPicTag=function(){return-1},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.isVisible=function(){return this.visible},e.prototype.disableScene=function(){this.m_notiLayer.visible=!0,this.enabled=!1},e.prototype.enableScene=function(){this.m_notiLayer.visible=!1,this.enabled=!0},e.prototype._setParentContainer=function(t){this.m_parentContainer=t},e.prototype._getParentContainer=function(){return this.m_parentContainer},e.prototype.disableForNoti=function(){this.disableScene()},e.prototype.resumeAfterNoti=function(){this.enableScene()},e.prototype.applyFunc=function(t,e){window.alert("applying func!")},e.prototype.getDlgLayer=function(){return CDiv2EgretDispOCAdapter.from(this.m_dlgLayer)},e.prototype.getNotiLayer=function(){return CDiv2EgretDispOCAdapter.from(this.m_notiLayer)},e.prototype.getParentContainer=function(){return window.alert("Error! Illegal way to get parent container!!"),null},e.prototype.brightenNotiLayerBgRect=function(t){this.m_notiLayerBg.graphics.clear(),this.m_notiLayerBg.graphics.beginFill(11184810,.6),this.m_notiLayerBg.graphics.drawRect(0,0,g_winWidth,t.m_top),this.m_notiLayerBg.graphics.drawRect(0,t.m_top,t.m_left,t.m_height),this.m_notiLayerBg.graphics.drawRect(t.m_left+t.m_width,t.m_top,g_winWidth-(t.m_left+t.m_width),t.m_height),this.m_notiLayerBg.graphics.drawRect(0,t.m_top+t.m_height,g_winWidth,g_winHeight-(t.m_top+t.m_height)),this.m_notiLayerBg.graphics.endFill()},e.prototype.recoverNotiLayerBg=function(){this.m_notiLayerBg.graphics.clear(),this.m_notiLayerBg.graphics.beginFill(11184810,.4),this.m_notiLayerBg.graphics.drawRect(0,0,g_winWidth,g_winHeight),this.m_notiLayerBg.graphics.endFill()},e.prototype.sendMsg=function(t,e){return console.log("Error! sendMsg in super classes called as not implemented in sub class!"),null},e}(eui.Component);__reflect(CCommonEyelenPraScene.prototype,"CCommonEyelenPraScene",["IEyelenPraScene","IScene","gdeint.IHidable","INotiParent","IContainerPlugin","IWithMsgHandling"]);var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_squareTag=1,e.m_squareChCntTotal=1,e.m_squareChCntLeft=1,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.caliSquare.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSquareTap,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtn,this),this.m_rippleCircle=new egret.Bitmap,this.m_rippleCircle.width=20,this.m_rippleCircle.height=20,this.m_rippleCircle.x=this.caliSquare.x+this.caliSquare.width/2-10,this.m_rippleCircle.y=this.caliSquare.y+this.caliSquare.height/2-10,this.m_rippleCircle.texture=RES.getRes("rippleCircle_png"),this.addChild(this.m_rippleCircle);var e=egret.Tween.get(this.m_rippleCircle,{loop:!0});e.to({x:this.caliSquare.x+5,y:this.caliSquare.y+5,width:150,height:150,alpha:.4},200).to({alpha:0},100).wait(1500)},e.prototype.onSquareTap=function(t){if(--this.m_squareChCntLeft,this.m_squareChCntLeft<=0){this.m_squareTag=this.m_squareTag%3+1;var e;e="square"+this.m_squareTag+"_png",this.caliSquare.source=e,this.m_squareTag<=1&&++this.m_squareChCntTotal,this.m_squareChCntLeft=this.m_squareChCntTotal}},e.prototype.onCloseBtn=function(){this.visible=!1},e}(eui.Component);t.CHorverCheckPanel=e,__reflect(e.prototype,"eyelen4.CHorverCheckPanel")}(eyelen4||(eyelen4={}));var CCaliCloseBtn=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){},e}(eui.Button);__reflect(CCaliCloseBtn.prototype,"CCaliCloseBtn");var g2_pcnt=0,g2_mcnt=0,eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_caliImgTag=1,e.m_caRate=1,e.m_autoUpdateFromCaliField=!0,e.m_caliPresenter=new CCaliPresenterAdapter,e.m_caliPresenter.setInitA1(e.m_caRate),e}return __extends(e,t),e.prototype._setParentContainer=function(t){this.m_parentContainer=t,this._getParentContainer().getDlgLayer().addChild(CDispObj2EgretDOAdapter.from(this))},e.prototype._getParentContainer=function(){return this.m_parentContainer},e.prototype._setCloseListener=function(t){this.m_closeListener=t},e.prototype._closeDlg=function(){this.visible=!1,this.m_closeListener&&this.m_closeListener(!1)},e.prototype.setSceneRect=function(t,e,i,r){this.x=t+(i-400)/2,this.y=e+(r-580)/5*2},e.prototype.childrenCreated=function(){this.OKBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onOK,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.cancelBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.plusBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onPlusTchBegin,this),this.plusBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.onPlusTchEnd,this),this.plusBtn.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onPlusTchEnd,this),this.minusBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMinusTchBegin,this),this.minusBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.onMinusTchEnd,this),this.minusBtn.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onMinusTchEnd,this),this.undoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onUndo,this),this.redoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRedo,this),this.caliRateField.addEventListener(egret.Event.CHANGE,this.onCaliRateFieldChange,this),this.caliSquareCover.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCaliSquareCoverTap,this),this.chCaliImgBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCaliImgBtnTap,this),this.lockCB.addEventListener(egret.Event.CHANGE,this.onlockCBChanged,this),this.refreshCaRateField(),this.m_plusTimer=new egret.Timer(200,0),this.m_minusTimer=new egret.Timer(200,0)},e.prototype.getCaliRat=function(){return this.m_caRate},e.prototype.getSquareWidth=function(){return this.m_squareWidth},e.prototype.setSquareWidth=function(t){this.m_squareWidth=t,this.caliSquare.width=t,this.caliImg.width=t},e.prototype.refreshCaRateField=function(){this.m_autoUpdateFromCaliField=!1,this.caliRateField.text=this.m_caRate.toString(),this.m_autoUpdateFromCaliField=!0,this.setSquareWidth(this.caliSquare.height*this.m_caRate)},e.prototype.onCaliSquareCoverTap=function(t){this.m_locked||(this.setSquareWidth(t.stageX-(this.caliSquareCover.x+this.x)),this.m_caRate=this.caliSquare.width/this.caliSquare.height,this.caliRateField.text=this.m_caRate.toString(),this.m_caliPresenter.inputA1(this.m_caRate),this.m_caliPresenter.recA1())},e.prototype.onCaliRateFieldChange=function(t){if(this.m_autoUpdateFromCaliField&&gdeint.EintValidators.CaRatValidator.validate(t.target.text)){var e=gdeint.EintParsers.CaRatParser.parseFloat(t.target.text);e>1.8&&(e=1.8),this.m_caliPresenter.inputA1(e),Math.abs(this.m_caRate-this.m_caliPresenter.getA1())>1e-6&&this.m_caliPresenter.recA1(),this.m_caRate=e,this.setSquareWidth(this.caliSquare.height*e)}},e.prototype.onlockCBChanged=function(t){t.target.selected?(this.m_locked=!0,this.caliRateField.enabled=!1):(this.m_locked=!1,this.caliRateField.enabled=!0)},e.prototype.onCaliImgBtnTap=function(t){this.m_caliImgTag=this.m_caliImgTag%3+1,this.caliImg.source="square"+this.m_caliImgTag+"_png",g_isSndOn&&playBtnSnd()},e.prototype.onOK=function(){this.visible=!1,this._getParentContainer().setCaRat(this.getCaliRat());var t=new Array;t[0]=!0,this._getParentContainer().applyFunc(this.m_closeListener,t)},e.prototype.onClose=function(){this.visible=!1;var t=new Array;t[0]=!1,this._getParentContainer().applyFunc(this.m_closeListener,t)},e.prototype.onPlusTimer=function(){this.m_caRate>=1.8||(this.m_caRate+=.01,g2_pcnt++,g2_pcnt>10&&(this.m_caRate+=.09),this.refreshCaRateField(),3==g2_pcnt%5&&(this.m_caliPresenter.inputA1(this.m_caRate),this.m_caliPresenter.recA1()))},e.prototype.onPlusTchEnd=function(){g2_pcnt=0,this.m_plusTimer.stop(),this.m_caliPresenter.inputA1(this.m_caRate),this.m_caliPresenter.recA1()},e.prototype.onPlusTchBegin=function(){this.m_locked||this.m_caRate>=1.8||(this.m_caRate+=.01,g2_pcnt++,this.refreshCaRateField(),this.m_plusTimer.stop(),this.m_plusTimer.addEventListener(egret.TimerEvent.TIMER,this.onPlusTimer,this),this.m_plusTimer.start())},e.prototype.onMinusTimer=function(){this.m_caRate-=.01,g2_mcnt++,g2_mcnt>10&&(this.m_caRate-=.09),this.m_caRate<0&&(this.m_caRate=1e-5),this.refreshCaRateField(),3==g2_pcnt%5&&(this.m_caliPresenter.inputA1(this.m_caRate),this.m_caliPresenter.recA1())},e.prototype.onMinusTchBegin=function(){this.m_locked||(this.m_caRate-=.01,g2_mcnt++,this.m_caRate<0&&(this.m_caRate=1e-5),this.refreshCaRateField(),this.m_minusTimer.stop(),this.m_minusTimer.addEventListener(egret.TimerEvent.TIMER,this.onMinusTimer,this),this.m_minusTimer.start())},e.prototype.onMinusTchEnd=function(){g2_mcnt=0,this.m_minusTimer.stop(),this.m_caliPresenter.inputA1(this.m_caRate),this.m_caliPresenter.recA1()},e.prototype.onUndo=function(){this.m_caliPresenter.undoA1();var t=this.m_caliPresenter.getA1();this.m_caRate=t,this.m_autoUpdateFromCaliField=!1,this.caliRateField.text=t.toString(),this.m_autoUpdateFromCaliField=!0,this.setSquareWidth(this.caliSquare.height*t)},e.prototype.onRedo=function(){this.m_caliPresenter.redoA1();var t=this.m_caliPresenter.getA1();this.m_caRate=t,this.m_autoUpdateFromCaliField=!1,this.caliRateField.text=t.toString(),this.m_autoUpdateFromCaliField=!0,this.setSquareWidth(this.caliSquare.height*t)},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.isVisible=function(){return this.visible},e}(eui.Component);t.CCaliDlg=e,__reflect(e.prototype,"eyelen4.CCaliDlg",["ICaliDlgPlugin","ICaliDlg","gdeint.IHidable","IContainerPlugin"])}(eyelen4||(eyelen4={}));var CCaliPresenterAdapter=function(){function t(){this.m_icp=new Basic_CaliPresenter}return t.prototype.setInitA1=function(t){this.m_icp.setInitA1(t)},t.prototype.lock=function(){this.m_icp.lock()},t.prototype.unlock=function(){this.m_icp.unlock()},t.prototype.getA1=function(){return this.m_icp.getA1()},t.prototype.inputA1=function(t){this.m_icp.inputA1(t)},t.prototype.undoA1=function(){this.m_icp.undoA1()},t.prototype.redoA1=function(){this.m_icp.redoA1()},t.prototype.recA1=function(){this.m_icp.recA1()},t}();__reflect(CCaliPresenterAdapter.prototype,"CCaliPresenterAdapter",["ICaliPresenter"]);var eyelen4;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(eui.Button);t.CCloseBtn=e,__reflect(e.prototype,"eyelen4.CCloseBtn")}(eyelen4||(eyelen4={}));var CEyelen4HTTPSResUrlFinder=function(){function t(){}return t.prototype.setInp=function(t){this.m_inpStr=t},t.prototype.getResult=function(){var t,e,i;return this.m_inpStr.indexOf(".gif")>=0||this.m_inpStr.indexOf("_gif")>=0||this.m_inpStr.indexOf("img")>=0?(i=parseInt(this.m_inpStr.substr(4,3)),e="",e=10>i?"00"+i.toString():100>i?"0"+i.toString():""+i.toString(),t="https://www.gdeint.cn/HTTPSExports/wechat/Eyelen/Eyelen4_Wechat/pics/Eyelen/getImgCrossDomain.php?tag=",t+=e):(i=this.m_inpStr.indexOf(".json")>=0?parseInt(this.m_inpStr.substr(3,3)):parseInt(this.m_inpStr),e="",e=10>i?"00"+i.toString():100>i?"0"+i.toString():""+i.toString(),t="https://www.gdeint.cn/HTTPSExports/wechat/Eyelen/Eyelen4_Wechat/pics/Eyelen/getPicCrossDomain.php?tag=",t+=e),t},t}();__reflect(CEyelen4HTTPSResUrlFinder.prototype,"CEyelen4HTTPSResUrlFinder",["IEyelen4ResNameFinder","IFinder"]);var CEyelen4ResNameFinder=function(){function t(){}return t.prototype.setInp=function(t){this.m_inpStr=t},t.prototype.getResult=function(){var t,e;return this.m_inpStr.indexOf(".gif")>=0||this.m_inpStr.indexOf("_gif")>=0?(e=parseInt(this.m_inpStr.substr(4,3)),t=10>e?"img_00"+e.toString():100>e?"img_0"+e.toString():"img_"+e.toString(),t+="_gif"):this.m_inpStr.indexOf(".png")>=0||this.m_inpStr.indexOf("_png")>=0||this.m_inpStr.indexOf("img")>=0?(e=parseInt(this.m_inpStr.substr(4,3)),t=10>e?"img_00"+e.toString():100>e?"img_0"+e.toString():"img_"+e.toString(),t+="_png"):(e=this.m_inpStr.indexOf(".json")>=0?parseInt(this.m_inpStr.substr(3,3)):parseInt(this.m_inpStr),t=10>e?"pic00"+e.toString():100>e?"pic0"+e.toString():"pic"+e.toString(),t+="_json"),t},t}();__reflect(CEyelen4ResNameFinder.prototype,"CEyelen4ResNameFinder",["IEyelen4ResNameFinder","IFinder"]);var CLenCheckerDifficult=function(){function t(){this.m_renderFilter=new CEyelen3ERenderFilter}return t.prototype.setRenderFilter=function(t){this.m_renderFilter=t},t.prototype.setCorreOriLen=function(t){this.m_correOriLen=t},t.prototype.setInputDispLen=function(t){this.m_inputDispLen=t},t.prototype.checkLen=function(){var t;t=0;var e,i,r;return e=this.m_renderFilter.xOConv(this.m_correOriLen),i=this.m_inputDispLen,r=Math.abs(e-i),t=30>e?2>r?3:4>r?2:8>r?1:0:100>e?5>r?3:10>r?2:18>r?1:0:8>r?3:15>r?2:25>r?1:0},t}();__reflect(CLenCheckerDifficult.prototype,"CLenCheckerDifficult",["ILenCheckerDifficult","IPlainLenChecker","ILenChecker","ILenCheckerWithCa"]);var CLenCheckerEasy=function(){function t(){this.m_renderFilter=new CEyelen3ERenderFilter}return t.prototype.setRenderFilter=function(t){this.m_renderFilter=t},t.prototype.setGridDispWidth=function(t){this.m_gridDispWidth=t},t.prototype.getCorreGridCnt=function(){var t=this.m_renderFilter.xOConv(this.m_correOriLen),e=Math.ceil(t/this.m_gridDispWidth),i=Math.floor(t/this.m_gridDispWidth);return e==i?e:t/this.m_gridDispWidth>e+i?e:i},t.prototype.setCorreOriLen=function(t){this.m_correOriLen=t},t.prototype.setInputGridCnt=function(t){this.m_gridCnt=t},t.prototype.checkLen=function(){var t,e,i=this.m_renderFilter.xOConv(this.m_correOriLen),r=Math.abs(this.m_gridDispWidth*this.m_gridCnt-i),n=this.getCorreGridCnt();return 2*r<=this.m_gridDispWidth?3:(2>=n?(t=7,e=9):8>=n?(t=11,e=17):(t=17,e=29),10*r<=t*this.m_gridDispWidth?2:10*r<=e*this.m_gridDispWidth?1:0)},t}();__reflect(CLenCheckerEasy.prototype,"CLenCheckerEasy",["ILenCheckerEasy","IGridLenChecker","ILenChecker","ILenCheckerWithCa"]);var gdeint;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_cc=!1,e.visible=!1,e.x=0,e.y=0,e}return __extends(e,t),e.prototype.setParent=function(t){this.m_parent=t},e.prototype.getParent=function(){return this.m_parent},e.prototype.setCloseListener=function(t){this.m_closeListener=t},e.prototype.setContent=function(t){this.cc_content=t,this.m_cc&&(this.content.text=this.cc_content)},e.prototype.showDlg=function(){this.getParent()?(this.getParent().getNotiLayer().addChild(CDispObj2EgretDOAdapter.from(this)),this.getParent().getNotiLayer().show(),this.visible=!0,this.getParent().disableForNoti()):this.show()},e.prototype.setSceneRect=function(t,e,i,r){this.x=t+(i-300)/2,this.y=e+(r-300)/5*2},e.prototype._setParentContainer=function(t){this.m_parentContainer=t},e.prototype._getParentContainer=function(){return window.alert("Don't use _getParentContainer() here. Use getParent() instead."),this.m_parentContainer},e.prototype.childrenCreated=function(){this.m_cc=!0,this.content.text=this.cc_content,this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtn,this)},e.prototype.onCloseBtn=function(t){this.visible=!1,this.getParent()&&(this.getParent().getNotiLayer().hide(),this.getParent().applyFunc(this.m_closeListener,null),this.getParent().resumeAfterNoti())},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.isVisible=function(){return this.visible},e}(eui.Panel);t.CAlertPanel_v2=e,__reflect(e.prototype,"gdeint.CAlertPanel_v2",["IAlertDlg","INotification","IContainerPlugin","gdeint.IHidable"])}(gdeint||(gdeint={}));var CAlertPanelEvent=function(t){function e(e,i,r){return void 0===i&&(i=!1),void 0===r&&(r=!1),t.call(this,e,i,r)||this}return __extends(e,t),e.EVT_CLOSE="EVT_CLOSE",e}(egret.Event);__reflect(CAlertPanelEvent.prototype,"CAlertPanelEvent");var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_cc=!1,e.x=0,e.y=0,e.m_evtClose=new CBalloonTipEvent(CBalloonTipEvent.EVT_CLOSE),e}return __extends(e,t),e.prototype.childrenCreated=function(){this.m_cc=!0,this.content.text=this.cc_content,this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtn,this);var t=egret.Tween.get(this.arrow,{loop:!0});t.to({y:355},200).wait(300).to({y:345},200).wait(100)},e.prototype.onCloseBtn=function(t){this.close(),this.dispatchEvent(this.m_evtClose)},e.prototype.setContent=function(t){this.cc_content=t,this.m_cc&&(this.content.text=this.cc_content)},e}(eui.Panel);t.CBalloonTip=e,__reflect(e.prototype,"eyelen4.CBalloonTip")}(eyelen4||(eyelen4={}));var CBalloonTipEvent=function(t){function e(e,i,r){return void 0===i&&(i=!1),void 0===r&&(r=!1),t.call(this,e,i,r)||this}return __extends(e,t),e.EVT_CLOSE="EVT_CLOSE",e}(egret.Event);__reflect(CBalloonTipEvent.prototype,"CBalloonTipEvent");var gdeint;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_cc=!1,e.m_ret=!1,e.x=0,e.y=0,e}return __extends(e,t),e.prototype.setParent=function(t){this.m_parent=t},e.prototype.getParent=function(){return this.m_parent},e.prototype.setCloseListener=function(t){this.m_closeListener=t},e.prototype._setContent=function(t){this.m_content=t,this.m_cc&&(this.content.text=this.m_content)},e.prototype.showDlg=function(){this.title="确认";this.getParent().getNotiLayer().addChild(CDispObj2EgretDOAdapter.from(this)),this.getParent().getNotiLayer().show(),this.show(),this.getParent().disableForNoti(),this.addEventListener(CConfirmPanelEvent.EVT_CLOSE,this.m_closeListener,this.getParent())},e.prototype._getParentContainer=function(){return window.alert("Don't use _getParentContainer() here. Use getParent() instead."),this.m_parentContainer},e.prototype._setParentContainer=function(t){this.m_parentContainer=t},e.prototype.getResult=function(){return!1},e.prototype.setSceneRect=function(t,e,i,r){this.x=t+(i-400)/2,this.y=e+(r-280)/5*2},e.prototype.childrenCreated=function(){this.m_cc=!0,this.content.text=this.m_content,this.yesBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onYesBtn,this),this.noBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onNoBtn,this),this.m_bg=new egret.Shape,this.m_bg.graphics.beginFill(11184895),this.m_bg.graphics.drawRect(0,0,this.width,this.height),this.m_bg.graphics.endFill(),this.bgGrp.addChild(this.m_bg)},e.prototype.onYesBtn=function(t){this.m_ret=!0,this.getParent().getNotiLayer().hide(),this.close();var e=new Array;e[0]=this.m_ret,this.getParent().applyFunc(this.m_closeListener,e),this.getParent().resumeAfterNoti()},e.prototype.onNoBtn=function(t){this.m_ret=!1,this.getParent().getNotiLayer().hide(),this.close();var e=new Array;e[0]=this.m_ret,this.getParent().applyFunc(this.m_closeListener,e),this.getParent().resumeAfterNoti()},e.prototype.getRet=function(){return this.m_ret},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.isVisible=function(){return this.visible},e}(eui.Panel);t.CConfirmPanel=e,__reflect(e.prototype,"gdeint.CConfirmPanel",["IConfirmDlg","INotification","IContainerPlugin","gdeint.IHidable"])}(gdeint||(gdeint={}));var CConfirmPanelEvent=function(t){function e(e,i,r){return void 0===i&&(i=!1),void 0===r&&(r=!1),t.call(this,e,i,r)||this}return __extends(e,t),e.EVT_CLOSE="EVT_CLOSE",e}(egret.Event);__reflect(CConfirmPanelEvent.prototype,"CConfirmPanelEvent");var CPage2EuiAdapter=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.show=function(){t.prototype.show.call(this),this.m_adaptee.visible=!0},e.prototype.showOnFront=function(){t.prototype.showOnFront.call(this),this.m_adaptee.visible=!0},e.prototype.hide=function(){t.prototype.hide.call(this),this.m_adaptee.visible=!1},e}(gdeint.CPage);__reflect(CPage2EuiAdapter.prototype,"CPage2EuiAdapter");var CPage2EyelenPraContainerAdapter=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.show=function(){t.prototype.show.call(this),this.m_adaptee.show()},e.prototype.hide=function(){t.prototype.hide.call(this),this.m_adaptee.hide()},e}(gdeint.CPage);__reflect(CPage2EyelenPraContainerAdapter.prototype,"CPage2EyelenPraContainerAdapter");var CEyelen3EPraMachineDifficult=function(){function t(){this.m2_lastLenScore=0,this.m_lenArr=[],this.m_lenChecker=new CLenCheckerDifficult,this.m_imgPathList=[],this.m_curLenTag=0,this.m_curScore=0,this.m_lenInputted=!1,this.m_finished=!1}return t.prototype.clearPra=function(){this.m_lenArr=[],this.m_imgPathList=[],this.rePra()},t.prototype.setLenArr=function(t){this.m_lenArr=t,this.m_curLenTag=0},t.prototype.getLenChecker=function(){return this.m_lenChecker},t.prototype.refreshImgPathList=function(){var t,e;for(t=0;t<this.m_lenArr.length;++t){var i=this.m_lenArr[t].m_imgPath;for(e=0;e<this.m_imgPathList.length&&this.m_imgPathList[e]!=i;++e);this.m_imgPathList.length==e&&this.m_imgPathList.push(this.m_lenArr[t].m_imgPath)}},t.prototype.inpLen=function(t){if(!(this.m_curLenTag>=this.m_lenArr.length)){this.m_lenInputted=!0;var e,i=this.m_lenArr[this.m_curLenTag].m_length;switch(this.m_lenChecker.setInputDispLen(t),this.m_lenChecker.setCorreOriLen(i),e=this.m_lenChecker.checkLen()){case 0:break;case 1:this.m_curScore+=10;break;case 2:this.m_curScore+=20;break;case 3:this.m_curScore+=30}this.m2_lastLenRank=(this.getCurScore()-this.m2_lastLenScore)/10,this.m2_lastLenScore=this.getCurScore()}},t.prototype.nextLen=function(){this.m_lenInputted=!1,this.m_curLenTag<this.m_lenArr.length&&(++this.m_curLenTag,this.m_curLenTag>=this.m_lenArr.length&&(this.m_finished=!0))},t.prototype.startPra=function(){this.rePra()},t.prototype.rePra=function(){this.m_curLenTag=0,this.m_curScore=0,this.m_lenInputted=!1,this.m_finished=!1,this.m2_lastLenScore=0},t.prototype.getCurElemTag=function(){return this.m_curLenTag},t.prototype.getCmplProgress=function(){return this.m_lenInputted?this.m_curLenTag+1:this.m_curLenTag},t.prototype.getCurLen=function(){return this.m_lenArr[this.m_curLenTag]},t.prototype.getCurScore=function(){return this.m_curScore},t.prototype.getCurImgTag=function(){var t;if(this.m_finished)return-1;if(this.m_curLenTag<0)return-1;for(t=0;t<this.m_imgPathList.length;++t)if(gdeint.tailContain(this.m_imgPathList[t],this.m_lenArr[this.m_curLenTag].m_imgPath))return t;return-1},t.prototype.getLastLenRank=function(){return this.m2_lastLenRank},t}();__reflect(CEyelen3EPraMachineDifficult.prototype,"CEyelen3EPraMachineDifficult",["IPlainLenPraMachine","ILenPraMachine","IPraMachine"]);var CEyelen3EPraMachineEasy=function(){function t(){this.m2_lastLenScore=0,this.m_lenArr=[],this.m_lenChecker=new CLenCheckerEasy,this.m_lenChecker.setGridDispWidth(30),this.m_imgPathList=[],this.m_curLenTag=0,this.m_curScore=0,this.m_lenInputted=!1,this.m_finished=!1}return t.prototype.clearPra=function(){this.m_lenArr=[],this.m_imgPathList=[],this.rePra()},t.prototype.setLenArr=function(t){this.m_lenArr=t,this.m_curLenTag=0},t.prototype.setGridDispWidth=function(t){this.m_lenChecker.setGridDispWidth(t)},t.prototype.getLenChecker=function(){return this.m_lenChecker},t.prototype.refreshImgPathList=function(){var t,e;for(t=0;t<this.m_lenArr.length;++t){var i=this.m_lenArr[t].m_imgPath;for(e=0;e<this.m_imgPathList.length&&this.m_imgPathList[e]!=i;++e);this.m_imgPathList.length==e&&this.m_imgPathList.push(this.m_lenArr[t].m_imgPath)}},t.prototype.inpGridCnt=function(t){if(!(this.m_curLenTag>=this.m_lenArr.length)){this.m_lenInputted=!0;var e,i=this.m_lenArr[this.m_curLenTag].m_length;switch(this.m_lenChecker.setInputGridCnt(t),this.m_lenChecker.setCorreOriLen(i),e=this.m_lenChecker.checkLen()){case 0:break;case 1:this.m_curScore+=10;break;case 2:this.m_curScore+=20;break;case 3:this.m_curScore+=30
}this.m2_lastLenRank=(this.getCurScore()-this.m2_lastLenScore)/10,this.m2_lastLenScore=this.getCurScore()}},t.prototype.nextLen=function(){this.m_lenInputted=!1,this.m_curLenTag<this.m_lenArr.length&&(++this.m_curLenTag,this.m_curLenTag>=this.m_lenArr.length&&(this.m_finished=!0))},t.prototype.startPra=function(){this.rePra()},t.prototype.rePra=function(){this.m_curLenTag=0,this.m_curScore=0,this.m_lenInputted=!1,this.m_finished=!1,this.m2_lastLenScore=0},t.prototype.getCurElemTag=function(){return this.m_curLenTag},t.prototype.getCmplProgress=function(){return this.m_lenInputted?this.m_curLenTag+1:this.m_curLenTag},t.prototype.getCurLen=function(){return this.m_lenArr[this.m_curLenTag]},t.prototype.getCurScore=function(){return this.m_curScore},t.prototype.getCurImgTag=function(){var t;if(this.m_finished)return-1;if(this.m_curLenTag<0)return-1;for(t=0;t<this.m_imgPathList.length;++t)if(gdeint.tailContain(this.m_imgPathList[t],this.m_lenArr[this.m_curLenTag].m_imgPath))return t;return-1},t.prototype.getLastLenRank=function(){return this.m2_lastLenRank},t}();__reflect(CEyelen3EPraMachineEasy.prototype,"CEyelen3EPraMachineEasy",["IGridLenPraMachine","ILenPraMachine","IPraMachine"]);var CNoUIPreloaderUI=function(){function t(){this.m_noTaskLeft=!1,this.m_curTaskTag=0,this.m_proporFinished=0,this.m_taskList=new Array,this.m_preloader=new CPreloader}return t.prototype.setPreloader=function(t){this.m_preloader=t},t.prototype.setCompleteListener=function(t,e){this.m_cmplListener=t,this.m_cmplThisObj=e},t.prototype.setNextActListener=function(t,e){},t.prototype.addTask=function(t){this.m_taskList.push(t)},t.prototype.setNoTaskLeft=function(t){this.m_noTaskLeft=t},t.prototype._setParentContainer=function(t){this.m_parentContainer=t},t.prototype._getParentContainer=function(){return this.m_parentContainer},t.prototype.showUI=function(){},t.prototype.hideUI=function(){},t.prototype.setSceneRect=function(t,e,i,r){},t.prototype.startPreload=function(){this.preloadCurTask()},t.prototype.preloadCurTask=function(){var t;if(t=this.m_taskList[this.m_curTaskTag]){var e,i=new Array;for(e=0;e<t.m_resList.length;++e)i[e]=t.m_resList[e].m_resName;this.m_preloader.setResList(i),this.m_preloader.setCompleteListener(this.onOneTaskComplete,this),this.m_preloader.preload()}},t.prototype.setProgressListener=function(t,e){this.m_upperProgressListener=t,this.m_upperProgressThisObj=e,this.m_upperProgressListener||window.alert("Null!!"),this.m_preloader.setProgressListener(this.onProgressListener,this)},t.prototype.onProgressListener=function(t,e){var i,r=this.m_taskList[this.m_curTaskTag],n=0;for(i=0;i<=this.m_curTaskTag-1;++i)n+=this.m_taskList[i].m_proportion;this.m_proporFinished=n+r.m_proportion*t/e,this.m_proporFinished>100&&(this.m_proporFinished=100);var s=new Array;s[0]=this.m_proporFinished,s[1]=100,this.m_upperProgressListener.apply(this.m_upperProgressThisObj,s)},t.prototype.onOneTaskComplete=function(){++this.m_curTaskTag,this.m_curTaskTag<=this.m_taskList.length-1?this.preloadCurTask():(this.m_proporFinished>=100||this.m_noTaskLeft)&&this.m_cmplListener.apply(this.m_cmplThisObj)},t.prototype.clearProgress=function(){this.m_taskList=[],this.m_proporFinished=0,this.m_curTaskTag=0},t.prototype.show=function(){this.showUI()},t.prototype.hide=function(){this.hideUI()},t.prototype.isVisible=function(){return!1},t}();__reflect(CNoUIPreloaderUI.prototype,"CNoUIPreloaderUI",["IPreloaderUI","IContainerPlugin","gdeint.IHidable"]);var CPreloader=function(){function t(){this.m2_localResLoadComplete=!0,this.m2_httpsResLoadComplete=!0,this.m2_HTTPSStartPreloadTag=-1}return t.prototype.setResList=function(t){this.m2_httpsResList=[],this.m2_localResList=[];var e,i=new Array;for(e=0;e<t.length;++e)""!=t[e]&&(t[e].indexOf("https")>=0?this.m2_httpsResList.push(t[e]):this.m2_localResList.push(t[e]),i.push(t[e]));this.m2_httpsResLeftCnt=this.m2_httpsResList.length,this.m_resList=i},t.prototype.setCompleteListener=function(t,e){this.m_completeListener=t,this.m_completeThisObj=e},t.prototype.setProgressListener=function(t,e){this.m_progressListener=t,this.m_progressThisObj=e},t.prototype.genGroupName=function(){var t,e=Math.round(1+9998*Math.random()),i="";return i=10>e?"000"+e:100>e?"00"+e:1e3>e?"0"+e:""+e,t="RandomGroup"+(new Date).Format("yyyyMMddhhmmss")+i},t.prototype.f2_loadHTTPSRes=function(){var t;if(t=this.m2_HTTPSStartPreloadTag,0>t||t>this.m2_httpsResList.length-1)console.log("Err");else{++this.m2_HTTPSStartPreloadTag;var e=this.m2_httpsResList[t];g_resCache[e]=new CHTTPSResStru,g_resCache[e].setUrl(e),e.indexOf("img")>0||e.indexOf("getImgCrossDomain.php")>0?g_resCache[e].setResType(RES.ResourceItem.TYPE_IMAGE):(e.indexOf("pic")>0||e.indexOf("getPicCrossDomain.php")>0)&&g_resCache[e].setResType(RES.ResourceItem.TYPE_JSON),g_resCache[e].setOnPreloadCmpl(this.onHttpsResLoadComplete,this),g_resCache[e].preload()}},t.prototype.preload=function(){if(this.m2_localResList.length<=0&&this.m2_httpsResList.length<=0&&this.m_completeListener.apply(this.m_completeThisObj),this.m2_localResList.length>0){RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceLoadProgress,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),this.m2_localResLoadComplete=!1;var t=this.m2_localResList,e=this.genGroupName();RES.createGroup(e,t),RES.loadGroup(e)}else this.m2_localResLoadComplete=!0;if(this.m2_httpsResList.length>0){this.m2_httpsResLoadComplete=!1,this.m2_HTTPSStartPreloadTag=0;var i=500,r=new egret.Timer(i,this.m2_httpsResList.length);r.addEventListener(egret.TimerEvent.TIMER,this.f2_loadHTTPSRes,this),r.start()}else this.m2_httpsResLoadComplete=!0},t.prototype.onResourceLoadProgress=function(t){var e=new Array;e[0]=2*t.itemsLoaded,e[1]=2*this.m2_localResList.length+5*this.m2_httpsResList.length,this.m_progressListener.apply(this.m_progressThisObj,e)},t.prototype.onResourceLoadComplete=function(t){if(RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceLoadProgress,this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),this.m2_localResLoadComplete=!0,this.m2_httpsResLoadComplete){var e;e=2*this.m2_localResList.length+5*this.m2_httpsResList.length;var i=new Array;i[0]=100,i[1]=100,this.m_progressListener.apply(this.m_progressThisObj,i),this.m_completeListener.apply(this.m_completeThisObj)}this.m2_localResList=[]},t.prototype.onHttpsResLoadComplete=function(t){if(--this.m2_httpsResLeftCnt,0>=this.m2_httpsResLeftCnt)if(this.m2_httpsResLoadComplete=!0,this.m2_HTTPSStartPreloadTag=-1,this.m2_localResLoadComplete){var e;e=2*this.m2_localResList.length+5*this.m2_httpsResList.length;var i=new Array;i[0]=100,i[1]=100,this.m_progressListener.apply(this.m_progressThisObj,i),this.m2_httpsResList=[],this.m_completeListener.apply(this.m_completeThisObj)}else this.m2_httpsResList=[]},t.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceLoadProgress,this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this)},t}();__reflect(CPreloader.prototype,"CPreloader",["IPreloader"]);var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_noUIPreloaderUI=new CNoUIPreloaderUI,e.m_noUIPreloaderUI.setProgressListener(e.onProgressListener,e),e.x=0,e.y=0,e.m_nextActTimer=new egret.Timer(2e3,1),e}return __extends(e,t),e.prototype.setPreloader=function(t){this.m_noUIPreloaderUI.setPreloader(t)},e.prototype.setCompleteListener=function(t,e){this.m_cmplListener=t,this.m_cmplThisObj=e,this.m_noUIPreloaderUI.setCompleteListener(this.onPreloadComplete,this)},e.prototype.onPreloadComplete=function(){this.m_noUIPreloaderUI.m_proporFinished>=100&&(this.readyLabel.visible=!0,this.m_nextActTimer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onNextActTimer,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onScrTch,this),this.m_nextActTimer.start()),this.m_cmplListener.apply(this.m_cmplThisObj)},e.prototype.takeNextAct=function(){this.m_nextActListener.apply(this.m_nextActThisObj),this.m_nextActTimer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onNextActTimer,this),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onScrTch,this)},e.prototype.onNextActTimer=function(t){this.takeNextAct()},e.prototype.onScrTch=function(t){this.takeNextAct()},e.prototype.setNextActListener=function(t,e){this.m_nextActListener=t,this.m_nextActThisObj=e},e.prototype._setParentContainer=function(t){this.m_noUIPreloaderUI._setParentContainer(t)},e.prototype._getParentContainer=function(){return this.m_noUIPreloaderUI._getParentContainer()},e.prototype.addTask=function(t){this.m_noUIPreloaderUI.addTask(t)},e.prototype.setNoTaskLeft=function(t){this.m_noUIPreloaderUI.setNoTaskLeft(t)},e.prototype.setSceneRect=function(t,e,i,r){this.x=t+(i-400)/2,this.y=e+(r-300)/5*2},e.prototype.startPreload=function(){this.m_noUIPreloaderUI.startPreload()},e.prototype.clearProgress=function(){this.m_noUIPreloaderUI.clearProgress(),this.readyLabel.visible=!1,this.cmplPropor.text="0.0%"},e.prototype.onProgressListener=function(){this.cmplPropor.text=this.m_noUIPreloaderUI.m_proporFinished.toFixed(2)+"%"},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.isVisible=function(){return this.visible},e}(eui.Component);t.CPreloaderUI=e,__reflect(e.prototype,"eyelen4.CPreloaderUI",["IPreloaderUI","IContainerPlugin","gdeint.IHidable"])}(eyelen4||(eyelen4={}));var CEyelen4PraDifficultPresenter=function(){function t(){this.s_thumbAreax=25,this.s_thumbAreay=0,this.s_thumbAreaWidth=178,this.s_thumbAreaHeight=160,this.s_thMaxWidth=150,this.s_thMaxHeight=120,this.m_visibleStartY=0,this.m_userLen=0,this.m_pm=new CEyelen3EPraMachineDifficult,this.m_itm=new gdeint.ImgThumbModelV2,this.m_itm.setThMaxWidth(this.s_thMaxWidth),this.m_itm.setThMaxHeight(this.s_thMaxHeight),this.m_imgSelRect=new gdeint.CRect,this.m_imgSelPtOri=new gdeint.CPoint,this.m_renderFilter=new CNoChangeRenderFilter,this.m_lenDispPtsRects=new CLenPtsRects}return t.prototype.bindPM=function(t){this.m_pm=t},t.prototype.unbindPM=function(){this.m_pm=null},t.prototype.allFieldsFilled=function(){return isNaN(this.m_winWidth)?!1:isNaN(this.m_winHeight)?!1:isNaN(this.m_imgWidth)?!1:isNaN(this.m_imgHeight)?!1:null==this.m_imgSelRect?!1:isNaN(this.m_imgSelRect.m_left)?!1:isNaN(this.m_imgSelRect.m_top)?!1:isNaN(this.m_imgSelRect.m_width)?!1:isNaN(this.m_imgSelRect.m_height)?!1:isNaN(this.m_thAreaWidth)?!1:isNaN(this.m_thAreaHeight)?!1:isNaN(this.m_score)?!1:isNaN(this.m_progress)?!1:null==this.m_len?!1:isNaN(this.m_len.m_length)?!1:isNaN(this.m_len.m_x)?!1:isNaN(this.m_len.m_y)?!1:null==this.m_len.m_imgPath?!1:null==this.m_len.m2_imgResName?!1:isNaN(this.m_userLen)?!1:!0},t.prototype.setITM=function(t){this.m_itm=t},t.prototype.s_setThumbAreaX=function(t){this.s_thumbAreax=t},t.prototype.s_setThumbAreaY=function(t){this.s_thumbAreay=t},t.prototype.s_setThumbAreaWidth=function(t){this.s_thumbAreaWidth=t},t.prototype.s_setThumbAreaHeight=function(t){this.s_thumbAreaHeight=t},t.prototype.s_setThMaxWidth=function(t){this.s_thMaxWidth=t,this.m_itm.setThMaxWidth(this.s_thMaxWidth)},t.prototype.s_setThMaxHeight=function(t){this.s_thMaxHeight=t,this.m_itm.setThMaxHeight(this.s_thMaxHeight)},t.prototype.setRenderFilter=function(t){this.m_renderFilter=t,this.m_pm.getLenChecker().setRenderFilter(t)},t.prototype.getRenderFilter=function(){return this.m_renderFilter},t.prototype.calcuLenPtsRects=function(t){var e;return e=new CLenPtsRects,t.m_isHor?(e.m_lenEdge1DispRect.m_left=this.m_renderFilter.xOConv(t.m_x)-5,e.m_lenEdge1DispRect.m_top=t.m_y-30,e.m_lenEdge1DispRect.m_width=5,e.m_lenEdge1DispRect.m_height=60):(e.m_lenEdge1DispRect.m_left=this.m_renderFilter.xOConv(t.m_x)-30,e.m_lenEdge1DispRect.m_top=t.m_y-5,e.m_lenEdge1DispRect.m_width=60,e.m_lenEdge1DispRect.m_height=5),t.m_isHor?(e.m_lenEdge2DispRect.m_left=this.m_renderFilter.xOConv(t.m_x+t.m_length),e.m_lenEdge2DispRect.m_top=t.m_y,e.m_lenEdge2DispRect.m_width=5,e.m_lenEdge2DispRect.m_height=60):(e.m_lenEdge2DispRect.m_left=this.m_renderFilter.xOConv(t.m_x)-30,e.m_lenEdge2DispRect.m_top=t.m_y+t.m_length,e.m_lenEdge2DispRect.m_width=60,e.m_lenEdge2DispRect.m_height=5),t.m_isHor?(e.m_lenQuestionerDispPt.m_x=this.m_renderFilter.xOConv(t.m_x)+this.m_renderFilter.xOConv(t.m_length/2)-10,e.m_lenQuestionerDispPt.m_y=t.m_y-20):(e.m_lenQuestionerDispPt.m_x=this.m_renderFilter.xOConv(t.m_x)-10,e.m_lenQuestionerDispPt.m_y=t.m_y+t.m_length/2-20),e.m_lenQuestionerFontSize=36,e},t.prototype.refreshLenPtsRects=function(){this.m_len&&(this.m_lenDispPtsRects=this.calcuLenPtsRects(this.m_len))},t.prototype.updateFromPM=function(){this.m_score=this.m_pm.getCurScore(),this.m_len=this.m_pm.getCurLen(),this.refreshLenPtsRects()},t.prototype.submitToPM=function(){},t.prototype.clearTempData=function(){},t.prototype.nextLen=function(){this.m_pm.nextLen(),this.getProgress()>=10?this.setState(2):this.setState(0)},t.prototype.fillScore=function(t){this.m_score=t},t.prototype.getScore=function(){return this.m_score},t.prototype.fillProgress=function(t){this.m_progress=t},t.prototype.getProgress=function(){return this.m_progress},t.prototype.getLen=function(){return this.m_len},t.prototype.getCurRank=function(){return this.m_curRank},t.prototype.setWinWidth=function(t){this.m_winWidth=t,this.m_imgSelRect.m_width=t,this.m_itm.setImgSelRect(this.m_imgSelRect)},t.prototype.setWinHeight=function(t){this.m_winHeight=t},t.prototype.setImgWidth=function(t){this.m_imgWidth=t,this.m_imgDispWidth=this.m_renderFilter.xOConv(t),this.m_itm.setImgWidth(this.m_imgDispWidth)},t.prototype.getImgWidth=function(){return this.m_imgWidth},t.prototype.setImgHeight=function(t){this.m_imgHeight=t,this.m_itm.setImgHeight(t)},t.prototype.getImgHeight=function(){return this.m_imgHeight},t.prototype.inpImgSelPt=function(t){var e=new gdeint.CRect;e.m_left=t.m_x,e.m_top=t.m_y,e.m_width=this.m_imgSelRect.m_width,e.m_height=this.m_imgSelRect.m_height,this.m_imgSelRect=e,this.m_itm.setImgSelRect(this.m_imgSelRect),this.m_imgSelPtOri.m_x=t.m_x/this.m_renderFilter._getCaRat(),this.m_imgSelPtOri.m_y=t.m_y},t.prototype.inpThSelPt=function(t){var e;e=this.m_itm.tp2Ip(t),this.inpImgSelPt(e)},t.prototype.inpImgSelWidth=function(t){this.m_imgSelRect.m_width=this.m_renderFilter.xOConv(t),this.m_itm.setImgSelRect(this.m_imgSelRect)},t.prototype.inpImgSelHeight=function(t){this.m_imgSelRect.m_height=t,this.m_itm.setImgSelRect(this.m_imgSelRect)},t.prototype.setUserLen=function(t){this.m_userLen=t},t.prototype.submitLen=function(){this.m_pm.inpLen(this.m_userLen);var t=this.m_pm.getLenChecker();t.setCorreOriLen(this.m_len.m_length),t.setInputDispLen(this.m_userLen),this.m_curRank=t.checkLen(),this.fillProgress(this.m_pm.getCmplProgress())},t.prototype.syncFromRenderFilter=function(){var t=this.m_renderFilter._getCaRat();this.m_imgDispWidth=this.m_renderFilter.xOConv(this.m_imgWidth),this.m_itm.setImgWidth(this.m_imgDispWidth);var e=new gdeint.CPoint;e.m_x=this.m_imgSelPtOri.m_x*t,e.m_y=this.m_imgSelRect.m_top,this.inpImgSelPt(e),this.refreshLenPtsRects()},t.prototype.setCaRat=function(t){this.m_renderFilter.setCaRat(t),this.syncFromRenderFilter()},t.prototype.showLen=function(t){this.m_len=t,this.refreshLenPtsRects(),this.m_itm.setImgSelRect(this.m_imgSelRect)},t.prototype.setLenArr=function(t){this.m_pm.setLenArr(t)},t.prototype.setState=function(t){this.m_state=t},t.prototype.rePra=function(){this.m_curRank=0,this.m_pm.rePra()},t.prototype.clearPra=function(){this.m_pm.clearPra(),this.rePra()},t.prototype.getImgRect=function(){var t,e;return t=new gdeint.CRect,t.m_left=-this.m_imgSelRect.m_left/this.m_renderFilter._getCaRat(),t.m_top=-this.m_imgSelRect.m_top+this.m_visibleStartY,t.m_width=this.m_imgWidth,t.m_height=this.m_imgHeight,e=this.m_renderFilter.rectOConv(t)},t.prototype.getThumbRect=function(){this.m_itm.setImgWidth(this.m_renderFilter.xOConv(this.m_imgWidth));var t;return t=new gdeint.CRect,t.m_width=this.m_itm.getThWidth(),t.m_height=this.m_itm.getThHeight(),t.m_left=this.s_thumbAreax+(this.s_thumbAreaWidth-t.m_width)/2,t.m_top=this.s_thumbAreay+(this.s_thumbAreaHeight-t.m_height)/2,t},t.prototype.getThumbSelRect=function(){var t;this.m_itm.setImgWidth(this.m_renderFilter.xOConv(this.m_imgWidth));var e=this.m_itm.getThSelRect();return t=new gdeint.CRect,t.m_left=e.m_left,t.m_top=e.m_top,t.m_width=e.m_width,t.m_height=e.m_height,t},t.prototype.getThumbQuestionerDispCenterPt=function(){var t;t=this.getThumbRect();var e,i,r=new gdeint.CPoint;return r.m_x=this.m_lenDispPtsRects.m_lenQuestionerDispPt.m_x+16,r.m_y=this.m_lenDispPtsRects.m_lenQuestionerDispPt.m_y+24,i=this.m_itm.ip2Tp(r),e=new gdeint.CPoint,e.m_x=i.m_x,e.m_y=i.m_y,e},t.prototype.getLenEdge1DispRect=function(){return this.m_lenDispPtsRects.m_lenEdge1DispRect},t.prototype.getLenQuestionerDispPt=function(){return this.m_lenDispPtsRects.m_lenQuestionerDispPt},t.prototype.getLenQuestionerFontSize=function(){return this.m_lenDispPtsRects.m_lenQuestionerFontSize},t.prototype.getLenEdge2DispRect=function(){return this.m_lenDispPtsRects.m_lenEdge2DispRect},t}();__reflect(CEyelen4PraDifficultPresenter.prototype,"CEyelen4PraDifficultPresenter",["IEyelen4PraDifficultPresenter","IPraPresenter","IBindableWithPM","IPresenterWithThumb","IPresenterWithCa"]);var CEyelen4PraEasyPresenter=function(){function t(){this.s_thumbAreax=25,this.s_thumbAreay=0,this.s_thumbAreaWidth=178,this.s_thumbAreaHeight=160,this.s_thMaxWidth=150,this.s_thMaxHeight=120,this.m_visibleStartY=0,this.m_userGCnt=0,this.m_pm=new CEyelen3EPraMachineEasy,this.m_itm=new gdeint.ImgThumbModelV2,this.m_itm.setThMaxWidth(this.s_thMaxWidth),this.m_itm.setThMaxHeight(this.s_thMaxHeight),this.m_imgSelRect=new gdeint.CRect,this.m_imgSelPtOri=new gdeint.CPoint,this.m_renderFilter=new CNoChangeRenderFilter,this.m_lenEdge1DispRect=new gdeint.CRect,this.m_lenQuestionerDispPt=new gdeint.CPoint,this.m_lenQuestionerFontSize=-1,this.m_lenEdge2DispRect=new gdeint.CRect}return t.prototype.bindPM=function(t){this.m_pm=t},t.prototype.unbindPM=function(){this.m_pm=null},t.prototype.allFieldsFilled=function(){return isNaN(this.m_winWidth)?!1:isNaN(this.m_winHeight)?!1:isNaN(this.m_imgWidth)?!1:isNaN(this.m_imgHeight)?!1:null==this.m_imgSelRect?!1:isNaN(this.m_imgSelRect.m_left)?!1:isNaN(this.m_imgSelRect.m_top)?!1:isNaN(this.m_imgSelRect.m_width)?!1:isNaN(this.m_imgSelRect.m_height)?!1:isNaN(this.m_thAreaWidth)?!1:isNaN(this.m_thAreaHeight)?!1:isNaN(this.m_score)?!1:isNaN(this.m_progress)?!1:null==this.m_len?!1:isNaN(this.m_len.m_length)?!1:isNaN(this.m_len.m_x)?!1:isNaN(this.m_len.m_y)?!1:null==this.m_len.m_imgPath?!1:null==this.m_len.m2_imgResName?!1:isNaN(this.m_userGCnt)?!1:!0},t.prototype.setITM=function(t){this.m_itm=t},t.prototype.s_setThumbAreaX=function(t){this.s_thumbAreax=t},t.prototype.s_setThumbAreaY=function(t){this.s_thumbAreay=t},t.prototype.s_setThumbAreaWidth=function(t){this.s_thumbAreaWidth=t},t.prototype.s_setThumbAreaHeight=function(t){this.s_thumbAreaHeight=t},t.prototype.s_setThMaxWidth=function(t){this.s_thMaxWidth=t,this.m_itm.setThMaxWidth(this.s_thMaxWidth)},t.prototype.s_setThMaxHeight=function(t){this.s_thMaxHeight=t,this.m_itm.setThMaxHeight(this.s_thMaxHeight)},t.prototype.setRenderFilter=function(t){this.m_renderFilter=t,this.m_pm.getLenChecker().setRenderFilter(t)},t.prototype.getRenderFilter=function(){return this.m_renderFilter},t.prototype.refreshLenPtsRects=function(){this.m_len&&(this.m_len.m_isHor?(this.m_lenEdge1DispRect.m_left=this.m_renderFilter.xOConv(this.m_len.m_x)-5,this.m_lenEdge1DispRect.m_top=this.m_len.m_y-30,this.m_lenEdge1DispRect.m_width=5,this.m_lenEdge1DispRect.m_height=60):(this.m_lenEdge1DispRect.m_left=this.m_renderFilter.xOConv(this.m_len.m_x)-30,this.m_lenEdge1DispRect.m_top=this.m_len.m_y-5,this.m_lenEdge1DispRect.m_width=60,this.m_lenEdge1DispRect.m_height=5),this.m_len.m_isHor?(this.m_lenEdge2DispRect.m_left=this.m_renderFilter.xOConv(this.m_len.m_x+this.m_len.m_length),this.m_lenEdge2DispRect.m_top=this.m_len.m_y-30,this.m_lenEdge2DispRect.m_width=5,this.m_lenEdge2DispRect.m_height=60):(this.m_lenEdge2DispRect.m_left=this.m_renderFilter.xOConv(this.m_len.m_x)-30,this.m_lenEdge2DispRect.m_top=this.m_len.m_y+this.m_len.m_length,this.m_lenEdge2DispRect.m_width=60,this.m_lenEdge2DispRect.m_height=5),this.m_len.m_isHor?(this.m_lenQuestionerDispPt.m_x=this.m_renderFilter.xOConv(this.m_len.m_x)+this.m_renderFilter.xOConv(this.m_len.m_length/2)-10,this.m_lenQuestionerDispPt.m_y=this.m_len.m_y-20):(this.m_lenQuestionerDispPt.m_x=this.m_renderFilter.xOConv(this.m_len.m_x)-10,this.m_lenQuestionerDispPt.m_y=this.m_len.m_y+this.m_len.m_length/2-20),this.m_lenQuestionerFontSize=36)},t.prototype.updateFromPM=function(){this.m_score=this.m_pm.getCurScore(),this.m_len=this.m_pm.getCurLen(),this.refreshLenPtsRects()},t.prototype.submitToPM=function(){},t.prototype.clearTempData=function(){},t.prototype.nextLen=function(){this.m_pm.nextLen(),this.getProgress()>=10?this.setState(2):this.setState(0)},t.prototype.fillScore=function(t){this.m_score=t},t.prototype.getScore=function(){return this.m_score},t.prototype.fillProgress=function(t){this.m_progress=t},t.prototype.getProgress=function(){return this.m_progress},t.prototype.getLen=function(){return this.m_len},t.prototype.getCurRank=function(){return this.m_curRank},t.prototype.setWinWidth=function(t){this.m_winWidth=t,this.m_imgSelRect.m_width=t,this.m_itm.setImgSelRect(this.m_imgSelRect)},t.prototype.setWinHeight=function(t){this.m_winHeight=t},t.prototype.setImgWidth=function(t){this.m_imgWidth=t,this.m_imgDispWidth=this.m_renderFilter.xOConv(t),this.m_itm.setImgWidth(this.m_imgDispWidth)},t.prototype.getImgWidth=function(){return this.m_imgWidth},t.prototype.setImgHeight=function(t){this.m_imgHeight=t,this.m_itm.setImgHeight(t)},t.prototype.getImgHeight=function(){return this.m_imgHeight},t.prototype.inpImgSelPt=function(t){var e=new gdeint.CRect;e.m_left=t.m_x,e.m_top=t.m_y,e.m_width=this.m_imgSelRect.m_width,e.m_height=this.m_imgSelRect.m_height,this.m_imgSelRect=e,this.m_itm.setImgSelRect(this.m_imgSelRect),this.m_imgSelPtOri.m_x=t.m_x/this.m_renderFilter._getCaRat(),this.m_imgSelPtOri.m_y=t.m_y},t.prototype.inpThSelPt=function(t){var e;e=this.m_itm.tp2Ip(t),this.inpImgSelPt(e)},t.prototype.inpImgSelWidth=function(t){this.m_imgSelRect.m_width=this.m_renderFilter.xOConv(t),this.m_itm.setImgSelRect(this.m_imgSelRect)},t.prototype.inpImgSelHeight=function(t){this.m_imgSelRect.m_height=t,this.m_itm.setImgSelRect(this.m_imgSelRect)},t.prototype.setUserGridCnt=function(t){this.m_userGCnt=t},t.prototype.submitLen=function(){this.m_pm.inpGridCnt(this.m_userGCnt);var t=this.m_pm.getLenChecker();t.setCorreOriLen(this.m_len.m_length),t.setInputGridCnt(this.m_userGCnt),this.m_curRank=t.checkLen(),this.fillProgress(this.m_pm.getCmplProgress())},t.prototype.syncFromRenderFilter=function(){var t=this.m_renderFilter._getCaRat();this.m_imgDispWidth=this.m_renderFilter.xOConv(this.m_imgWidth),this.m_itm.setImgWidth(this.m_imgDispWidth);var e=new gdeint.CPoint;e.m_x=this.m_imgSelPtOri.m_x*t,e.m_y=this.m_imgSelRect.m_top,this.inpImgSelPt(e),this.refreshLenPtsRects()},t.prototype.setCaRat=function(t){this.m_renderFilter.setCaRat(t),this.syncFromRenderFilter()},t.prototype.showLen=function(t){this.m_len=t,this.refreshLenPtsRects(),this.m_itm.setImgSelRect(this.m_imgSelRect)},t.prototype.setLenArr=function(t){this.m_pm.setLenArr(t)},t.prototype.setState=function(t){this.m_state=t},t.prototype.rePra=function(){this.m_curRank=0,this.m_pm.rePra()},t.prototype.clearPra=function(){this.m_pm.clearPra(),this.rePra()},t.prototype.getImgRect=function(){var t,e;return t=new gdeint.CRect,t.m_left=-this.m_imgSelRect.m_left/this.m_renderFilter._getCaRat(),t.m_top=-this.m_imgSelRect.m_top+this.m_visibleStartY,t.m_width=this.m_imgWidth,t.m_height=this.m_imgHeight,e=this.m_renderFilter.rectOConv(t)},t.prototype.getThumbRect=function(){this.m_itm.setImgWidth(this.m_renderFilter.xOConv(this.m_imgWidth));var t;return t=new gdeint.CRect,t.m_width=this.m_itm.getThWidth(),t.m_height=this.m_itm.getThHeight(),t.m_left=this.s_thumbAreax+(this.s_thumbAreaWidth-t.m_width)/2,t.m_top=this.s_thumbAreay+(this.s_thumbAreaHeight-t.m_height)/2,t},t.prototype.getThumbSelRect=function(){var t;this.m_itm.setImgWidth(this.m_renderFilter.xOConv(this.m_imgWidth));var e=this.m_itm.getThSelRect();return t=new gdeint.CRect,t.m_left=e.m_left,t.m_top=e.m_top,t.m_width=e.m_width,t.m_height=e.m_height,t},t.prototype.getThumbQuestionerDispPt=function(){var t;t=this.getThumbRect();var e,i,r=new gdeint.CPoint;return r.m_x=this.m_lenQuestionerDispPt.m_x+16,r.m_y=this.m_lenQuestionerDispPt.m_y+24,i=this.m_itm.ip2Tp(r),e=new gdeint.CPoint,e.m_x=i.m_x,e.m_y=i.m_y,e},t.prototype.getLenEdge1DispRect=function(){return this.m_lenEdge1DispRect},t.prototype.getLenQuestionerDispPt=function(){return this.m_lenQuestionerDispPt},t.prototype.getLenQuestionerFontSize=function(){return this.m_lenQuestionerFontSize},t.prototype.getLenEdge2DispRect=function(){return this.m_lenEdge2DispRect},t}();__reflect(CEyelen4PraEasyPresenter.prototype,"CEyelen4PraEasyPresenter",["IEyelen4PraEasyPresenter","IPraPresenter","IBindableWithPM","IPresenterWithThumb","IPresenterWithCa"]);var CEyelen3ERenderFilter=function(){function t(){this.m_caRat=1}return t.prototype.setCaRat=function(t){this.m_caRat=t},t.prototype._getCaRat=function(){return this.m_caRat},t.prototype.xOConv=function(t){var e;return e=t*this.m_caRat},t.prototype.xIConv=function(t){var e;return e=t/this.m_caRat},t.prototype.yOConv=function(t){return t},t.prototype.yIConv=function(t){return t},t.prototype.ptOConv=function(t){var e;return e=new gdeint.CPoint,e.m_x=this.xOConv(t.m_x),e.m_y=t.m_y,e},t.prototype.ptIConv=function(t){var e;return e=new gdeint.CPoint,e.m_x=t.m_x/this.m_caRat,e.m_y=t.m_y,e},t.prototype.rectOConv=function(t){var e;return e=new gdeint.CRect,e.m_left=t.m_left*this.m_caRat,e.m_top=t.m_top,e.m_width=t.m_width*this.m_caRat,e.m_height=t.m_height,e},t.prototype.rectIConv=function(t){var e;return e=new gdeint.CRect,e.m_left=t.m_left/this.m_caRat,e.m_top=t.m_top,e.m_width=t.m_width/this.m_caRat,e.m_height=t.m_height,e},t}();__reflect(CEyelen3ERenderFilter.prototype,"CEyelen3ERenderFilter",["IEyelen3ERenderFilter","gdeint.IRenderFilterWithCa","gdeint.IRenderFilter","gdeint.IRectRenderFilter"]);var CNoChangeRenderFilter=function(){function t(){}return t.prototype.setCaRat=function(t){},t.prototype._getCaRat=function(){return 1},t.prototype.xOConv=function(t){var e;return e=t},t.prototype.xIConv=function(t){var e;return e=t},t.prototype.yOConv=function(t){return t},t.prototype.yIConv=function(t){return t},t.prototype.ptOConv=function(t){var e;return e=t},t.prototype.ptIConv=function(t){var e;return e=t},t.prototype.rectOConv=function(t){var e;return e=t},t.prototype.rectIConv=function(t){var e;return e=t},t}();__reflect(CNoChangeRenderFilter.prototype,"CNoChangeRenderFilter",["IEyelen3ERenderFilter","gdeint.IRenderFilterWithCa","gdeint.IRenderFilter","gdeint.IRectRenderFilter"]);var CEgretDefaultResLoader=function(){function t(){}return t.prototype.getRes=function(t){return RES.getRes(t)},t}();__reflect(CEgretDefaultResLoader.prototype,"CEgretDefaultResLoader",["IResWithEgret","IResFetcher"]);var CNetResLoaderWithEgret=function(){function t(){}return t.prototype.getRes=function(t){var e;return e=g_resCache[t],e.m_isInCache?e.m_resCache:null},t}();__reflect(CNetResLoaderWithEgret.prototype,"CNetResLoaderWithEgret",["IResWithEgret","IResFetcher"]);var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.s_cpText="\n    Copyright (C) 2019-present, 梁力，MIT许可。\n				注：部分运行库和素材为第三方版权所有，擅自提取使用可能造成侵权！\n				白鹭引擎版权声明在白鹭科技官网上的有关产品可找到。",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.content.textColor=0,this.content.size=18,this.content.text=this.s_cpText,this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnTap,this),this.arrowUp.touchEnabled=!0,this.arrowDown.touchEnabled=!0,this.arrowUp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onUpArrowTap,this),this.arrowDown.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onDownArrowTap,this)},e.prototype.onUpArrowTap=function(t){this.contentScroller.viewport.scrollV-100<0?this.contentScroller.viewport.scrollV=0:this.contentScroller.viewport.scrollV-=100},e.prototype.onDownArrowTap=function(t){this.contentScroller.viewport.scrollV+100>400?this.contentScroller.viewport.scrollV=400:this.contentScroller.viewport.scrollV+=100},e.prototype.onCloseBtnTap=function(t){this.visible=!1,this.contentScroller.viewport.scrollV=0},e}(eui.Component);t.CCopyrightPanel_V2=e,__reflect(e.prototype,"eyelen4.CCopyrightPanel_V2")}(eyelen4||(eyelen4={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m2_cc=!1,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.m2_cc=!0,this.txtArea.$setText(this.m_text),this.resetTextBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onResetTextBtn,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtn,this),this.txtArea.addEventListener(eui.UIEvent.CHANGE,this.onResetTextBtn,this)},e.prototype.setText=function(t){this.m_text=t,this.m2_cc&&this.txtArea.$setText(this.m_text)},e.prototype.onResetTextBtn=function(){this.txtArea.$setText(this.m_text)},e.prototype.onCloseBtn=function(){this.txtArea.$setText(this.m_text),this.visible=!1},e}(eui.Component);t.CCpyTextPanel=e,__reflect(e.prototype,"eyelen4.CCpyTextPanel")}(eyelen4||(eyelen4={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;e.m_bg=new egret.Shape,e.m_starsArr=new Array,e.m_starsContainer=new egret.DisplayObjectContainer;var i;for(i=0;3>i;++i)e.m_starsArr[i]=new egret.Bitmap,e.m_starsArr[i].texture=RES.getRes("star_empty_png"),e.m_starsArr[i].width=60,e.m_starsArr[i].height=60,e.m_starsArr[i].x=64*i,e.m_starsContainer.addChild(e.m_starsArr[i]);return e.m_replayEvt=new CFinalScoreDlgEvent(CFinalScoreDlgEvent.EVT_REPLAY_BTN_TAP),e}return __extends(e,t),e.prototype.childrenCreated=function(){this.m_bg.graphics.beginFill(65280),this.m_bg.graphics.drawRect(0,0,this.width,this.height),this.m_bg.graphics.endFill(),this.bgGrp.addChild(this.m_bg),this.stars.addChild(this.m_starsContainer),this.replayBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onReplay,this)},e.prototype.setScore=function(t){this.score.text=t.toString()},e.prototype.setStars=function(t){var e;for(e=0;t>e;++e)this.m_starsArr[e].texture=RES.getRes("star_full_png");for(;3>e;++e)this.m_starsArr[e].texture=RES.getRes("star_empty_png")},e.prototype.onReplay=function(t){this.dispatchEvent(this.m_replayEvt)},e}(eui.Component);t.CFinalScoreDlg=e,__reflect(e.prototype,"eyelen4.CFinalScoreDlg")}(eyelen4||(eyelen4={}));var CFinalScoreDlgEvent=function(t){function e(e,i,r){return void 0===i&&(i=!1),void 0===r&&(r=!1),t.call(this,e,i,r)||this}return __extends(e,t),e.EVT_REPLAY_BTN_TAP="EVT_REPLAY_BTN_TAP",e}(egret.Event);__reflect(CFinalScoreDlgEvent.prototype,"CFinalScoreDlgEvent");var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.s_PriText_Android="\n一、适宜用户：\n	本产品适合8-60岁身体、精神均健康者使用。\n	少年儿童建议在文化水平良好者指导下使用，以减少使用风险和法律纠纷。\n	老幼病残、孕妇不宜使用。禁止作医疗用途。\n	本产品旨在提升能力，不宜作竞赛用途。\n\n二、系统权限说明（Android）：\n　　需要使用修改当前设置权限让内容正确显示（修改分辨率、语言、字体等）。\n　　若app安装在外置存储卡，可能需要存储访问权限进行app内数据读写。若app安装在内部存储，则无需存储访问权限，禁止即可。\n　　白鹭SDK会获取已安装包名列表作统计用，在部分设备会申请读取已安装应用列表权限。允许该权限一般不会损害用户利益，禁止该权限也不会影响app正常运行。\n　　不需要其它权限，如：完全的互联网访问、读取本机识别码、通讯录访问、读取位置信息等。如有申请，禁止即可。\n　　建议在权限管理中禁用除修改当前设置、存储访问外的所有权限。\n　　本app不会向用户索取私人信息。\n(更新于2020-10-02)\n				",e.s_PriText_iOS="\n				一、适宜用户：\n					本产品适合8-60岁身体、精神均健康者使用。\n					少年儿童建议在文化水平良好者指导下使用，以减少使用风险和法律纠纷。\n					老幼病残、孕妇不宜使用。禁止作医疗用途。\n					本产品旨在提升能力，不宜作竞赛用途。\n				\n				二、系统权限说明（iOS）：\n			    不需要使用相册、相机、位置信息等权限。如有申请，禁止即可。\n			    建议在权限管理中禁用所有权限。\n			    本app不会向用户索取私人信息。\n				\n				(更新于2020-02-25)\n				",e.s_PriText_Other="\n				适宜用户：\n					本产品适合8-60岁身体、精神均健康者使用。\n					少年儿童建议在文化水平良好者指导下使用，以减少使用风险和法律纠纷。\n					老幼病残、孕妇不宜使用。禁止作医疗用途。\n					本产品旨在提升能力，不宜作竞赛用途。\n				\n				(更新于2020-02-25)\n				",e
}return __extends(e,t),e.prototype.childrenCreated=function(){S_BUILD_FOR==S_NATIVE_ANDROID?this.contentLabel.text=this.s_PriText_Android:S_BUILD_FOR==S_NATIVE_IOS?this.contentLabel.text=this.s_PriText_iOS:this.contentLabel.text=this.s_PriText_Other,this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnTap,this)},e.prototype.onCloseBtnTap=function(t){this.visible=!1},e}(eui.Component);t.CHelpPanel=e,__reflect(e.prototype,"eyelen4.CHelpPanel")}(eyelen4||(eyelen4={}));var S_WEB=1,S_NATIVE_ANDROID=2,S_NATIVE_IOS=3,S_NATIVE_WP=4,S_WECHAT=5,S_BUILD_FOR=S_WEB,S_NO_IMG_MODE=!1,g_console=new egret.TextField,g_winWidth,g_winHeight,g_isSndOn=!0,s_topSpaceHeight=0;S_BUILD_FOR==S_NATIVE_ANDROID&&(s_topSpaceHeight=0);var g_scenePos,g_scale=1,g_praEasyScene,g_praDiffProScene,g_praDifficultScene,g_resCache={},g_resLoader,g_praEasyContainer,g_praDiffProContainer,g_praDifficultContainer,g_welcomeScene,g_shutdownScr,g_mainMenu,g_sceneLayer=new egret.DisplayObjectContainer,g_dlgLayerContainer=new egret.DisplayObjectContainer,g_notiLayerContainer=new egret.DisplayObjectContainer,g_level=0,g_pageJumper,g_shutdownTimer,g2_tmpScoresJSONObj,g2_tmpRetryLensJSONStr,g2_tmpWaitingForRetFromNative=!1,Main=function(t){function e(){var e=t.call(this)||this;return g_scenePos=new gdeint.CPoint,g_console.size=24,g_console.x=80,g_console.y=60,g_console.width=600,g_console.height=800,g_console.textColor=16711680,g_pageJumper=new gdeint.CPageJumper,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),g_shutdownTimer=new egret.Timer(1e3,0),g_shutdownTimer.addEventListener(egret.TimerEvent.TIMER,this.autoShutdown,this),g_winWidth=this.stage.stageWidth,g_winHeight=this.stage.stageHeight;var e=g_winWidth/480,i=g_winHeight/800;i>e?(g_scale=e,g_scenePos.m_x=0,g_scenePos.m_y=(g_winHeight-800*g_scale)/2):(g_scale=i,g_scenePos.m_x=(g_winWidth-480*g_scale)/2,g_scenePos.m_y=0),this.addChild(g_sceneLayer),this.addChild(g_dlgLayerContainer),this.addChild(g_notiLayerContainer),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var r=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",r),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runProgram()["catch"](function(t){console.log(t)})},e.prototype.runProgram=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.loadResource()];case 1:return e.sent(),this.createScene(),[4,RES.getResAsync("description_json")];case 2:return t=e.sent(),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e,i;return __generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,14,,15]),t=new LoadingUI_NoUI,this.stage.addChild(t),t.visible=!0,[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return r.sent(),S_BUILD_FOR!=S_WECHAT?[3,5]:S_NO_IMG_MODE?[4,RES.loadConfig("resource/picRes_NoImg.res.json","resource/")]:[3,3];case 2:return r.sent(),g_resLoader=new CEgretDefaultResLoader,[3,4];case 3:g_resLoader=new CNetResLoaderWithEgret,r.label=4;case 4:return[3,9];case 5:return S_NO_IMG_MODE?[4,RES.loadConfig("resource/picRes_NoImg.res.json","resource/")]:[3,7];case 6:return r.sent(),g_resLoader=new CEgretDefaultResLoader,[3,9];case 7:return[4,RES.loadConfig("resource/picRes_WebGL.res.json","resource/")];case 8:r.sent(),g_resLoader=new CEgretDefaultResLoader,r.label=9;case 9:return[4,this.loadTheme()];case 10:return r.sent(),[4,RES.loadGroup("logo",0,t)];case 11:return r.sent(),t.visible=!1,this.stage.removeChild(t),e=new LoadingUI_Eint_V3,e.setWinSize(g_winWidth,g_winHeight),e.create(),this.stage.addChild(e),e.visible=!0,[4,RES.loadGroup("eint",0,e)];case 12:return r.sent(),[4,RES.loadGroup("preload",0,e)];case 13:return r.sent(),this.stage.removeChild(e),[3,15];case 14:return i=r.sent(),console.error(i),[3,15];case 15:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,i){var r=new eui.Theme("resource/default.thm.json",t.stage);r.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createScene=function(){g_welcomeScene=new eyelen4.CWelcomeScene_Eyelen4,g_sceneLayer.addChild(g_welcomeScene),g_welcomeScene.scaleX=g_scale,g_welcomeScene.scaleY=g_scale,g_welcomeScene.x=g_scenePos.m_x,g_welcomeScene.y=g_scenePos.m_y,g_shutdownScr=new gdeint.CShutdownScr,g_mainMenu=new eyelen4.CMainMenu,g_mainMenu.setTrueWidth(this.stage.stageWidth),g_mainMenu.setTrueHeight(this.stage.stageHeight),g_mainMenu.visible=!1,g_mainMenu.width=this.stage.stageWidth,g_mainMenu.height=this.stage.stageHeight,g_sceneLayer.addChild(g_mainMenu),g_praEasyScene=new eyelen4.CPraEasyScene,g_praDifficultScene=new eyelen4.CPraDifficultScene,g_praDiffProScene=new eyelen4.CPraDiffProScene,S_NO_IMG_MODE&&(g_praEasyScene.m_NoImgMode=!0,g_praDifficultScene.m_NoImgMode=!0,g_praDiffProScene.m_NoImgMode=!0),g_dlgLayerContainer.addChild(g_praEasyScene.getDlgLayer().toEgretDispObjContainer()),g_notiLayerContainer.addChild(g_praEasyScene.getNotiLayer().toEgretDispObjContainer()),g_dlgLayerContainer.addChild(g_praDifficultScene.getDlgLayer().toEgretDispObjContainer()),g_notiLayerContainer.addChild(g_praDifficultScene.getNotiLayer().toEgretDispObjContainer()),g_dlgLayerContainer.addChild(g_praDiffProScene.getDlgLayer().toEgretDispObjContainer()),g_notiLayerContainer.addChild(g_praDiffProScene.getNotiLayer().toEgretDispObjContainer()),g_praEasyContainer=new CEyelenPraContainer,S_NO_IMG_MODE&&(g_praEasyContainer.m_NoImgMode=!0),g_praEasyContainer.setResLoader(g_resLoader),S_BUILD_FOR==S_WECHAT&&(S_NO_IMG_MODE||g_praEasyContainer.setResNameFinder(new CEyelen4HTTPSResUrlFinder)),g_praEasyContainer.setPraScene(g_praEasyScene);var t=new gdeint.CAlertPanel_v2;t.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),g_praEasyContainer.setAlertDlg(t);var e=new gdeint.CConfirmPanel;e.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),g_praEasyContainer.setConfirmDlg(e);var i=new eyelen4.CPreloaderUI;i.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),i.hide(),g_sceneLayer.addChild(i),g_praEasyContainer.setPreloaderUI(i);var r=new eyelen4.CCaliDlg;r.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),r.hide(),g_praEasyContainer.setCaliDlg(r);var n=new gdeint.CPraMenu;n.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),n.hide(),g_praEasyContainer.setPraMenu(n),g_praDifficultContainer=new CEyelenPraContainer,S_BUILD_FOR==S_WECHAT&&S_NO_IMG_MODE&&(g_praDifficultContainer.m_NoImgMode=!0),g_praDifficultContainer.setResLoader(g_resLoader),S_BUILD_FOR==S_WECHAT&&(S_NO_IMG_MODE||g_praDifficultContainer.setResNameFinder(new CEyelen4HTTPSResUrlFinder)),g_praDifficultContainer.setPraScene(g_praDifficultScene);var s=new gdeint.CAlertPanel_v2;s.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),g_praDifficultContainer.setAlertDlg(s);var o=new gdeint.CConfirmPanel;o.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),g_praDifficultContainer.setConfirmDlg(o);var h=new eyelen4.CPreloaderUI;h.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),h.hide(),g_sceneLayer.addChild(h),g_praDifficultContainer.setPreloaderUI(h);var a=new eyelen4.CCaliDlg;a.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),a.hide(),g_praDifficultContainer.setCaliDlg(a);var m=new gdeint.CPraMenu;m.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),m.hide(),g_praDifficultContainer.setPraMenu(m),g_praDiffProContainer=new CEyelenProPraContainer,S_BUILD_FOR==S_WECHAT&&S_NO_IMG_MODE&&(g_praDiffProContainer.m_NoImgMode=!0),g_praDiffProContainer.setResLoader(g_resLoader),S_BUILD_FOR==S_WECHAT&&(S_NO_IMG_MODE||g_praDiffProContainer.setResNameFinder(new CEyelen4HTTPSResUrlFinder)),g_praDiffProContainer.setPraScene(g_praDiffProScene);var s=new gdeint.CAlertPanel_v2;s.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),g_praDiffProContainer.setAlertDlg(s);var o=new gdeint.CConfirmPanel;o.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),g_praDiffProContainer.setConfirmDlg(o);var _=new eyelen4.CPreloaderUI;_.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),_.hide(),g_sceneLayer.addChild(_),g_praDiffProContainer.setPreloaderUI(_);var a=new eyelen4.CCaliDlg;a.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),a.hide(),g_praDiffProContainer.setCaliDlg(a);var m=new gdeint.CPraMenu;m.setSceneRect(g_scenePos.m_x,g_scenePos.m_y,480*g_scale,800*g_scale),m.hide(),g_praDiffProContainer.setPraMenu(m);var l=new CWelcomePage_Eyelen4;l.m_scene=g_welcomeScene;var p=new CPage2EuiAdapter;p.m_adaptee=g_mainMenu;var g=new CPage2EyelenPraContainerAdapter;g.m_adaptee=g_praEasyContainer;var c=new CPage2EyelenPraContainerAdapter;c.m_adaptee=g_praDifficultContainer;var d=new CPage2EyelenPraContainerAdapter;d.m_adaptee=g_praDiffProContainer;var u=new CPage2EuiAdapter;u.m_adaptee=g_shutdownScr,g_pageJumper.setPage("WelcomeScene",l),g_pageJumper.setPage("MainMenu",p),g_pageJumper.setPage("PraEasyScene",g),g_pageJumper.setPage("PraDifficultScene",c),g_pageJumper.setPage("PraDiffProScene",d),g_pageJumper.setPage("ShutdownScr",u),g_shutdownScr.visible=!1,g_shutdownScr.width=this.stage.stageWidth,g_shutdownScr.height=this.stage.stageHeight,g_sceneLayer.addChild(g_shutdownScr),g_sceneLayer.addChild(g_console),g_praEasyScene.setWinWidth(g_winWidth),g_praEasyScene.setWinHeight(g_winHeight),g_praEasyScene.hide(),g_sceneLayer.addChild(g_praEasyScene),g_praDifficultScene.setWinWidth(g_winWidth),g_praDifficultScene.setWinHeight(g_winHeight),g_praDifficultScene.hide(),g_sceneLayer.addChild(g_praDifficultScene),g_praDiffProScene.setWinWidth(g_winWidth),g_praDiffProScene.setWinHeight(g_winHeight),g_praDiffProScene.hide(),g_sceneLayer.addChild(g_praDiffProScene),egret.ExternalInterface.addCallback("ret_fetchIsSndOn",function(t){console.log("ret_fetchIsSndOn,msg:"+t),"1"==t?g_isSndOn=!0:"0"==t&&(g_isSndOn=!1)}),egret.ExternalInterface.addCallback("ret_fetchDiffProHisScore",function(t){console.log("ret_fetchDiffProHisScore:"+t),g2_tmpScoresJSONObj=JSON.parse(t),console.log("g2_tmpScoresJSONObj set!"),console.log("Size is "+g2_tmpScoresJSONObj.Scores.length)}),egret.ExternalInterface.addCallback("ret_fetchRetryLens",function(t){g2_tmpRetryLensJSONStr=t,console.log("RetryLens sent to ts:"+g2_tmpRetryLensJSONStr),g2_tmpWaitingForRetFromNative=!1})},e.prototype.autoShutdown=function(){g_shutdownTimer.currentCount>=1200&&g_pageJumper.gotoPage("ShutdownScr",null)},e}(eui.UILayer);__reflect(Main.prototype,"Main");var gdeint;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(eui.Button);t.CMenuBtn=e,__reflect(e.prototype,"gdeint.CMenuBtn")}(gdeint||(gdeint={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;e.s_cellWidth=20,e.s_cellHeight=18;var i;for(e.m_progressCellsArr=new Array,e.m_progressCellContainer=new egret.DisplayObjectContainer,e.m_progress=0,i=0;10>i;++i)e.m_progressCellsArr[i]=new egret.Bitmap,e.m_progressCellsArr[i].x=i*e.s_cellWidth,e.m_progressCellsArr[i].y=0,e.m_progressCellsArr[i].width=e.s_cellWidth,e.m_progressCellsArr[i].height=e.s_cellHeight,e.m_progressCellsArr[i].texture=RES.getRes("progress_cell_empty_png"),e.m_progressCellContainer.addChild(e.m_progressCellsArr[i]);return e}return __extends(e,t),e.prototype.childrenCreated=function(){this.progressCells.addChild(this.m_progressCellContainer)},e.prototype.setProgress=function(t){this.m_progress=t;var e;for(e=1;e<=this.m_progress;++e)this.m_progressCellsArr[e-1].texture=RES.getRes("progress_cell_png");for(;10>=e;++e)this.m_progressCellsArr[e-1].texture=RES.getRes("progress_cell_empty_png")},e.prototype.clear=function(){this.setProgress(0)},e}(eui.Component);t.CProgressView=e,__reflect(e.prototype,"eyelen4.CProgressView")}(eyelen4||(eyelen4={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;e.s_cellWidth=20,e.s_cellHeight=18;var i;for(e.m_progressCellsArr=new Array,e.m_progressCellContainer=new egret.DisplayObjectContainer,e.m_progress=0,i=0;3>i;++i)e.m_progressCellsArr[i]=new egret.Bitmap,e.m_progressCellsArr[i].x=i*e.s_cellWidth,e.m_progressCellsArr[i].y=-5,e.m_progressCellsArr[i].width=e.s_cellWidth,e.m_progressCellsArr[i].height=e.s_cellHeight+10,e.m_progressCellsArr[i].texture=RES.getRes("progress_cell_empty_png"),e.m_progressCellContainer.addChild(e.m_progressCellsArr[i]);for(i=3;10>i;++i)e.m_progressCellsArr[i]=new egret.Bitmap,e.m_progressCellsArr[i].x=i*e.s_cellWidth,e.m_progressCellsArr[i].y=0,e.m_progressCellsArr[i].width=e.s_cellWidth,e.m_progressCellsArr[i].height=e.s_cellHeight,e.m_progressCellsArr[i].texture=RES.getRes("progress_cell_empty_png"),e.m_progressCellContainer.addChild(e.m_progressCellsArr[i]);return e}return __extends(e,t),e.prototype.childrenCreated=function(){this.progressCells.addChild(this.m_progressCellContainer),console.log("ProProgressView ready!")},e.prototype.setProgress=function(t){this.m_progress=t;var e;for(e=1;e<=this.m_progress;++e)this.m_progressCellsArr[e-1].texture=RES.getRes("progress_cell_png");for(;10>=e;++e)this.m_progressCellsArr[e-1].texture=RES.getRes("progress_cell_empty_png")},e.prototype.clear=function(){this.setProgress(0)},e}(eui.Component);t.CProProgressView=e,__reflect(e.prototype,"eyelen4.CProProgressView")}(eyelen4||(eyelen4={}));var gdeint;!function(t){var e=function(t){function e(){var e=t.call(this)||this;e.m_seed=0,e.width=1024,e.height=720,e.m_shapes=new Array;var i;for(i=0;3>i;++i)e.m_shapes.push(new egret.Shape),e.addChild(e.m_shapes[i]);return e}return __extends(e,t),e.prototype.genFromSeed=function(t){this.m_seed=t;var e;for(e=0;e<this.m_shapes.length;++e)this.m_shapes[e].graphics.clear();switch(t){case 1:var i,r,n;i=0,r=this.width/3,n=this.width/3*2,this.m_shapes[0].graphics.beginFill(11141256),this.m_shapes[0].graphics.drawRect(i,0,this.width/3,this.height),this.m_shapes[0].graphics.endFill(),this.m_shapes[1].graphics.beginFill(3381504),this.m_shapes[1].graphics.drawRect(r,0,this.width/3,this.height),this.m_shapes[1].graphics.endFill(),this.m_shapes[2].graphics.beginFill(255),this.m_shapes[2].graphics.drawRect(n,0,this.width/3,this.height),this.m_shapes[2].graphics.endFill();break;case 2:var s,o,h;s=0,o=this.height/3,h=this.height/3*2,this.m_shapes[0].graphics.beginFill(255),this.m_shapes[0].graphics.drawRect(0,s,this.width,this.height/3),this.m_shapes[0].graphics.endFill(),this.m_shapes[1].graphics.beginFill(3381504),this.m_shapes[1].graphics.drawRect(0,o,this.width,this.height/3),this.m_shapes[1].graphics.endFill(),this.m_shapes[2].graphics.beginFill(11141256),this.m_shapes[2].graphics.drawRect(0,h,this.width,this.height/3),this.m_shapes[2].graphics.endFill();break;case 3:this.m_shapes[0].graphics.beginFill(3381504),this.m_shapes[0].graphics.drawRect(0,0,this.width,this.height),this.m_shapes[0].graphics.endFill(),this.m_shapes[0].graphics.beginFill(255),this.m_shapes[0].graphics.drawEllipse(0,0,this.width/2,this.height),this.m_shapes[0].graphics.endFill(),this.m_shapes[0].graphics.beginFill(11141256),this.m_shapes[0].graphics.drawEllipse(this.width/2,0,this.width/2,this.height),this.m_shapes[0].graphics.endFill()}},e.prototype.genGraph=function(t,e){this.width=t,this.height=e;var i;i=Math.floor(3*Math.random())+1,this.genFromSeed(i)},e.prototype.resize=function(t,e){this.width=t,this.height=e,this.genFromSeed(this.m_seed)},e.prototype.copyFrom=function(t,e){void 0===e&&(e=!0),e&&this.resize(t.width,t.height),this.genFromSeed(t.m_seed)},e}(eui.Component);t.CRandomGraph=e,__reflect(e.prototype,"gdeint.CRandomGraph")}(gdeint||(gdeint={}));var CScoreFlagRect=function(){function t(){this.m_value1=0,this.m_value2=0}return t.prototype.setCnts=function(t,e){this.m_value1=Math.floor(t),this.m_value2=Math.floor(e)},t.prototype.getFlagArr=function(){var t,e,i=new Array;for(t=0;3>t;++t)for(i[t]=new Array,e=0;10>e;++e)i[t][e]=0;if(this.m_value1<0||this.m_value2<0)return i;if(this.m_value1+this.m_value2>30)return i;var r=0,n=this.m_value1-1;if(n>=r)if(Math.floor(r/10)==Math.floor(n/10))for(e=r;n>=e;++e)i[Math.floor(r/10)][e%10]=1;else{for(e=r%10;10>e;++e)i[Math.floor(r/10)][e%10]=1;for(t=Math.floor(r/10)+1;t<Math.floor(n/10);++t)for(e=0;10>e;++e)i[t][e]=1;for(e=0;e<=Math.floor(n%10);++e)i[Math.floor(n/10)][e]=1}if(r=this.m_value1,n=29-this.m_value2,n>=r)if(Math.floor(r/10)==Math.floor(n/10))for(e=r;n>=e;++e)i[Math.floor(r/10)][e%10]=0;else{for(e=r%10;10>e;++e)i[Math.floor(r/10)][e%10]=0;for(t=Math.floor(r/10)+1;t<Math.floor(n/10);++t)for(e=0;10>e;++e)i[t][e]=0;for(e=0;e<=Math.floor(n%10);++e)i[Math.floor(n/10)][e]=0}if(r=30-this.m_value2,n=29,n>=r)if(Math.floor(r/10)==Math.floor(n/10))for(e=r;n>=e;++e)i[Math.floor(r/10)][e%10]=2;else{for(e=r%10;10>e;++e)i[Math.floor(r/10)][e%10]=2;for(t=Math.floor(r/10)+1;t<Math.floor(n/10);++t)for(e=0;10>e;++e)i[t][e]=2;for(e=0;e<=Math.floor(n%10);++e)i[Math.floor(n/10)][e]=2}return i},t}();__reflect(CScoreFlagRect.prototype,"CScoreFlagRect",["IScoreFlagRect"]);var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.s_flagWidth=13,e.s_flagHeight=22,e.m_score=0,e.m_progress=0,e.m_created=!1,e.m_scoreFlagsArr=new Array,e.m_scoreFlagsContainer=new egret.DisplayObjectContainer,e}return __extends(e,t),e.prototype.childrenCreated=function(){this.m_created=!0,this.m_scoreFlagsArr=new Array,this.m_scoreFlagsContainer=new egret.DisplayObjectContainer;var t,e;for(t=0;3>t;++t)for(this.m_scoreFlagsArr[t]=new Array,e=0;10>e;++e)this.m_scoreFlagsArr[t][e]=new egret.Bitmap,this.m_scoreFlagsArr[t][e].x=(this.s_flagWidth+3)*e+5,this.m_scoreFlagsArr[t][e].y=(this.s_flagHeight+2)*t,this.m_scoreFlagsArr[t][e].width=this.s_flagWidth,this.m_scoreFlagsArr[t][e].height=this.s_flagHeight,this.m_scoreFlagsArr[t][e].texture=RES.getRes("score_dot_png"),this.m_scoreFlagsContainer.addChild(this.m_scoreFlagsArr[t][e]);this.scoreFlags.addChild(this.m_scoreFlagsContainer),this.updateScoreFlags()},e.prototype.updateScoreFlags=function(){if(this.m_created){this.scoreTxt.text=this.m_score.toString();var t=new CScoreFlagRect,e=this.m_score/10,i=30-3*this.m_progress,r=30-e-i;t.setCnts(e,r);var n,s,o=t.getFlagArr();for(n=0;3>n;++n)for(s=0;10>s;++s)switch(o[n][s]){case 0:this.m_scoreFlagsArr[n][s].texture=RES.getRes("score_dot_png");break;case 1:this.m_scoreFlagsArr[n][s].texture=RES.getRes("score_flag_png");break;case 2:this.m_scoreFlagsArr[n][s].texture=RES.getRes("score_cross_png")}}},e.prototype.setScoreWithPro=function(t,e){this.m_score=t,this.m_progress=e,this.updateScoreFlags()},e.prototype.clearScore=function(){this.setScoreWithPro(0,-1)},e}(eui.Component);t.CScoreView=e,__reflect(e.prototype,"eyelen4.CScoreView")}(eyelen4||(eyelen4={}));var gdeint;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.m2_fontSize=24,t.m2_cc=!1,t.m2_cc=94,t}return __extends(i,e),i.prototype.childrenCreated=function(){this.m2_cc=!0,this.timeLabel.size=this.m2_fontSize,this.m_tracerTimer=new egret.Timer(200,0),this.m_tracerTimer.addEventListener(egret.TimerEvent.TIMER,this.onTracerTimer,this)},i.prototype.setFontSize=function(t){this.m2_fontSize=t,this.m2_cc&&(this.timeLabel.size=this.m2_fontSize)},i.prototype.onTracerTimer=function(){this.timeLabel.text=t.seconds2MinSec(1200-this.m_timerPointer.currentCount)},i.prototype.setTimer=function(t){this.m_timerPointer=t,this.m_tracerTimer.start()},i}(eui.Component);t.CShutdownClock=e,__reflect(e.prototype,"gdeint.CShutdownClock")}(gdeint||(gdeint={}));var gdeint;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){},e}(eui.Component);t.CShutdownScr=e,__reflect(e.prototype,"gdeint.CShutdownScr")}(gdeint||(gdeint={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_NoImgMode=!1,e.m_thumbTapEvt=new CThumbUIEvent(CThumbUIEvent.EVT_THUMB_TAP),e.m_randomGraphShape=new gdeint.CRandomGraph,e.m_randomGraphShape.width=150,e.m_randomGraphShape.height=120,e.m_randomGraphShape.visible=!1,e}return __extends(e,t),e.prototype.childrenCreated=function(){this.randomGraphThumbGrp.addChild(this.m_randomGraphShape),this.thumbCover.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onThumbTap,this),this.m2_cc=!0,this.m_NoImgMode?(this.imgThumb.visible=!1,this.randomGraphThumbGrp.visible=!0,this.m_randomGraphShape.visible=!0):(this.imgThumb.visible=!0,this.randomGraphThumbGrp.visible=!1,this.m_randomGraphShape.visible=!1)},e.prototype.setThumbWidth=function(t){this.imgThumb.width=t,this.m_randomGraphShape.resize(t,this.m_randomGraphShape.height),this.thumbSel.width=t,this.thumbCover.width=t},e.prototype.getThumbWidth=function(){var t;return t=this.m_NoImgMode?this.m_randomGraphShape.width:this.imgThumb.width},e.prototype.setThumbHeight=function(t){console.log("Setting thumbHeight to:"+t),this.imgThumb.height=t,this.m_randomGraphShape.resize(this.m_randomGraphShape.width,t),this.thumbSel.height=t,this.thumbCover.height=t},e.prototype.getThumbHeight=function(){var t;return t=this.m_NoImgMode?this.m_randomGraphShape.height:this.imgThumb.height},e.prototype.setNoImgMode=function(t){this.m_NoImgMode=t,this.m2_cc&&(t?(this.imgThumb.visible=!1,this.randomGraphThumbGrp.visible=!0,this.m_randomGraphShape.visible=!0):(this.imgThumb.visible=!0,this.randomGraphThumbGrp.visible=!1,this.m_randomGraphShape.visible=!1))},e.prototype.setImgSrc=function(t){this.setNoImgMode(!1),this.imgThumb.source=t},e.prototype.setShape=function(t){this.setNoImgMode(!0),this.m_randomGraphShape.copyFrom(t,!1),this.m_randomGraphShape.visible=!0},e.prototype.setSelRect=function(t){this.thumbSel.x=t.m_left,this.thumbSel.y=t.m_top,this.thumbSel.width=t.m_width,this.thumbSel.height=t.m_height},e.prototype.onThumbTap=function(t){this.thumbSel.x=t.localX-this.thumbSel.width/2,this.thumbSel.y=t.localY-this.thumbSel.height/2,this.m_thumbTapEvt.m_tchX=t.localX,this.m_thumbTapEvt.m_tchY=t.localY,this.dispatchEvent(this.m_thumbTapEvt)},e}(eui.Component);t.CThumbUI=e,__reflect(e.prototype,"eyelen4.CThumbUI")}(eyelen4||(eyelen4={}));var CThumbUIEvent=function(t){function e(e,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1);var n=t.call(this,e,i,r)||this;return n.m_tchX=0,n.m_tchY=0,n}return __extends(e,t),e.EVT_THUMB_TAP="EVT_THUMB_TAP",e}(egret.Event);__reflect(CThumbUIEvent.prototype,"CThumbUIEvent");var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;e.m2_cc=!1,e.m_trueWidth=0,e.m_trueHeight=0,e.m_childrenCreated=!1,e.m_nextBtnEventCache=new anyObj,e.m_flagsArr=new Array;var i;for(i=0;3>i;++i)e.m_flagsArr[i]=new egret.Bitmap;e.m_flagsArr[0].texture=RES.getRes("score_flag_png"),e.m_flagsArr[1].texture=RES.getRes("score_dot_png"),e.m_flagsArr[2].texture=RES.getRes("score_flag_png"),e.m_flagsContainer=new egret.DisplayObjectContainer;var i;for(i=0;3>i;++i)e.m_flagsArr[i].width=35,e.m_flagsArr[i].height=45,e.m_flagsArr[i].x=45*i,e.m_flagsArr[i].y=0,e.m_flagsContainer.addChild(e.m_flagsArr[i]);return e.m_correLenShape=new egret.Shape,e.m_userLenShape=new egret.Shape,e.m2_cc=!0,e.m_trueWidth>0&&(e.width=e.m_trueWidth),e.m_trueHeight>0&&(e.height=e.m_trueHeight),e}return __extends(e,t),e.prototype.readjustUI=function(){this.m_trueHeight<350||(this.nextBtn.x=this.m_trueWidth/2-32,this.nextBtn.y=240*this.m_trueHeight/350,this.scoreValue.y=20*this.m_trueHeight/350,this.correLenIcon.y=135*this.m_trueHeight/350,this.correLen.y=139*this.m_trueHeight/350,this.userLenIcon.y=190*this.m_trueHeight/350,this.userLen.y=195*this.m_trueHeight/350,this.scoreFlags.y=70*this.m_trueHeight/350,this.scoreValue.x=this.m_trueWidth/2-this.scoreValue.width/2,this.scoreFlags.x=.5*this.m_trueWidth-50)},e.prototype.childrenCreated=function(){this.m_childrenCreated=!0,this.m_nextBtnEventCache.type&&this._onNextBtnEvent(this.m_nextBtnEventCache.type,this.m_nextBtnEventCache.listener,this.m_nextBtnEventCache.thisObject),this._setScore(this.m2_tmpScore),this._setCorreLen(this.m2_tmpCorreLen),this._setUserLen(this.m2_tmpUserLen),this.scoreFlags.addChild(this.m_flagsContainer),this.userLen.addChild(this.m_userLenShape),this.correLen.addChild(this.m_correLenShape)},e.prototype.setTrueWidth=function(t){this.m_trueWidth=t,this.m2_cc&&(this.width=t)},e.prototype.setTrueHeight=function(t){this.m_trueHeight=t,this.m2_cc&&(this.height=t)},e.prototype._setScore=function(t){var e;for(this.scoreValue.text="+"+t,e=0;t>10*e;e++)this.m_flagsArr[e].texture=RES.getRes("score_flag_png");for(;3>e;e++)this.m_flagsArr[e].texture=RES.getRes("score_cross_png")},e.prototype._setCorreLen=function(t){isNaN(t)||(this.m_correLenShape.graphics.clear(),this.m_correLenShape.graphics.beginFill(5622954),this.m_correLenShape.graphics.drawRect(0,0,t,this.correLen.height),this.m_correLenShape.graphics.endFill())},e.prototype._setUserLen=function(t){isNaN(t)||(this.m_userLenShape.graphics.clear(),this.m_userLenShape.graphics.beginFill(5622954),this.m_userLenShape.graphics.drawRect(0,0,t,this.userLen.height),this.m_userLenShape.graphics.endFill())},e.prototype._onNextBtnEvent=function(t,e,i){this.nextBtn.addEventListener(t,e,i)},e.prototype.setScore=function(t){this.m2_tmpScore=t,this.m_childrenCreated&&this._setScore(t)},e.prototype.setCorreLen=function(t){this.m2_tmpCorreLen=t,this.m_childrenCreated&&this._setCorreLen(t)},e.prototype.setUserLen=function(t){this.m2_tmpUserLen=t,this.m_childrenCreated&&this._setUserLen(t)},e.prototype.onNextBtnEvent=function(t,e,i){this.m_childrenCreated?this._onNextBtnEvent(t,e,i):(this.m_nextBtnEventCache.type=t,this.m_nextBtnEventCache.listener=e,this.m_nextBtnEventCache.thisObject=i)},e}(eui.Component);t.CCmpLenDlg=e,__reflect(e.prototype,"eyelen4.CCmpLenDlg")}(eyelen4||(eyelen4={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;e.m_userGridWidth=30,e.m_loadedGridCnt=0,e.m2_cc=!1,e.m_trueWidth=0,e.m_trueHeight=0,e.m_nextBtnEventCache=new anyObj,e.m_flagsArr=new Array;var i;for(i=0;3>i;++i)e.m_flagsArr[i]=new egret.Bitmap;e.m_flagsArr[0].texture=RES.getRes("score_flag_png"),e.m_flagsArr[1].texture=RES.getRes("score_dot_png"),e.m_flagsArr[2].texture=RES.getRes("score_flag_png"),e.m_flagsContainer=new egret.DisplayObjectContainer;var i;for(i=0;3>i;++i)e.m_flagsArr[i].width=35,e.m_flagsArr[i].height=45,e.m_flagsArr[i].x=45*i,e.m_flagsArr[i].y=0,e.m_flagsContainer.addChild(e.m_flagsArr[i]);return e.m_userLenGroup=new egret.DisplayObjectContainer,e.m_userLenGridsArr=new Array,e.loadGrids(12),e}return __extends(e,t),e.prototype.readjustUI=function(){this.m_trueHeight<350||(this.nextBtn.x=this.m_trueWidth/2-32,this.nextBtn.y=240*this.m_trueHeight/350,this.scoreValue.y=20*this.m_trueHeight/350,this.correLenIcon.y=135*this.m_trueHeight/350,this.correLenRect.y=139*this.m_trueHeight/350,this.userLenIcon.y=190*this.m_trueHeight/350,this.userLenGrp.y=195*this.m_trueHeight/350,this.scoreFlags.y=70*this.m_trueHeight/350,this.scoreValue.x=this.m_trueWidth/2-this.scoreValue.width/2,this.scoreFlags.x=.5*this.m_trueWidth-50)},e.prototype.setTrueWidth=function(t){this.m_trueWidth=t,this.m2_cc&&(this.width<t&&(this.width=t),this.readjustUI())},e.prototype.setTrueHeight=function(t){this.m_trueHeight=t,this.m2_cc&&(this.height<t&&(this.height=t),this.readjustUI())},e.prototype.loadGrids=function(t){var e;for(e=this.m_loadedGridCnt;t>e;++e)this.m_userLenGridsArr[e]=new CRulerEasyBodyCell,this.m_userLenGridsArr[e].texture=RES.getRes("rulerBodyCell2_gif"),this.m_userLenGridsArr[e].x=e*this.m_userGridWidth,this.m_userLenGridsArr[e].width=this.m_userGridWidth,this.m_userLenGridsArr[e].height=45,this.m_userLenGridsArr[e].visible=!1,this.m_userLenGroup.addChild(this.m_userLenGridsArr[e]);this.m_loadedGridCnt=t},e.prototype.childrenCreated=function(){this.m2_cc=!0,this.m_trueWidth>0?this.width=this.m_trueWidth:this.m_trueWidth=this.width,this.m_trueHeight>0?this.height=this.m_trueHeight:this.m_trueWidth=this.width,this.readjustUI(),this.m_nextBtnEventCache.type&&this._onNextBtnEvent(this.m_nextBtnEventCache.type,this.m_nextBtnEventCache.listener,this.m_nextBtnEventCache.thisObject),this._setScore(this.m2_tmpScore),this._setCorreLen(this.m2_tmpCorreLen),this._setUserGridCnt(this.m2_tmpUserGridCnt),this.scoreFlags.addChild(this.m_flagsContainer),this.userLenGrp.addChild(this.m_userLenGroup)},e.prototype._setScore=function(t){var e;for(this.scoreValue.text="+"+t,e=0;t>10*e;e++)this.m_flagsArr[e].texture=RES.getRes("score_flag_png");for(;3>e;e++)this.m_flagsArr[e].texture=RES.getRes("score_cross_png")},e.prototype._setCorreLen=function(t){isNaN(t)||(this.correLenRect.width=t)},e.prototype._onNextBtnEvent=function(t,e,i){this.nextBtn.addEventListener(t,e,i)},e.prototype.setScore=function(t){this.m2_tmpScore=t,this.m2_cc&&this._setScore(t)},e.prototype.setCorreLen=function(t){this.m2_tmpCorreLen=t,this.m2_cc&&this._setCorreLen(t)},e.prototype._setUserGridCnt=function(t){if(!isNaN(t)){for(this.m_loadedGridCnt<t&&this.loadGrids(t),e=0;e<this.m_userLenGridsArr.length;++e)this.m_userLenGridsArr[e].x=e*this.m_userGridWidth,this.m_userLenGridsArr[e].width=this.m_userGridWidth;var e;for(e=0;t>e;++e)this.m_userLenGridsArr[e].visible=!0;for(;e<this.m_loadedGridCnt;++e)this.m_userLenGridsArr[e].visible=!1}},e.prototype.setUserGridWidth=function(t){this.m_userGridWidth=t},e.prototype.setUserGridCnt=function(t){this.m2_tmpUserGridCnt=t,this.m2_cc&&this._setUserGridCnt(t)},e.prototype.onNextBtnEvent=function(t,e,i){this.m2_cc?this._onNextBtnEvent(t,e,i):(this.m_nextBtnEventCache.type=t,this.m_nextBtnEventCache.listener=e,this.m_nextBtnEventCache.thisObject=i)},e}(eui.Component);t.CGridCmpLenDlg=e,__reflect(e.prototype,"eyelen4.CGridCmpLenDlg")}(eyelen4||(eyelen4={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function r(r){e.call(i,r,t)}if(RES.hasRes(t)){var n=RES.getRes(t);n?r(n):RES.getResAsync(t,r,this)}else RES.getResByUrl(t,r,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var eyelen4;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){this.m_isDraging=!1,this.m_firstDraged=!1,this.okBtn.enabled=!1,this.m_dragerBaseX=this.ruler_head.x+this.ruler_head.width,this.m_rulerBodyShape=new egret.Shape,this.ruler_body.addChild(this.m_rulerBodyShape),this.drager.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStartDrag,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMoveOnStage,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTchEndOnStage,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTchRelOutOfStage,this)},e.prototype.onStartDrag=function(t){this.m_isLocked||(this.m_isDraging=!0,this.m_firstDraged=!0,this.okBtn.enabled=!0,this.m_tchPosX=t.localX,g_isSndOn&&playBtnSnd())},e.prototype.drawLen=function(){this.m_rulerBodyShape.graphics.clear(),this.m_rulerBodyShape.graphics.beginFill(8947848),this.m_rulerBodyShape.graphics.drawRect(0,0,this.drager.x-this.m_dragerBaseX,60),this.m_rulerBodyShape.graphics.endFill()},e.prototype.onMoveOnStage=function(t){if(!this.m_isLocked&&this.m_isDraging){var e=t.stageX-this.m_tchPosX;e<this.m_dragerBaseX&&(e=this.m_dragerBaseX),this.drager.x=e,this.drawLen()}},e.prototype.onTchEndOnStage=function(t){this.m_isDraging&&g_isSndOn&&playBtnSnd(),this.m_isDraging=!1},e.prototype.onTchRelOutOfStage=function(t){this.m_isDraging=!1},e.prototype.setWidth=function(t){this.width=t,this.okBtn.x=t-this.okBtn.width-20},e.prototype.getLen=function(){return this.drager.x-this.m_dragerBaseX},e.prototype.clearLen=function(){this.drager.x=this.m_dragerBaseX,this.m_rulerBodyShape.graphics.clear(),this.m_rulerBodyShape.graphics.beginFill(0),this.m_rulerBodyShape.graphics.endFill(),this.m_firstDraged=!1,this.okBtn.enabled=!1},e.prototype.lock=function(){this.m_isLocked=!0,this.okBtn.enabled=!1
},e.prototype.unlock=function(){this.m_isLocked=!1,this.m_firstDraged&&(this.okBtn.enabled=!0)},e}(CLenInputerBase);t.CLenInputerDifficult=e,__reflect(e.prototype,"eyelen4.CLenInputerDifficult")}(eyelen4||(eyelen4={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_gridWidth=30,e.m_loadedCellCnt=0,e.m_totalGridCnt=12,e.m_rulerBodyCellContainer=new egret.DisplayObjectContainer,e.m_cells=new Array,e.drawEmptyCells(e.m_totalGridCnt),e}return __extends(e,t),e.prototype.drawEmptyCells=function(t){var e;if(this.m_loadedCellCnt<t){for(e=this.m_loadedCellCnt;t>e;++e)this.m_cells[e]=new CRulerEasyBodyCell,this.m_cells[e].m_tag=e,this.m_cells[e].texture=RES.getRes("rulerBodyCell_gif"),this.m_cells[e].x=e*this.m_gridWidth,this.m_cells[e].width=this.m_gridWidth,this.m_cells[e].height=60,this.m_rulerBodyCellContainer.addChild(this.m_cells[e]);this.m_loadedCellCnt=t}for(e=0;t>e;++e)this.m_cells[e].x=e*this.m_gridWidth,this.m_cells[e].width=this.m_gridWidth,this.m_cells[e].visible=!0;for(;t>e;this.m_loadedCellCnt)this.m_cells[e].visible=!1},e.prototype.childrenCreated=function(){this.m_isDraging=!1,this.m_firstDraged=!1,this.okBtn.enabled=!1,this.m_dragerBaseX=this.ruler_head.x+this.ruler_head.width,this.ruler_body_rect.width=0,this.ruler_body_rect.height=60,this.ruler_body_cells.addChild(this.m_rulerBodyCellContainer);var t,e,i;t=new egret.DisplayObjectContainer,e=new egret.Bitmap,i=new egret.Shape,e.texture=RES.getRes("ruler_drager_png"),e.width=60,e.height=80,i.graphics.beginFill(0,0),i.graphics.drawRect(0,0,90,80),i.graphics.endFill(),t.addChild(i),t.addChild(e),t.width=200,this.m_rulerBodyCellContainer.touchEnabled=!0,this.m_rulerBodyCellContainer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRulerTouch,this),this.ruler_body_rect.touchEnabled=!0,this.ruler_body_rect.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRulerTouch,this)},e.prototype.onRulerTouch=function(t){if(!this.m_isLocked){var e=Math.floor(t.localX/this.m_gridWidth);if(!(e>=this.m_totalGridCnt)){g_isSndOn&&playBtnSnd(),this.m_userGridCnt=e+1;var i;for(i=0;e>i;++i)this.m_cells[i].check();for(;i<this.m_totalGridCnt;++i)this.m_cells[i].uncheck();var r=(Math.floor(e)+1)*this.m_gridWidth;this.ruler_body_rect.width=r,this.m_firstDraged=!0,this.okBtn.enabled=!0}}},e.prototype.setWidth=function(t){this.width=t,this.okBtn.x=t-this.okBtn.width-20,this.m_totalGridCnt=Math.floor((t-112)/this.m_gridWidth)-2,this.drawEmptyCells(this.m_totalGridCnt)},e.prototype.getGridWidth=function(){return this.m_gridWidth},e.prototype.getTotalGridCnt=function(){return this.m_totalGridCnt},e.prototype.getUserGridCnt=function(){return this.m_userGridCnt},e.prototype.clearLen=function(){this.ruler_body_rect.width=0,this.m_firstDraged=!1,this.okBtn.enabled=!1},e.prototype.lock=function(){this.m_isLocked=!0,this.okBtn.enabled=!1},e.prototype.unlock=function(){this.m_isLocked=!1,this.m_firstDraged&&(this.okBtn.enabled=!0)},e.prototype.setGridWidth=function(t){this.m_gridWidth=t;var e;for(e=0;e<this.m_totalGridCnt;++e)this.m_cells[e].m_tag=e,this.m_cells[e].texture=RES.getRes("rulerBodyCell_gif"),this.m_cells[e].x=e*this.m_gridWidth,this.m_cells[e].width=this.m_gridWidth,this.m_cells[e].height=60},e}(CLenInputerBase);t.CLenInputerEasy=e,__reflect(e.prototype,"eyelen4.CLenInputerEasy")}(eyelen4||(eyelen4={}));var eyelen4;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){},e}(eui.Button);t.CPraOKBtn=e,__reflect(e.prototype,"eyelen4.CPraOKBtn")}(eyelen4||(eyelen4={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.s_PriText="\n宜英app隐私政策（2020-08-23修正，2020-08-27于尺眼通更新）\n\n  本文的主要目的是和您约定我们收集哪些信息、如何收集和使用这些信息，及我们采取的信息安全措施和承诺等。我们深知用户信息保护的重要性，特此制定本政策。\n\n一、名词解释：\n    本政策中“个人信息”、“个人敏感信息”的定义见GB/T35273-2017。\n\n二、我们收集哪些信息：\n    1、我们会在征得用户同意的前提下，收集用户昵称、联系方式（主要是QQ、email，也包括电话号码）。用于必要的以及用户协议规定的沟通。收集方式是为客户提供客服QQ、邮箱地址、信息反馈页面等，用户联系时便能收集到这些信息。\n    2、我们可能会在征得同意的前提下收集用户的操作轨迹、设备型号、使用的其它app及服务等用于产品的改进。\n    3、我们会借助第三方服务实现一些功能，如：通过百度网盘提供一些大文件的下载。会收集到用户在这些第三方厂商的账号信息。\n    4、我们使用的第三方SDK可能会获取一些用户信息，如已安装包名列表。这些行为是我们难以控制的。但我们采用的SDK都是知名或有资质的，因此一般不会损害用户的利益。\n\n三、我们如何存储这些信息：\n    1、我们不会把用户的个人信息提供给他人，以下情况除外：\n        （1）用户已违规，按用户协议宜英可公开披露其有关信息。\n        （2）用户把宜英产品作违法、违禁用途。为了社会安定和他人人身安全，宜英有权向监管部门、司法机构等提供违反者的有关信息。\n        （3）用户的行为损害了宜英的合法权利或扰乱了正常秩序，需要举报或把有关的用户信息交公安机关、司法机构处理。\n        （4）用户使用的某些服务需要使用用户的个人信息，我们会在征得用户同意的前提下向第三方提供必要的用户个人信息。此情况下获取的用户个人信息不作他用。\n        （5）因程序运行需要，我们会把个人信息存储到其它厂商提供的服务器，并使用服务器软件运行、管理辅助软件管理，还会使用加密软件进行加密……因此，不可避免地把您的信息提供给了服务器提供商、各款服务器软件的厂商、加密解密软件厂商……\n            对此，宜英采取的措施是选用有知名度或有资质的软件，并适当了解其有关用户协议及政府和专业媒体披露的相关信息。您理解并同意因知名或有资质厂商的原因造成您个人信息泄露，宜英不承担赔偿责任。\n        （6）GB/T35273-2017等国标规定允许披露用户个人信息的其它情况。\n\n    2、我们如何处理用户个人敏感信息：\n        我们获取用户个人敏感信息会根据必要性原则，说明用途并征得用户同意。我们力求做到拒绝提供敏感信息时不影响无关功能的使用。对于获取到的敏感信息我们会不留存或以更高安全保护标准进行存储。\n\n    3、信息安全措施：\n        宜英将按国家一级（即最基础等级）信息安全保护等级标准存储您的个人信息。您理解并同意，若个人信息泄露事件为此标准所难以防范，宜英不承担赔偿责任。\n        信息泄露事件发生时，我们会及时联系存储厂商和公安机关进行处理。\n\n\n四、儿童隐私政策：\n    1、儿童的界定：\n        我们把未满14周岁的用户界定为儿童。\n\n    2、我们如何获取儿童信息：\n        考虑到儿童不具备完全民事行为能力，我们会在征得监护人同意的前提下获取监护人及儿童的个人信息。若儿童在监护人不知情的情况下使用我们的产品，我们会对其进行限制和监管。\n\n    3、我们如何使用少年儿童的个人信息：\n        为了保障少年儿童的身心健康和人身安全，我们可能会把儿童的个人信息及app内有关数据提供给其监护人以及有监护责任的监管部门，而不征得儿童本人的同意。\n\n		",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.contentLabel.$setText(this.s_PriText),this.cpyTextPanel.setText(this.s_PriText),this.cpyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCpyBtn,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtn,this)},e.prototype.onCpyBtn=function(t){this.cpyTextPanel.visible=!0},e.prototype.onCloseBtn=function(t){this.visible=!1},e}(eui.Component);t.CPrivacyPolicyPanel=e,__reflect(e.prototype,"eyelen4.CPrivacyPolicyPanel")}(eyelen4||(eyelen4={}));var CRulerEasyBodyCell=function(t){function e(){var e=t.call(this)||this;return e.m_tag=-1,e.m_checked=!1,e}return __extends(e,t),e.prototype.check=function(){this.m_checked=!0},e.prototype.uncheck=function(){this.m_checked=!1},e.prototype.checked=function(){return this.m_checked},e}(egret.Bitmap);__reflect(CRulerEasyBodyCell.prototype,"CRulerEasyBodyCell");var CTopSpace_Eyelen=function(t){function e(){var e=t.call(this)||this;return e.m_space=new egret.Shape,e.m_space.x=0,e.m_space.y=0,e.addChild(e.m_space),e}return __extends(e,t),e.prototype.setColor=function(t){this.m_color=t},e.prototype.draw=function(){this.m_space.graphics.clear(),this.m_space.graphics.beginFill(this.m_color),this.m_space.graphics.drawRect(0,0,this.width,this.height),this.m_space.graphics.endFill()},e.prototype.redraw=function(){this.draw()},e}(egret.DisplayObjectContainer);__reflect(CTopSpace_Eyelen.prototype,"CTopSpace_Eyelen");var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.s_PriText="\n宜英尺眼通、角眼通app用户协议（2020-08-23修正，2020-08-27于尺眼通更新）\n\n一、序：\n    1.1、不同意本协议者将不允许使用宜英提供的相关服务。对于不同意本协议且以协议所述方式侵犯宜英及合作厂商合法权益者，宜英也保留追究其法律责任的权利。\n\n    1.2、您理解并同意，故意逼迫、唆使、误导他人违规者也列入违规用户。\n\n    1.3、您理解并同意，对于违反本协议，或经合理判断认为违反本协议的用户，宜英有权对其账号进行封停、限制等处理，且有权公开披露其身份信息以及违规的具体情况并进行必要的说明。您理解并同意，披露的截图若难免含有侵权、泄密等不良信息，后果由您自行承担，且宜英有权把您作态度恶劣论处。\n        公开披露的同时我们会通过您提供的联系方式（如有）进行通知，或尝试通过他人转告。对披露结果有异议者可于5个月内与我们沟通解决。\n\n    1.4、您理解并同意，对于可能违反本协议或可能侵犯供应链厂商合法权益、扰乱公公秩序的情况，宜英有权向您展开调查。若调查受阻（包括但不限于沟通受阻、无回应、不以真实情况回答），情节严重者可列入违规用户名单并公开披露。\n\n    1.5、您充分理解并同意，违规行为为第三方逼迫、唆使、误导引起，但不能提供充分证据证明是第三方所为的情况，宜英将把您作违规者论处。\n\n    1.6、本协议内容会有后续变更。宜英会在协议里注明最后更新时间。您理解并同意，对于协议更新造成的纠纷，我们只根据情节和自身能力给与适当的帮助和补偿。不同意新协议内容者建议以邮件或QQ形式向我们报告，以减少因违规处罚造成的损失。\n\n    1.7、争议解决：争议发生时应当先友好协商。协商未能达成共识则可通过监管平台、监管部门、法律途径解决。宜英工作室愿意接受国家相关部门的监管、整改、关闭以及履行法定义务、承担因违法违规带来的责任。\n\n\n二、服务性质与责任的承担：\n    2.1、您理解并同意，用户无需支付费用便允许使用本app，但因使用本app造成的后果由用户自行承担，宜英工作室及供应链厂商（包括但不限于运行库提供商、素材供应商）、劳务提供商均不承担赔偿等责任。\n\n    2.2、品牌标识的有关说明：\n    “宜英”目前为个人工作室品牌。非宜英成员不得把宜英标志、app图标等用于敏感用途，包括但不限于产品标识、用户图标、论坛签名。不得冒充宜英工作室进行产品发布、消息发布、用户召集等活动。\n\n    2.3、您理解并同意，宜英app为公众提供的服务主要为非排他服务。用户不得以己方竞业要求为由阻碍宜英向竞争对手宣传和提供通用服务。须出具带有宜英签章的书面开发协议方可认定为专属定制服务。\n        违反以上规定的用户应当向宜英赔偿正规渠道推广费用的10倍（下文称“服务限制赔偿金”）。造成其它损害，包括但不限于名誉权、人身财产权者，应当根据法律规定向宜英承担额外的法律责任。服务限制赔偿金不包含名誉权、人身财产权等方面的赔偿，也不能减免其它责任。若服务限制行为同时侵犯了竞争对手的合法权益，则应同时向竞争对手和宜英足额承担各自的法律责任。\n\n    2.4、您理解并同意，对于没有以书面合同明确约定的服务，宜英工作室有权单方对服务内容进行变更、关停并于官方途径公布，而无需以邮件、手机等方式推送通知您。\n\n    2.5、您理解并同意，您不得把本app用于违禁用途，包括但不限于违法用途、法律法规规定禁止使用的情形、《使用指引》上所述的医疗等。\n        您理解并同意，对于作违禁用途者，一切后果由违反者承担，宜英不承担连带责任。宜英有权不考虑违反者的利益采取各种措施，包括但不限于中止服务、调查、举报。以上措施对涉嫌违反者造成的损失宜英不承担赔偿责任。\n\n\n三、知识产权：\n    3.1、app的使用许可：\n        本程序使用许可为MIT许可。关于MIT协议的详细说明见MIT协议官方网站。\n\n    3.2、著作权归属：\n        根据国际上的规定，本app著作权归核心技术提供方北京白鹭时代信息技术有限公司（简称白鹭科技）所有。而在中国，因发布推广的需要，内容创作方宜英工作室为著作权证书持有者。\n        侵犯著作权通常会同时侵犯白鹭科技和宜英工作室的合法权益。白鹭科技和宜英工作室均保留追究法律责任的权利。\n\n    3.3、第三方素材的有关协议：\n        宜英app会使用一些第三方提供的素材，如图片、音乐。\n        用户擅自使用这些素材作敏感用途，包括但不限于商业视频、用于自己的产品或Logo，均很有可能侵犯第三方的知识产权。\n        您理解并同意，对此侵权责任由用户自行承担。且宜英工作室因协助第三方调查、取证对您造成的损失不予以赔偿。\n\n    3.4、二次开发的有关协议：\n        （1）二次开发者发布时须在遵守MIT协议的基础上把app图标更换成自家图标，以示与原版app的区别。app内容有改动的，也要在遵守MIT协议的基础上去除相关部分的宜英标识，以区别于原版app。\n        （2）二次开发者不得侵犯程序项目中框架引擎、开发库、素材提供者等的知识产权。\n        注：本app代码中（例如：main. ts）包含白鹭科技的版权声明。二次开发者须充分理解并遵守该BSD协议，避免侵权。该版权声明的最终解释权归白鹭科技所有。\n\n",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.contentLabel.$setText(this.s_PriText),this.resetTextBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onResetTextBtn,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnTap,this)},e.prototype.onResetTextBtn=function(){this.contentLabel.$setText(this.s_PriText)},e.prototype.onCloseBtnTap=function(t){this.contentLabel.$setText(this.s_PriText),this.visible=!1},e}(eui.Component);t.CUserProPanel=e,__reflect(e.prototype,"eyelen4.CUserProPanel")}(eyelen4||(eyelen4={}));var CEyelen4WinModel=function(){function t(){this.m_topSpaceHeight=50,this.m_topHeight1=55,this.m_topHeight2=255,this.m_showTop=!0,this.m_bottomHeight=250,this.m_winWidth=0,this.m_winHeight=0}return t.prototype.setTopSpaceHeight=function(t){this.m_topSpaceHeight=t},t.prototype.getTopSpaceHeight=function(){return this.m_topSpaceHeight},t.prototype.getTopY=function(){return this.getTopSpaceHeight()},t.prototype.setTopHeight1=function(t){this.m_topHeight1=t},t.prototype.getTopHeight1=function(){return this.m_topHeight1},t.prototype.setTopHeight2=function(t){this.m_topHeight2=t},t.prototype.getTopHeight2=function(){return this.m_topHeight2},t.prototype.showTop=function(){this.m_showTop=!0},t.prototype.hideTop=function(){this.m_showTop=!1},t.prototype.getTopHeight=function(){return this.m_showTop?this.m_topHeight2:this.m_topHeight1},t.prototype.getMidY=function(){return this.getTopY()+this.m_topHeight1},t.prototype.getMidHeight=function(){return this.getWinHeight()-this.getTopSpaceHeight()-this.getTopHeight1()-this.getBottomHeight()},t.prototype.getMidVisibleY=function(){return this.getTopY()+this.getTopHeight()},t.prototype.getMidVisibleHeight=function(){return this.getWinHeight()-this.getTopSpaceHeight()-this.getTopHeight()-this.getBottomHeight()},t.prototype.getBottomY=function(){return this.m_winHeight-this.getBottomHeight()},t.prototype.setBottomHeight=function(t){this.m_bottomHeight=t},t.prototype.getBottomHeight=function(){return this.m_bottomHeight},t.prototype.setWinWidth=function(t){this.m_winWidth=t},t.prototype.getWinWidth=function(){return this.m_winWidth},t.prototype.setWinHeight=function(t){this.m_winHeight=t},t.prototype.getWinHeight=function(){return this.m_winHeight},t.prototype.rearrange=function(){},t}();__reflect(CEyelen4WinModel.prototype,"CEyelen4WinModel",["IEyelen4WinModel","ITMBWinModel","IWinModel"]);var g2_sndObjs=new Array,g2_curSndTag=0,g2_sndChls=Array(),CHTTPSResStru=function(){function t(){this.m_isInCache=!0,this.m_onPreloadCmplFunc=null,this.m_onPreloadCmplThisObj=null}return t.prototype.setUrl=function(t){this.m_url=t},t.prototype.getUrl=function(){return this.m_url},t.prototype.setResType=function(t){this.m_resType=t},t.prototype.getResType=function(){return this.m_resType},t.prototype.setOnPreloadCmpl=function(t,e){this.m_onPreloadCmplFunc=t,this.m_onPreloadCmplThisObj=e},t.prototype.preload=function(){this.m_isInCache=!1,RES.getResByUrl(this.m_url,this.onResDownloaded,this,this.m_resType)},t.prototype.onResDownloaded=function(t){this.m_resCache=t,RES.ResourceItem.TYPE_JSON==this.m_resType&&console.log(t),this.m_isInCache=!0,this.m_onPreloadCmplFunc.apply(this.m_onPreloadCmplThisObj,[this])},t}();__reflect(CHTTPSResStru.prototype,"CHTTPSResStru");var CLen=function(){function t(){}return t.from=function(e,i,r,n,s,o){void 0===n&&(n=""),void 0===s&&(s=""),void 0===o&&(o="");var h=new t;return h.m_length=e,h.m_isHor=i,h.m_x=r[0],h.m_y=r[1],h.m_imgPath=n,h.m2_imgResName=s,h.m_className=o,h},t.fromJsonStr=function(t){var e=null;return e},t.prototype.toJSONStr=function(){var t="";return t=JSON.stringify(this)},t}();__reflect(CLen.prototype,"CLen");var CLenPtsRects=function(){function t(){this.m_lenEdge1DispRect=new gdeint.CRect,this.m_lenQuestionerDispPt=new gdeint.CPoint,this.m_lenQuestionerFontSize=-1,this.m_lenEdge2DispRect=new gdeint.CRect}return t}();__reflect(CLenPtsRects.prototype,"CLenPtsRects");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var CDiv=function(){function t(){}return t.prototype.show=function(){},t.prototype.hide=function(){},t.prototype.addChild=function(t){},t}();__reflect(CDiv.prototype,"CDiv",["IDiv","IDispObj"]);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,r){function n(t){e.call(r,t)}function s(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),i.call(r))}var o=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(r,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,i){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(r,generateEUI2)},o)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var h=t.split("/");h.pop();var a=h.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(r,generateJSON.paths[t])},this):RES.getResByUrl(a,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){e.call(r,generateJSON.paths[t])},o)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(r,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var CDispObj2EgretDOAdapter=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.from=function(t){var i=new e;return i.m_adaptee=t,i},e}(CDispObj);__reflect(CDispObj2EgretDOAdapter.prototype,"CDispObj2EgretDOAdapter");var CDiv2EgretDispOCAdapter=function(){function t(){}return t.from=function(e){var i=new t;return i.m_adaptee=e,i},t.prototype.addChild=function(t){this.m_adaptee.addChild(t.m_adaptee)},t.prototype.show=function(){this.m_adaptee.visible=!0},t.prototype.hide=function(){this.m_adaptee.visible=!1},t.prototype.toEgretDispObjContainer=function(){return this.m_adaptee},t}();__reflect(CDiv2EgretDispOCAdapter.prototype,"CDiv2EgretDispOCAdapter",["IDivWithEgret","IDiv","IDispObj"]);var CEyelenPraContainer=function(t){function e(){var e=t.call(this)||this;return e.m_NoImgMode=!1,e.m_visibilityTempScene=!1,e.m_resNameFinder=new CEyelen4ResNameFinder,e.m_renderFilter=new CEyelen3ERenderFilter,e.m_renderFilter.setCaRat(1),e}return __extends(e,t),e.prototype.setResNameFinder=function(t){this.m_resNameFinder=t},e.prototype.getResNameFinder=function(){return this.m_resNameFinder},e.prototype.disableForNoti=function(){this._getPraScene().disableForNoti()},e.prototype.resumeAfterNoti=function(){this._getPraScene().resumeAfterNoti()},e.prototype.applyFunc=function(t,e){null!=t&&t.apply(this._getPraScene(),e)},e.prototype.setPraScene=function(t){this.m_praScene=t,this.m_praScene._setParentContainer(this)},e.prototype.setCaliDlg=function(t){this.m_caliDlg=t,this.m_caliDlg._setParentContainer(this)},e.prototype.setPraMenu=function(t){this.m_praMenu=t,this.m_praMenu._setParentContainer(this)},e.prototype.setRenderFilter=function(t){this.m_renderFilter=t},e.prototype.setPreloaderUI=function(t){this.m_preloaderUI=t,this.m_preloaderUI._setParentContainer(this)},e.prototype.setCaRat=function(t){this.m_renderFilter.setCaRat(t)},e.prototype.getCaRat=function(){return this.m_renderFilter._getCaRat()},e.prototype.getDlgLayer=function(){return this._getPraScene().getDlgLayer()},e.prototype.getNotiLayer=function(){return this._getPraScene().getNotiLayer()},e.prototype._getPraScene=function(){return this.m_praScene},e.prototype._getCaliDlg=function(){return this.m_caliDlg},e.prototype._getPraMenu=function(){return this.m_praMenu},e.prototype._getRenderFilter=function(){return this.m_renderFilter},e.prototype._getPreloaderUI=function(){return this.m_preloaderUI},e.prototype.show=function(){this.m_visibilityTempScene&&this.m_praScene.show();var t,e=this.getAllPluginsThis();for(t=0;t<e.length;++t)this.m_visibilityTempArrThis&&this.m_visibilityTempArrThis[t]&&e[t].show()},e.prototype.hide=function(){this.m_praScene.hide(),this.saveVisibleStates();var t,e=this.getAllPluginsThis();for(t=0;t<e.length;++t)null!=e[t]&&e[t].hide()},e.prototype.isVisible=function(){return!0},e.prototype.showCaliDlg=function(t){var e=this._getCaliDlg();e._setCloseListener(t),e.show()},e.prototype.showPraMenu=function(){console.log("OK1!");var t=this._getPraMenu();console.log("praMenu got!"),t.show()},e.prototype.startNewPra=function(){this._getPraScene().hide();var t=this._getPreloaderUI();t.show(),t.setCompleteListener(this.onPicXMLLoadComplete,this);var e=new gdeint.CPreloadTask,i=new Array;this.m_seledPicTagArr=gdeint.randomNums_ts(18,4);var r;for(r=0;r<this.m_seledPicTagArr.length;++r)i[r]=new gdeint.ResStruct,this.m_resNameFinder.setInp(this.m_seledPicTagArr[r].toString()),i[r].m_resName=this.m_resNameFinder.getResult(),i[r].m_givenSize=500;e.m_resList=i,this.m_NoImgMode?e.m_proportion=101:e.m_proportion=30,e.m_taskName="picXMLs",t.addTask(e),t.setNoTaskLeft(!0),t.startPreload()},e.prototype.onPicXMLLoadComplete=function(){var t,e=new Array;for(t=0;t<this.m_seledPicTagArr.length;++t){var i;this.m_resNameFinder.setInp(this.m_seledPicTagArr[t].toString()),i=this.m_resNameFinder.getResult();var r;r=this.m_resLoader.getRes(i),console.log(r);var n,s=r.pics.pic.lens.len.length;for(n=0;s>n;++n){var o=new CLen;o.m_className="CLen",o.m_x=parseFloat(r.pics.pic.lens.len[n].x),o.m_y=parseFloat(r.pics.pic.lens.len[n].y),o.m_length=parseFloat(r.pics.pic.lens.len[n].length);var h;h=r.pics.pic.lens.len[n].hor,"1"==h?o.m_isHor=!0:o.m_isHor=!1,o.m_imgPath=r.pics.pic.imgPath,this.m_resNameFinder.setInp(o.m_imgPath),o.m2_imgResName=this.m_resNameFinder.getResult(),e.push(o)}}if(this.m_NoImgMode){var a;a=new Array;var n;for(n=0;n<e.length;++n){var m;if(m=e[n],m.m_isHor){for(;m.m_x+m.m_length>1024;)m.m_x-=200;for(;m.m_y>720;)m.m_y-=200}else{for(;m.m_x>1024;)m.m_x-=200;for(;m.m_y+m.m_length>720;)m.m_y-=200}a.push(m)}this.m_praScene.setLenArr(a)}else this.m_praScene.setLenArr(e);if(this.m_NoImgMode)this.onPicImgLoadComplete();else{var _=this.m_praScene._getParentContainer()._getPreloaderUI();_.setNoTaskLeft(!1),_.setCompleteListener(this.onPicImgLoadComplete,this);var n,l=new gdeint.CPreloadTask,p=new Array;for(n=0;n<this.m_seledPicTagArr.length;++n){var g="",c="";p[n]=new gdeint.ResStruct;var d;this.m_resNameFinder.setInp(this.m_seledPicTagArr[n].toString()),d=this.m_resNameFinder.getResult();var r=this.m_resLoader.getRes(d);g=r.pics.pic.imgPath,this.m_resNameFinder.setInp(g),c=this.m_resNameFinder.getResult(),p[n].m_resName=c,p[n].m_givenSize=500}l.m_resList=p,l.m_proportion=72,l.m_taskName="picImgs",_.addTask(l),_.setNoTaskLeft(!0),_.startPreload()}},e.prototype.onPicImgLoadComplete=function(){this.m_preloaderUI.setNextActListener(this.startRunPra,this)},e.prototype.startRunPra=function(){this.m_preloaderUI.clearProgress(),this._getPreloaderUI().hide(),this.m_praScene.startNewPra(),this._getPraScene().show()},e.prototype.sendMsgToScene=function(t,e){return this.m_praScene.sendMsg(t,e)},e.prototype._quitPra=function(){},e.prototype.setQuitHandler=function(t){},e.prototype.getAllPluginsThis=function(){var t=new Array;return t[0]=this._getAlertDlg(),t[1]=this._getConfirmDlg(),t[2]=this.m_caliDlg,t[4]=this.m_praMenu,t[3]=this.m_preloaderUI,t},e.prototype.saveVisibleStates=function(){this.m_visibilityTempArrThis=new Array,this.m_visibilityTempScene=this.m_praScene.isVisible();var t,e=this.getAllPluginsThis();for(t=0;t<e.length;++t)null!=e[t]&&(this.m_visibilityTempArrThis[t]=e[t].isVisible())},e.prototype.getVisibleStates=function(){return this.m_visibilityTempArrThis},e}(CUIContainer);__reflect(CEyelenPraContainer.prototype,"CEyelenPraContainer",["IEyelenPraContainer"]);var CEyelenProPraContainer=function(t){function e(){var e=t.call(this)||this;return e.m_NoImgMode=!1,e.m_visibilityTempScene=!1,e.m_resNameFinder=new CEyelen4ResNameFinder,e.m_renderFilter=new CEyelen3ERenderFilter,e.m_renderFilter.setCaRat(1),e}return __extends(e,t),e.prototype.setResNameFinder=function(t){this.m_resNameFinder=t},e.prototype.getResNameFinder=function(){return this.m_resNameFinder},e.prototype.disableForNoti=function(){this._getPraScene().disableForNoti()},e.prototype.resumeAfterNoti=function(){this._getPraScene().resumeAfterNoti()},e.prototype.applyFunc=function(t,e){null!=t&&t.apply(this._getPraScene(),e)},e.prototype.setPraScene=function(t){this.m_praScene=t,this.m_praScene._setParentContainer(this)},e.prototype.setCaliDlg=function(t){this.m_caliDlg=t,this.m_caliDlg._setParentContainer(this)},e.prototype.setPraMenu=function(t){this.m_praMenu=t,this.m_praMenu._setParentContainer(this)},e.prototype.setRenderFilter=function(t){this.m_renderFilter=t},e.prototype.setPreloaderUI=function(t){this.m_preloaderUI=t,this.m_preloaderUI._setParentContainer(this)},e.prototype.setCaRat=function(t){this.m_renderFilter.setCaRat(t)},e.prototype.getCaRat=function(){return this.m_renderFilter._getCaRat()},e.prototype.getDlgLayer=function(){return this._getPraScene().getDlgLayer()},e.prototype.getNotiLayer=function(){return this._getPraScene().getNotiLayer()},e.prototype._getPraScene=function(){return this.m_praScene},e.prototype._getCaliDlg=function(){return this.m_caliDlg},e.prototype._getPraMenu=function(){return this.m_praMenu},e.prototype._getRenderFilter=function(){return this.m_renderFilter},e.prototype._getPreloaderUI=function(){return this.m_preloaderUI},e.prototype.show=function(){this.m_visibilityTempScene&&this.m_praScene.show();var t,e=this.getAllPluginsThis();for(t=0;t<e.length;++t)this.m_visibilityTempArrThis&&this.m_visibilityTempArrThis[t]&&e[t].show()},e.prototype.hide=function(){this.m_praScene.hide(),this.saveVisibleStates();var t,e=this.getAllPluginsThis();for(t=0;t<e.length;++t)null!=e[t]&&e[t].hide()},e.prototype.isVisible=function(){return!0},e.prototype.showCaliDlg=function(t){var e=this._getCaliDlg();e._setCloseListener(t),e.show()},e.prototype.showPraMenu=function(){console.log("OK1!");var t=this._getPraMenu();console.log("praMenu got!"),t.show()},e.prototype.fn2_fetchRetryLens=function(t){egret.ExternalInterface.call("fetchRetryLens",""),this.m2_fetchRetryLensNextAct=t;var e=new egret.Timer(200,1);e.addEventListener(egret.TimerEvent.TIMER,this.fetchRetryLens_step2,this),e.start()},e.prototype.fetchRetryLens_step2=function(){this.m_retryLensArr=new Array;var t=new CLen;t.m_className="CLen",t.m_x=10,t.m_y=20,t.m_isHor=!0,t.m_length=300,t.m_imgPath="img_001.gif",t.m2_imgResName="img_001_gif";var e=new CLen;e.m_className="CLen",e.m_x=110,e.m_y=220,e.m_isHor=!1,e.m_length=240,e.m_imgPath="img_002.png",e.m2_imgResName="img_002_png";var i=new CLen;i.m_className="CLen",i.m_x=40,i.m_y=300,i.m_isHor=!0,i.m_length=80,i.m_imgPath="img_003.gif",i.m2_imgResName="img_003_gif",g2_tmpWaitingForRetFromNative=!0,console.log("OK2"),console.log("Parsing:"+g2_tmpRetryLensJSONStr);var r=JSON.parse(g2_tmpRetryLensJSONStr);console.log("OK2.5");var n,s;r.RetryLens.length>0&&(n=r.RetryLens[0],console.log("OK3"),t.m_className=n.m_className,t.m_x=n.m_x,t.m_y=n.m_y,t.m_isHor=n.m_isHor,t.m_length=n.m_length,t.m_imgPath=n.m_imgPath,t.m2_imgResName=n.m2_imgResName,i.m_className=n.m_className,i.m_x=n.m_x,i.m_y=n.m_y,i.m_isHor=n.m_isHor,i.m_length=n.m_length,i.m_imgPath=n.m_imgPath,i.m2_imgResName=n.m2_imgResName),console.log("OK4"),r.RetryLens.length>1&&(s=r.RetryLens[1],e.m_className=s.m_className,e.m_x=s.m_x,e.m_y=s.m_y,e.m_isHor=s.m_isHor,e.m_length=s.m_length,e.m_imgPath=s.m_imgPath,e.m2_imgResName=s.m2_imgResName),this.m_retryLensArr.push(t),this.m_retryLensArr.push(e),this.m_retryLensArr.push(i),console.log("OK5"),this.m2_fetchRetryLensNextAct.apply(this)},e.prototype.startNewPra=function(){console.log("OK0"),this.fn2_fetchRetryLens(this.startNewPra_step2)},e.prototype.startNewPra_step2=function(){console.log("Successfully jumped to startNewPra_step2!"),this._getPraScene().hide();var t=this._getPreloaderUI();t.show(),t.setCompleteListener(this.onPicJSONLoadComplete,this);var e=new gdeint.CPreloadTask,i=new Array;console.log("OK0.3");var r;for(r=0;r<this.m_retryLensArr.length;++r)i[r]=new gdeint.ResStruct,this.m_resNameFinder.setInp(this.m_retryLensArr[r].m2_imgResName),i[r].m_resName=this.m_resNameFinder.getResult(),i[r].m_givenSize=500;this.m_seledPicTagArr=gdeint.randomNums_ts(18,4);var n;for(n=0;n<this.m_seledPicTagArr.length;++n)i[n+3]=new gdeint.ResStruct,this.m_resNameFinder.setInp(this.m_seledPicTagArr[n].toString()),i[n+3].m_resName=this.m_resNameFinder.getResult(),i[n+3].m_givenSize=500;e.m_resList=i,this.m_NoImgMode?e.m_proportion=101:e.m_proportion=30,e.m_taskName="picXMLs",t.addTask(e),t.setNoTaskLeft(!0),t.startPreload()},e.prototype.onPicJSONLoadComplete=function(){var t,e=new Array;for(t=0;3>t;++t)e.push(this.m_retryLensArr[t]);for(t=0;t<this.m_seledPicTagArr.length;++t){var i;this.m_resNameFinder.setInp(this.m_seledPicTagArr[t].toString()),i=this.m_resNameFinder.getResult();var r;r=this.m_resLoader.getRes(i),console.log(r);var n,s=r.pics.pic.lens.len.length;for(n=0;s>n;++n){var o=new CLen;o.m_className="CLen",o.m_x=parseFloat(r.pics.pic.lens.len[n].x),o.m_y=parseFloat(r.pics.pic.lens.len[n].y),o.m_length=parseFloat(r.pics.pic.lens.len[n].length);var h;h=r.pics.pic.lens.len[n].hor,"1"==h?o.m_isHor=!0:o.m_isHor=!1,o.m_imgPath=r.pics.pic.imgPath,this.m_resNameFinder.setInp(o.m_imgPath),o.m2_imgResName=this.m_resNameFinder.getResult(),e.push(o)}}if(this.m_NoImgMode){var a;a=new Array;var n;for(n=0;n<e.length;++n){var m;if(m=e[n],m.m_isHor){for(;m.m_x+m.m_length>1024;)m.m_x-=200;for(;m.m_y>720;)m.m_y-=200}else{for(;m.m_x>1024;)m.m_x-=200;for(;m.m_y+m.m_length>720;)m.m_y-=200}a.push(m)}this.m_praScene.setLenArr(a)}else this.m_praScene.setLenArr(e);if(this.m_NoImgMode)this.onPicImgLoadComplete();else{var _=this.m_praScene._getParentContainer()._getPreloaderUI();_.setNoTaskLeft(!1),_.setCompleteListener(this.onPicImgLoadComplete,this);var n,l=new gdeint.CPreloadTask,p=new Array;for(n=0;n<this.m_seledPicTagArr.length;++n){var g="",c="";p[n]=new gdeint.ResStruct;var d;this.m_resNameFinder.setInp(this.m_seledPicTagArr[n].toString()),d=this.m_resNameFinder.getResult();var r=this.m_resLoader.getRes(d);g=r.pics.pic.imgPath,this.m_resNameFinder.setInp(g),c=this.m_resNameFinder.getResult(),p[n].m_resName=c,p[n].m_givenSize=500}l.m_resList=p,l.m_proportion=72,l.m_taskName="picImgs",_.addTask(l),_.setNoTaskLeft(!0),_.startPreload()}},e.prototype.onPicImgLoadComplete=function(){this.m_preloaderUI.setNextActListener(this.startRunPra,this)},e.prototype.startRunPra=function(){this.m_preloaderUI.clearProgress(),this._getPreloaderUI().hide(),console.log("OK1"),this.m_praScene.startNewPra(),this._getPraScene().show()},e.prototype.sendMsgToScene=function(t,e){return this.m_praScene.sendMsg(t,e)},e.prototype._quitPra=function(){},e.prototype.setQuitHandler=function(t){},e.prototype.getAllPluginsThis=function(){var t=new Array;return t[0]=this._getAlertDlg(),t[1]=this._getConfirmDlg(),t[2]=this.m_caliDlg,t[4]=this.m_praMenu,t[3]=this.m_preloaderUI,t},e.prototype.saveVisibleStates=function(){this.m_visibilityTempArrThis=new Array,this.m_visibilityTempScene=this.m_praScene.isVisible();var t,e=this.getAllPluginsThis();for(t=0;t<e.length;++t)null!=e[t]&&(this.m_visibilityTempArrThis[t]=e[t].isVisible())},e.prototype.getVisibleStates=function(){return this.m_visibilityTempArrThis},e}(CUIContainer);__reflect(CEyelenProPraContainer.prototype,"CEyelenProPraContainer",["IEyelenPraContainer"]);var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_trueWidth=480,e.m_trueHeight=744,e.m2_cc=!1,e.m_startTimer=new egret.Timer(5e3,1),e}return __extends(e,t),e.prototype.childrenCreated=function(){S_BUILD_FOR==S_NATIVE_ANDROID?(this.aao.visible=!1,this.startDiffProBtn.visible=!0,this.diffProHelpBtn.visible=!0,this.viewDiffProHisScoreBtn.visible=!0):(this.aao.visible=!0,this.startDiffProBtn.visible=!1,this.diffProHelpBtn.visible=!1,this.viewDiffProHisScoreBtn.visible=!1),this.startEasyBtn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startEasy,this),this.startDifficultBtn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startDifficult,this),this.startDiffProBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startDiffPro,this),this.viewDiffProHisScoreBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onViewDiffProHisScoreBtn,this),this.diffProHelpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onDiffProHelpBtn,this),this.m2_cc=!0,this.rearrangeUI()},e.prototype.setTrueWidth=function(t){this.m_trueWidth=t,this.m2_cc&&this.rearrangeUI()},e.prototype.setTrueHeight=function(t){this.m_trueHeight=t,this.m2_cc&&this.rearrangeUI()},e.prototype.rearrangeUI=function(){var t,e,i,r=0;e=this.m_trueWidth/400,i=this.m_trueHeight/744,i>e?(t=e,r=0):(t=i,r=(this.m_trueWidth/t-400)/2),this.menuGrp.left=.125*this.m_trueWidth+r,this.menuGrp.scaleX=t,this.menuGrp.scaleY=t},e.prototype.run=function(){this.m_startTimer.start(),g_shutdownTimer.start()},e.prototype.startEasy=function(){g_level=1,g_praEasyContainer.startNewPra(),g_praEasyContainer.saveVisibleStates(),g_pageJumper.gotoPage("PraEasyScene",null),this.m_startTimer.stop()},e.prototype.startNormal=function(){g_level=2},e.prototype.startDifficult=function(){g_level=3,g_praDifficultContainer.startNewPra(),g_praDifficultContainer.saveVisibleStates(),g_pageJumper.gotoPage("PraDifficultScene",null),this.m_startTimer.stop()},e.prototype.startDiffPro=function(){g_level=2,g_praDiffProContainer.startNewPra(),g_praDiffProContainer.saveVisibleStates(),g_pageJumper.gotoPage("PraDiffProScene",null),this.m_startTimer.stop()},e.prototype.onViewDiffProHisScoreBtn=function(){egret.ExternalInterface.call("fetchDiffProHisScore",""),this.viewDiffProHisScoreDlg.show()},e.prototype.onDiffProHelpBtn=function(){console.log("Showing diffProHelp!"),this.alertDlg.setContent("专业模式：对错题有针对性，大幅度提高训练效果。"),this.alertDlg.showDlg()},e.prototype.onPrintMisRecBtn=function(){egret.ExternalInterface.call("printMisRec","")},e.prototype.goBack=function(){},e}(eui.Panel);t.CMainMenu=e,__reflect(e.prototype,"eyelen4.CMainMenu")}(eyelen4||(eyelen4={}));var CWelcomePage_Eyelen4=function(){function t(){this.m_commonPage=new gdeint.CPage}return t.prototype.show=function(){this.m_commonPage.show(),this.m_scene.visible=!0},t.prototype.hide=function(){this.m_commonPage.hide(),this.m_scene.visible=!1},t.prototype.isVisible=function(){return this.m_scene.visible},t.prototype.showOnFront=function(){this.m_commonPage.showOnFront(),this.show(),this.onShownOnFront()
},t.prototype.onShownOnFront=function(){this.m_commonPage.onShownOnFront(),this.m_scene.switch2StartBtn()},t}();__reflect(CWelcomePage_Eyelen4.prototype,"CWelcomePage_Eyelen4",["gdeint.IPage","gdeint.IHidable"]);var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_cc=!1,e.m_cc=!1,e}return __extends(e,t),e.prototype.switch2StartBtn=function(){this.m_cc&&(this.startBtn.visible=!0)},e.prototype.childrenCreated=function(){this.shutdownClock.setFontSize(18),this.shutdownClock.setTimer(g_shutdownTimer),this.shutdownClock.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClockTap,this),this.userProLabel.text="",this.userProLabel.textFlow=new Array({text:"我已阅读并同意",style:{}},{text:"《用户协议》",style:{href:"event:text event triggered",textColor:4474111}},{text:" ",style:{}}),this.userProLabel.touchEnabled=!0,this.userProLabel.addEventListener(egret.TextEvent.LINK,function(t){this.userProPanel.visible=!0},this),this.priPoliLabel.text="",this.priPoliLabel.textFlow=new Array({text:"我已阅读并同意",style:{}},{text:"《隐私政策》",style:{href:"event:text event triggered",textColor:4474111}},{text:" ",style:{}}),this.priPoliLabel.touchEnabled=!0,this.priPoliLabel.addEventListener(egret.TextEvent.LINK,function(t){this.priPoliPanel.visible=!0},this),this.horverLabel.textFlow=new Array({text:"我已认真进行",style:{}},{text:"横竖检验",style:{href:"event:text event triggered",textColor:4474111}},{text:"并仔细阅读相\n关说明",style:{}}),this.horverLabel.touchEnabled=!0,this.horverLabel.addEventListener(egret.TextEvent.LINK,function(t){this.horverCheckPanel.visible=!0},this),this.showCRBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onShowCR,this),this.startBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onStartPra,this),this.helpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onHelp,this),this.userProRead.addEventListener(eui.UIEvent.CHANGE,this.onReadyCBCheck,this),this.priPoliRead.addEventListener(eui.UIEvent.CHANGE,this.onReadyCBCheck,this),this.horverChecked.addEventListener(eui.UIEvent.CHANGE,this.onReadyCBCheck,this),this.m_cc=!0},e.prototype.onReadyCBCheck=function(){this.userProRead.selected&&this.priPoliRead.selected&&this.horverChecked.selected?this.startBtn.enabled=!0:this.startBtn.enabled=!1},e.prototype.onShowCR=function(){this.crPanel.visible=!0},e.prototype.onHelp=function(){this.helpPanel.visible=!0},e.prototype.onStartPra=function(t){this.startBtn.visible=!1,g_pageJumper.gotoPage("MainMenu",null),g_mainMenu.run()},e.prototype.onClockTap=function(){g_praEasyContainer.showAlert("为了您的健康，每次使用20分钟后自动停止。",null)},e}(eui.Component);t.CWelcomeScene_Eyelen4=e,__reflect(e.prototype,"eyelen4.CWelcomeScene_Eyelen4")}(eyelen4||(eyelen4={}));var MSG_PICS_PRELOAD_FINISHED=1,MSG_IMGS_PRELOAD_FINISHED=2,s_topRightWidth=250,s_topRightHeight1=70,s_cellWidth=20,eyelen4;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.m2_cc=!1,i.x=0,i.y=0,i.m_topOpen=!0,i.m_wm=new CEyelen4WinModel,i.m_wm.setTopSpaceHeight(s_topSpaceHeight),i.m_wm.setTopHeight1(30),i.m_wm.setTopHeight2(190),i.m_wm.showTop(),i.m_wm.setBottomHeight(300),i.m_pm=new CEyelen3EPraMachineDifficult,i.m_UIPresenter=new CEyelen4PraDifficultPresenter,i.m_UIPresenter.bindPM(i.m_pm),i.m_tipBalloon1=new t.CBalloonTip,i.m_tipBalloon1.visible=!1,i.m_tipBalloon2=new t.CBalloonTip,i.m_tipBalloon2.visible=!1,i.m_imgOriWidth=0,i.m_imgHorSpace=100,i.m_imgVerSpace=80,i.m2_imgTchStartPoint=new gdeint.CPoint,i.m2_isImgMoving=!1,i.m_topSpace=new CTopSpace_Eyelen,i.m_curPicTag=-1,i.m_curRoundTag=-1,i.m2_isFirstPra=!0,i}return __extends(i,e),i.prototype.childrenCreated=function(){this.shutdownClock.setFontSize(24),this.m_bgUnderTop=new egret.Shape,this.bgUnderTopGrp.addChild(this.m_bgUnderTop),this.midArea.m_UIPresenter=this.m_UIPresenter,this.midArea.setVisibleStartY(this.m_wm.getTopHeight2()-this.m_wm.getTopHeight1()),this.bottomArea.caliBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCaliBtn,this),this.bottomArea.menuBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onMenuBtn,this),this.bottomArea.lenInputer.okBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onOKButtonTap,this),this.m2_cc=!0,this.shutdownClock.setTimer(g_shutdownTimer),this.shutdownClock.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClockTap,this)},i.prototype._setParentContainer=function(t){e.prototype._setParentContainer.call(this,t),this.m_UIPresenter.setRenderFilter(this.getParentContainer()._getRenderFilter())},i.prototype.getPM=function(){return this.m_pm},i.prototype.setLenArr=function(t){this.m_pm.setLenArr(t)},i.prototype.getCurPicTag=function(){return this.m_curPicTag},i.prototype.initCmpLenDlg=function(){this.m_cmpLenDlg=new t.CCmpLenDlg,this.m_cmpLenDlg.x=(this.m_winWidth-400)/2,this.m_cmpLenDlg.y=200,this.m_cmpLenDlg.visible=!1,this.m_cmpLenDlg.onNextBtnEvent(egret.TouchEvent.TOUCH_TAP,this.onNextButtonTap,this),this.addChild(this.m_cmpLenDlg)},i.prototype.onNextButtonTap=function(t){g_isSndOn&&playBtnSnd(),this.hideCmpLenDlg();var e;if(e=this.m_pm.getCmplProgress(),e>=10){this.bottomArea.lenInputer.lock();var i=this.m_pm.getCurScore();this.finalScoreDlg.setScore(i),this.finalScoreDlg.visible=!0,i>=270?this.finalScoreDlg.setStars(3):i>=240?this.finalScoreDlg.setStars(2):i>=180?this.finalScoreDlg.setStars(1):(this.finalScoreDlg.setStars(0),this._getParentContainer().showAlert("成绩很差哟！\n别灰心，继续努力！！",this.onFailurePanelClose))}else this.m_UIPresenter.nextLen(),this.m_UIPresenter.setUserLen(0),this.bottomArea.lenInputer.clearLen(),this.bottomArea.lenInputer.unlock(),this.showLen(this.m_pm.getCurLen())},i.prototype.onFailurePanelClose=function(t){},i.prototype.showCmpLenDlg=function(){var t=this.m_UIPresenter.m_curRank;this.m_cmpLenDlg.setScore(10*t);this.m_pm.getCurLen();this.m_cmpLenDlg.setCorreLen(this.m_pm.getCurLen().m_length*this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_cmpLenDlg.setUserLen(this.m_UIPresenter.m_userLen),this.m_cmpLenDlg.visible=!0;this.m_pm.getCurLen()},i.prototype.hideCmpLenDlg=function(){this.m_cmpLenDlg.visible=!1},i.prototype.onOKButtonTap=function(t){g_isSndOn&&playBtnSnd(),this.m_UIPresenter.setUserLen(this.bottomArea.lenInputer.getLen()),this.m_UIPresenter.submitLen(),this.showCmpLenDlg(),this.bottomArea.lenInputer.lock();var e=(this.m_pm.getLastLenRank(),this.m_pm.getCurScore()),i=this.m_pm.getCmplProgress();this.topArea.scoreView.setScoreWithPro(e,i),this.topArea.progressView.setProgress(i)},i.prototype.replayBtnTouched=function(){this.finalScoreDlg.visible=!1,this.bottomArea.lenInputer.unlock(),this.bottomArea.lenInputer.clearLen(),this.getParentContainer().startNewPra()},i.prototype.onClockTap=function(){g_praDifficultContainer.showAlert("为了您的健康，每次使用20分钟后自动停止。",null)},i.prototype.startNewPra=function(){this.m_pm.startPra(),this.m2_isFirstPra?(this.m2_isFirstPra=!1,this.createScene()):this.refreshScene()},i.prototype.readjustThumb=function(){var t=this.m_UIPresenter.getThumbRect();this.m_NoImgMode?this.topArea.thumbUI.setShape(this.midArea.m_randomGraphShape):this.topArea.thumbUI.setImgSrc(this.m_curImgResName),this.topArea.thumbUI.x=t.m_left/480*this.m_winWidth,this.topArea.thumbUI.y=t.m_top,this.topArea.thumbUI.setThumbWidth(t.m_width),this.topArea.thumbUI.setThumbHeight(t.m_height)},i.prototype.readjustThumbSel=function(){var t=this.m_UIPresenter.getThumbSelRect();this.topArea.thumbUI.setSelRect(t)},i.prototype.showThumbQuestioner=function(t){var e=this.m_pm.getCurLen(),i=new gdeint.CPoint;new gdeint.CPoint;i.m_x=e.m_x+e.m_length/2,i.m_y=e.m_y;var r=this.m_UIPresenter.getThumbQuestionerDispCenterPt();this.topArea.thumbUI.thumbQuestioner.x=r.m_x-8,this.topArea.thumbUI.thumbQuestioner.y=r.m_y-11},i.prototype.showImg=function(t){if(this.m_NoImgMode)return void console.log("Warning! showImg not supported in no img mode!");var e;e=this.m_curImgResName;var i=new egret.Bitmap;if(i.texture=this.m_parentContainer._getResLoader().getRes(t),this.m_imgOriWidth=i.width,this.midArea.imgFromFile.height=i.height,this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(this.midArea.imgFromFile.height),this.midArea.imgFromFile.width=this.m_imgOriWidth*this.m_UIPresenter.getRenderFilter()._getCaRat(),this.midArea.imgFromFile.texture=this.m_parentContainer._getResLoader().getRes(t),this.m_curImgResName=t,this.topArea.thumbUI.setImgSrc(t),e==this.m_curImgResName);else{var r=new gdeint.CPoint;r.m_x=0,r.m_y=0,this.m_UIPresenter.inpImgSelPt(r),this.m_UIPresenter.inpImgSelWidth(this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight());var n;n=this.m_UIPresenter.getImgRect(),this.midArea.midContentGroup.x=n.m_left,this.midArea.midContentGroup.y=n.m_top}this.readjustThumb(),this.readjustThumbSel()},i.prototype.showRandomGraph=function(){this.midArea.randomGraph.visible=!0,this.midArea.imgFromFile.visible=!1,this.midArea.m_randomGraphShape.genGraph(1024,720),this.m_imgOriWidth=1024,this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(720),this.midArea.m_randomGraphShape.resize(this.m_imgOriWidth*this.m_UIPresenter.getRenderFilter()._getCaRat(),720);var t=new gdeint.CPoint;t.m_x=0,t.m_y=0,this.m_UIPresenter.inpImgSelPt(t),this.m_UIPresenter.inpImgSelWidth(this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight());var e;e=this.m_UIPresenter.getImgRect(),this.midArea.midContentGroup.x=e.m_left,this.midArea.midContentGroup.y=e.m_top,this.readjustThumb(),this.readjustThumbSel()},i.prototype._showLen=function(t){if(this.m_lenEdgeCanvas.graphics.clear(),t.m_isHor){this.m_lenQuestioner.x=t.m_x*this.m_UIPresenter.getRenderFilter()._getCaRat()+t.m_length*this.m_UIPresenter.getRenderFilter()._getCaRat()/2-10,this.m_lenQuestioner.y=t.m_y-20,this.m_lenEdgeCanvas.x=t.m_x*this.m_UIPresenter.getRenderFilter()._getCaRat()-5,this.m_lenEdgeCanvas.y=t.m_y-30,this.m_lenEdgeCanvas.graphics.beginFill(65535),this.m_lenEdgeCanvas.graphics.drawRect(0,0,5,60);var e,i;e=t.m_length*this.m_UIPresenter.getRenderFilter()._getCaRat()+5,i=0,this.m_lenEdgeCanvas.graphics.drawRect(e,i,5,60),this.m_lenEdgeCanvas.graphics.endFill()}else{var r;r=this.m_UIPresenter.calcuLenPtsRects(t);var n=this.m_UIPresenter.getLenQuestionerFontSize();this.m_lenQuestioner.x=r.m_lenQuestionerDispPt.m_x,this.m_lenQuestioner.y=r.m_lenQuestionerDispPt.m_y,this.m_lenQuestioner.size=n,this.m_lenEdgeCanvas.x=r.m_lenEdge1DispRect.m_left,this.m_lenEdgeCanvas.y=r.m_lenEdge1DispRect.m_top,this.m_lenEdgeCanvas.graphics.beginFill(65535),this.m_lenEdgeCanvas.graphics.drawRect(0,0,r.m_lenEdge1DispRect.m_width,r.m_lenEdge1DispRect.m_height);var e,i;e=r.m_lenEdge2DispRect.m_left-r.m_lenEdge1DispRect.m_left,i=r.m_lenEdge2DispRect.m_top-r.m_lenEdge1DispRect.m_top,this.m_lenEdgeCanvas.graphics.drawRect(e,i,r.m_lenEdge1DispRect.m_width,r.m_lenEdge1DispRect.m_height),this.m_lenEdgeCanvas.graphics.endFill()}},i.prototype.showLen=function(t){this.m_UIPresenter.showLen(t),this.m_NoImgMode?this.showRandomGraph():this.showImg(t.m2_imgResName),this._showLen(t),this.showThumbQuestioner(t)},i.prototype.onThumbTap=function(t){var e=new gdeint.CPoint;e.m_x=t.m_tchX-this.m_UIPresenter.getThumbSelRect().m_width/2,e.m_y=t.m_tchY-this.m_UIPresenter.getThumbSelRect().m_height/2,this.m_UIPresenter.inpThSelPt(e),this.syncWithUIPresenter()},i.prototype.createTop=function(){this.topAreaGroup.y=this.m_wm.getTopY(),this.m_bgUnderTop.x=0,this.m_bgUnderTop.y=0,this.m_bgUnderTop.width=this.m_wm.getWinWidth(),this.m_bgUnderTop.height=this.m_wm.getTopHeight(),this.m_bgUnderTop.graphics.beginFill(65280),this.m_bgUnderTop.graphics.drawRect(0,0,this.m_bgUnderTop.width,this.m_bgUnderTop.height),this.m_bgUnderTop.graphics.endFill(),this.topArea.scoreView.x=this.m_bgUnderTop.x+this.m_bgUnderTop.width-s_topRightWidth+5,this.topArea.scoreView.y=this.m_bgUnderTop.y+s_topRightHeight1+3,this.topArea.progressView.x=this.m_bgUnderTop.x+this.m_bgUnderTop.width-s_topRightWidth+5,this.topArea.progressView.y=s_topRightHeight1/2-35,this.topArea.setTrueWidth(this.m_winWidth),this.topArea.setTrueHeight(this.m_wm.getTopHeight2()),this.m_UIPresenter.setImgWidth(160),this.m_UIPresenter.setImgHeight(160),this.m_imgOriWidth=160,this.m_lenView=new egret.DisplayObjectContainer,this.m_lenEdgeCanvas=new egret.Shape,this.m_lenQuestioner=new egret.TextField,this.m_lenQuestioner.textColor=16711680,this.m_lenQuestioner.size=36,this.m_lenQuestioner.text="?",this.midArea.midCanvasGrp.addChild(this.m_lenEdgeCanvas),this.midArea.midCanvasGrp.addChild(this.m_lenQuestioner);var t=new gdeint.CPoint;t.m_x=0,t.m_y=0,this.m_UIPresenter.inpImgSelPt(t),this.m_UIPresenter.inpImgSelWidth(this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight()),this.topArea.thumbUI.addEventListener(CThumbUIEvent.EVT_THUMB_TAP,this.onThumbTap,this),this.topArea.visible=!0,this.topArea.addEventListener(CTopAreaEvent_Eyelen.EVT_SWITCHBTN_TAP,this.onTopBtnTab,this),this.topAreaGroup.y=this.m_wm.getTopY()},i.prototype.createMid=function(){this.midAreaGroup.y=this.m_wm.getMidY(),this.midArea.setTrueWidth(this.m_winWidth),this.midArea.setTrueHeight(this.m_wm.getMidHeight()),console.log("midTrueWidth:"+this.m_winWidth+",midTrueHeight:"+this.m_wm.getMidHeight())},i.prototype.createBottom=function(){var t,e;t=this.m_wm.getBottomY(),this.bottomAreaGroup.y=t,e=this.m_wm.getBottomHeight(),this.bottomArea.setTrueWidth(this.m_winWidth),this.bottomArea.setTrueHeight(e)},i.prototype.createScene=function(){e.prototype.createScene.call(this),this.m_wm.setWinWidth(this.m_winWidth),this.m_wm.setWinHeight(this.m_winHeight),this.m_topSpace.setColor(16777215),this.m_topSpace.x=0,this.m_topSpace.y=0,this.m_topSpace.width=this.m_wm.getWinWidth(),this.m_topSpace.height=this.m_wm.getTopSpaceHeight(),this.m_topSpace.draw(),this.midArea.imgFromFile.fillMode=egret.BitmapFillMode.SCALE,this.midArea.imgGrp.x=0,this.createTop(),this.createMid(),this.createBottom(),this.midArea.addEventListener(CMidAreaEvent_Eyelen.EVT_IMG_DRAGMOVE,this.onImgDragMove,this),this.midArea.addEventListener(CMidAreaEvent_Eyelen.EVT_IMG_DRAGEND,this.onImgDragEnd,this),this.addChild(this.m_topSpace),this.finalScoreDlg.left=(this.m_winWidth-this.finalScoreDlg.width)/2,this.finalScoreDlg.visible=!1,this.finalScoreDlg.addEventListener(CFinalScoreDlgEvent.EVT_REPLAY_BTN_TAP,this.replayBtnTouched,this),this.initCmpLenDlg();var t=this.m_pm.getCurLen();this.showLen(t),this.readjustThumb(),this.readjustThumbSel(),this.showInitInstrus()},i.prototype.showInitInstrus=function(){this.prepareTipBalloons();var t=g_scenePos.m_x+65*g_scale,e=g_scenePos.m_y+230*g_scale;this.m_tipBalloon1.x=.9*t,this.m_tipBalloon1.y=e,this.m_tipBalloon1.scaleX=g_scale,this.m_tipBalloon1.scaleY=g_scale,this.m_tipBalloon1.title="提示",this.m_tipBalloon1.setContent("请目测图上“？”处显示的长度，并拖动拉尺输入您目测的结果。"),this.m_tipBalloon1.visible=!0,this.disableScene(),this.m_tipBalloon2.x=1.1*t,this.m_tipBalloon2.y=e,this.m_tipBalloon2.scaleX=g_scale,this.m_tipBalloon2.scaleY=g_scale,this.m_tipBalloon2.title="提示",this.m_tipBalloon2.setContent("请目测图上“？”处显示的\n长度并拖动拉尺输入您目测的结果。"),this.m_tipBalloon2.visible=!1,this.m_tipBalloon1.addEventListener(CBalloonTipEvent.EVT_CLOSE,this.onTipBalloon1Close,this);var i=new gdeint.CRect;i.m_left=5,i.m_top=this.m_wm.getBottomY()+25,i.m_width=440/480*this.m_winWidth,i.m_height=140,this.brightenNotiLayerBgRect(i)},i.prototype.prepareTipBalloons=function(){this.m_notiLayer.addChild(this.m_tipBalloon1),this.m_notiLayer.addChild(this.m_tipBalloon2)},i.prototype.onTipBalloon1Close=function(t){this.m_tipBalloon2.visible=!0,this.m_tipBalloon2.addEventListener(CBalloonTipEvent.EVT_CLOSE,this.onTipBalloon2Close,this)},i.prototype.onTipBalloon2Close=function(t){this.enabled=!0,this.recoverNotiLayerBg(),this.m_notiLayer.visible=!1},i.prototype.onTopBtnTab=function(t){if(g_isSndOn&&playBtnSnd(),this.m_topOpen){this.m_topOpen=!1,this.m_wm.hideTop(),this.midArea.setTrueHeight(this.m_wm.getMidHeight());var e=egret.Tween.get(this.topArea),i=egret.Tween.get(this.bgUnderTopGrp),r=-(this.m_wm.getTopHeight2()-this.m_wm.getTopHeight1());e.to({y:r},300),i.to({y:r},300);var n=egret.Tween.get(this.midAreaGroup);n.to({y:this.m_wm.getMidY()},300),n.to({height:this.m_wm.getMidHeight()},300);var s=new egret.Timer(305,1);s.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerTSClosed,this),s.start()}else{this.m_topOpen=!0,this.m_wm.showTop();var e=egret.Tween.get(this.topArea),i=egret.Tween.get(this.bgUnderTopGrp);e.to({y:0},300),i.to({y:0},300);var n=egret.Tween.get(this.midAreaGroup);n.to({y:this.m_wm.getMidY()},300),n.to({height:this.m_wm.getMidHeight()},300);var s=new egret.Timer(305,1);s.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerTSOpen,this),s.start()}},i.prototype.timerTSOpen=function(t){this.midArea.setTrueHeight(this.m_wm.getMidHeight()),this.midAreaGroup.y=this.m_wm.getMidY(),this.topArea.switchBtn.source=RES.getRes("top_screen_button_up_png"),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight()),this.midArea.setVisibleStartY(this.m_wm.getTopHeight2()-this.m_wm.getTopHeight1()),this.readjustThumbSel()},i.prototype.timerTSClosed=function(t){this.midArea.setTrueHeight(this.m_wm.getMidHeight()),this.midAreaGroup.y=this.m_wm.getMidY(),this.topArea.switchBtn.source=RES.getRes("top_screen_button_down_png"),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight()),this.midArea.setVisibleStartY(0),this.readjustThumbSel()},i.prototype.onImgDragMove=function(t){this.readjustThumbSel()},i.prototype.onImgDragEnd=function(t){this.readjustThumbSel()},i.prototype.sendMsg=function(t,e){var i=null;return"getOnCaliDlgCloseFunc"==t&&(console.log("getOnCaliDlgCloseFunc via send message!"),i=this.onCaliDlgClose),i},i.prototype.onCaliDlgClose=function(t){t&&(this.m_UIPresenter.setCaRat(this._getParentContainer().getCaRat()),this.m_UIPresenter.updateFromPM(),this.syncWithUIPresenter()),this.m_parentContainer.showPraMenu()},i.prototype.onCaliBtn=function(t){this.m_parentContainer.showCaliDlg(this.onCaliDlgClose)},i.prototype.onMenuBtn=function(t){this.m_parentContainer.showPraMenu()},i.prototype.getParentContainer=function(){return this.m_parentContainer},i.prototype.backBtnTap=function(){this.m_parentContainer.showConfirm("该操作将放弃当前练习的进度和数据。\n您确定继续吗？",this.onBack2MainMenuConfirm)},i.prototype.onBack2MainMenuConfirm=function(t){var e=t;e&&(this.finalScoreDlg.visible=!1,g_pageJumper.gotoPage("WelcomeScene",null))},i.prototype.createBottomMenu=function(){},i.prototype.resetSceneElems=function(){this.m_cmpLenDlg.visible=!1,this.finalScoreDlg.visible=!1,this.bottomArea.lenInputer.unlock(),this.bottomArea.lenInputer.clearLen()},i.prototype.refreshScene=function(){this.resetSceneElems(),this.showLen(this.m_pm.getCurLen()),this.m_NoImgMode?(this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(720)):(this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(this.midArea.imgFromFile.height));var t=new gdeint.CRect;t.m_left=0,t.m_top=0,t.m_width=this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat(),t.m_height=this.m_wm.getMidHeight();var e=new gdeint.CPoint;e.m_x=0,e.m_y=0,this.m_UIPresenter.inpImgSelPt(e),this.m_UIPresenter.inpImgSelWidth(this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight()),this.readjustThumb(),this.readjustThumbSel(),this.topArea.progressView.setProgress(0),this.topArea.scoreView.clearScore(),this.m_UIPresenter.m_userLen=0,this.bottomArea.lenInputer.clearLen(),this.showInitInstrus(),this.bottomArea.lenInputer.unlock()},i.prototype.syncWithUIPresenter=function(){this.midArea.readjustCircler();var t;t=this.m_UIPresenter.getImgRect(),this.m_NoImgMode?this.midArea.m_randomGraphShape.resize(t.m_width,t.m_height):(this.midArea.imgFromFile.width=t.m_width,this.midArea.imgFromFile.height=t.m_height);var e;e=this.m_UIPresenter.getLen(),e&&null!=e&&(this.m_NoImgMode?(this.m_imgOriWidth=1024,this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(720)):this.showImg(e.m2_imgResName));var i=new gdeint.CPoint;i.m_x=this.m_UIPresenter.getImgRect().m_left,i.m_y=this.m_UIPresenter.getImgRect().m_top,this.midArea.m_imgCircler.setInpPos(i);var r=this.midArea.m_imgCircler.getOutpPos();console.log("inpPosFinal:["+r.m_x+","+r.m_y+"]"),this.midArea.midContentGroup.x=r.m_x,this.midArea.midContentGroup.y=r.m_y;var n=new gdeint.CPoint;n.m_x=-r.m_x,n.m_y=-r.m_y+this.midArea.m_visibleStartY,this.midArea.m_UIPresenter.inpImgSelPt(n),this._showLen(e),this.readjustThumb();var s;s=this.m_UIPresenter.getThumbQuestionerDispCenterPt(),this.topArea.thumbUI.thumbQuestioner.x=s.m_x-8,this.topArea.thumbUI.thumbQuestioner.y=s.m_y-11,this.readjustThumbSel()},i}(CCommonEyelenPraScene);t.CPraDifficultScene=e,__reflect(e.prototype,"eyelen4.CPraDifficultScene")}(eyelen4||(eyelen4={}));var MSG_PICS_PRELOAD_FINISHED=1,MSG_IMGS_PRELOAD_FINISHED=2,s_topRightWidth=250,s_topRightHeight1=70,s_cellWidth=20,eyelen4;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.m2_cc=!1,i.x=0,i.y=0,i.m_topOpen=!0,i.m_wm=new CEyelen4WinModel,i.m_wm.setTopSpaceHeight(s_topSpaceHeight),i.m_wm.setTopHeight1(30),i.m_wm.setTopHeight2(190),i.m_wm.showTop(),i.m_wm.setBottomHeight(300),i.m_pm=new CEyelen3EPraMachineDifficult,i.m_UIPresenter=new CEyelen4PraDifficultPresenter,i.m_UIPresenter.bindPM(i.m_pm),i.m_tipBalloon1=new t.CBalloonTip,i.m_tipBalloon1.visible=!1,i.m_tipBalloon2=new t.CBalloonTip,i.m_tipBalloon2.visible=!1,i.m_imgOriWidth=0,i.m_imgHorSpace=100,i.m_imgVerSpace=80,i.m2_imgTchStartPoint=new gdeint.CPoint,i.m2_isImgMoving=!1,i.m_topSpace=new CTopSpace_Eyelen,i.m_curPicTag=-1,i.m_curRoundTag=-1,i.m2_isFirstPra=!0,i}return __extends(i,e),i.prototype.childrenCreated=function(){this.shutdownClock.setFontSize(24),this.m_bgUnderTop=new egret.Shape,this.bgUnderTopGrp.addChild(this.m_bgUnderTop),this.midArea.m_UIPresenter=this.m_UIPresenter,this.midArea.setVisibleStartY(this.m_wm.getTopHeight2()-this.m_wm.getTopHeight1()),this.bottomArea.caliBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCaliBtn,this),this.bottomArea.menuBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onMenuBtn,this),this.bottomArea.lenInputer.okBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onOKButtonTap,this),this.m2_cc=!0,this.shutdownClock.setTimer(g_shutdownTimer),this.shutdownClock.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClockTap,this)},i.prototype._setParentContainer=function(t){e.prototype._setParentContainer.call(this,t),this.m_UIPresenter.setRenderFilter(this.getParentContainer()._getRenderFilter())},i.prototype.getPM=function(){return this.m_pm},i.prototype.setLenArr=function(t){this.m_pm.setLenArr(t)},i.prototype.recMis=function(t){egret.ExternalInterface.call("recMis",JSON.stringify(t))},i.prototype.decMisDeviation=function(t){egret.ExternalInterface.call("decMisDeviation",JSON.stringify(t))},i.prototype.getCurPicTag=function(){return this.m_curPicTag},i.prototype.initCmpLenDlg=function(){this.m_cmpLenDlg=new t.CCmpLenDlg,this.m_cmpLenDlg.x=(this.m_winWidth-400)/2,this.m_cmpLenDlg.y=200,this.m_cmpLenDlg.visible=!1,this.m_cmpLenDlg.onNextBtnEvent(egret.TouchEvent.TOUCH_TAP,this.onNextButtonTap,this),this.addChild(this.m_cmpLenDlg)},i.prototype.savScore=function(){egret.ExternalInterface.call("savScore",this.m_pm.getCurScore().toString())},i.prototype.onNextButtonTap=function(t){g_isSndOn&&playBtnSnd(),this.hideCmpLenDlg();var e;if(e=this.m_pm.getCmplProgress(),e>=10){this.bottomArea.lenInputer.lock();var i=this.m_pm.getCurScore();this.finalScoreDlg.setScore(i),this.finalScoreDlg.visible=!0,i>=270?this.finalScoreDlg.setStars(3):i>=240?this.finalScoreDlg.setStars(2):i>=180?this.finalScoreDlg.setStars(1):(this.finalScoreDlg.setStars(0),this._getParentContainer().showAlert("成绩很差哟！\n别灰心，继续努力！！",this.onFailurePanelClose)),this.savScore()}else this.m_UIPresenter.nextLen(),this.m_UIPresenter.setUserLen(0),this.bottomArea.lenInputer.clearLen(),this.bottomArea.lenInputer.unlock(),this.showLen(this.m_pm.getCurLen())},i.prototype.onFailurePanelClose=function(t){},i.prototype.showCmpLenDlg=function(){var t=this.m_UIPresenter.m_curRank;this.m_cmpLenDlg.setScore(10*t);this.m_pm.getCurLen();this.m_cmpLenDlg.setCorreLen(this.m_pm.getCurLen().m_length*this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_cmpLenDlg.setUserLen(this.m_UIPresenter.m_userLen),this.m_cmpLenDlg.visible=!0},i.prototype.hideCmpLenDlg=function(){this.m_cmpLenDlg.visible=!1},i.prototype.onOKButtonTap=function(t){g_isSndOn&&playBtnSnd(),this.m_UIPresenter.setUserLen(this.bottomArea.lenInputer.getLen()),this.m_UIPresenter.submitLen(),this.m_UIPresenter.m_curRank<=1?this.recMis(this.m_pm.getCurLen()):this.decMisDeviation(this.m_pm.getCurLen()),this.showCmpLenDlg(),this.bottomArea.lenInputer.lock();var e=(this.m_pm.getLastLenRank(),this.m_pm.getCurScore()),i=this.m_pm.getCmplProgress();this.topArea.scoreView.setScoreWithPro(e,i),this.topArea.progressView.setProgress(i)},i.prototype.replayBtnTouched=function(){this.finalScoreDlg.visible=!1,this.bottomArea.lenInputer.unlock(),this.bottomArea.lenInputer.clearLen(),this.getParentContainer().startNewPra()},i.prototype.onClockTap=function(){g_praDifficultContainer.showAlert("为了您的健康，每次使用20分钟后自动停止。",null)},i.prototype.startNewPra=function(){console.log("Starting diffPro!"),this.m_pm.startPra(),this.m2_isFirstPra?(this.m2_isFirstPra=!1,console.log("OK2"),this.createScene()):this.refreshScene()},i.prototype.readjustThumb=function(){var t=this.m_UIPresenter.getThumbRect();this.m_NoImgMode?this.topArea.thumbUI.setShape(this.midArea.m_randomGraphShape):this.topArea.thumbUI.setImgSrc(this.m_curImgResName),this.topArea.thumbUI.x=t.m_left/480*this.m_winWidth,this.topArea.thumbUI.y=t.m_top,this.topArea.thumbUI.setThumbWidth(t.m_width),this.topArea.thumbUI.setThumbHeight(t.m_height)},i.prototype.readjustThumbSel=function(){var t=this.m_UIPresenter.getThumbSelRect();this.topArea.thumbUI.setSelRect(t)},i.prototype.showThumbQuestioner=function(t){var e=this.m_pm.getCurLen(),i=new gdeint.CPoint;new gdeint.CPoint;i.m_x=e.m_x+e.m_length/2,i.m_y=e.m_y;var r=this.m_UIPresenter.getThumbQuestionerDispCenterPt();this.topArea.thumbUI.thumbQuestioner.x=r.m_x-8,this.topArea.thumbUI.thumbQuestioner.y=r.m_y-11},i.prototype.showImg=function(t){if(this.m_NoImgMode)return void console.log("Warning! showImg not supported in no img mode!");var e;e=this.m_curImgResName;var i=new egret.Bitmap;if(i.texture=this.m_parentContainer._getResLoader().getRes(t),this.m_imgOriWidth=i.width,this.midArea.imgFromFile.height=i.height,this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(this.midArea.imgFromFile.height),this.midArea.imgFromFile.width=this.m_imgOriWidth*this.m_UIPresenter.getRenderFilter()._getCaRat(),this.midArea.imgFromFile.texture=this.m_parentContainer._getResLoader().getRes(t),this.m_curImgResName=t,this.topArea.thumbUI.setImgSrc(t),e==this.m_curImgResName);else{var r=new gdeint.CPoint;r.m_x=0,r.m_y=0,this.m_UIPresenter.inpImgSelPt(r),this.m_UIPresenter.inpImgSelWidth(this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight());var n;n=this.m_UIPresenter.getImgRect(),this.midArea.midContentGroup.x=n.m_left,this.midArea.midContentGroup.y=n.m_top}this.readjustThumb(),this.readjustThumbSel()},i.prototype.showRandomGraph=function(){this.midArea.randomGraph.visible=!0,this.midArea.imgFromFile.visible=!1,this.midArea.m_randomGraphShape.genGraph(1024,720),this.m_imgOriWidth=1024,this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(720),this.midArea.m_randomGraphShape.resize(this.m_imgOriWidth*this.m_UIPresenter.getRenderFilter()._getCaRat(),720);var t=new gdeint.CPoint;t.m_x=0,t.m_y=0,this.m_UIPresenter.inpImgSelPt(t),this.m_UIPresenter.inpImgSelWidth(this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight());var e;e=this.m_UIPresenter.getImgRect(),this.midArea.midContentGroup.x=e.m_left,this.midArea.midContentGroup.y=e.m_top,this.readjustThumb(),this.readjustThumbSel()},i.prototype._showLen=function(t){if(this.m_lenEdgeCanvas.graphics.clear(),t.m_isHor){this.m_lenQuestioner.x=t.m_x*this.m_UIPresenter.getRenderFilter()._getCaRat()+t.m_length*this.m_UIPresenter.getRenderFilter()._getCaRat()/2-10,this.m_lenQuestioner.y=t.m_y-20,this.m_lenEdgeCanvas.x=t.m_x*this.m_UIPresenter.getRenderFilter()._getCaRat()-5,this.m_lenEdgeCanvas.y=t.m_y-30,this.m_lenEdgeCanvas.graphics.beginFill(65535),this.m_lenEdgeCanvas.graphics.drawRect(0,0,5,60);var e,i;e=t.m_length*this.m_UIPresenter.getRenderFilter()._getCaRat()+5,i=0,this.m_lenEdgeCanvas.graphics.drawRect(e,i,5,60),this.m_lenEdgeCanvas.graphics.endFill()}else{var r;r=this.m_UIPresenter.calcuLenPtsRects(t);var n=this.m_UIPresenter.getLenQuestionerFontSize();this.m_lenQuestioner.x=r.m_lenQuestionerDispPt.m_x,this.m_lenQuestioner.y=r.m_lenQuestionerDispPt.m_y,this.m_lenQuestioner.size=n,this.m_lenEdgeCanvas.x=r.m_lenEdge1DispRect.m_left,this.m_lenEdgeCanvas.y=r.m_lenEdge1DispRect.m_top,this.m_lenEdgeCanvas.graphics.beginFill(65535),this.m_lenEdgeCanvas.graphics.drawRect(0,0,r.m_lenEdge1DispRect.m_width,r.m_lenEdge1DispRect.m_height);var e,i;e=r.m_lenEdge2DispRect.m_left-r.m_lenEdge1DispRect.m_left,i=r.m_lenEdge2DispRect.m_top-r.m_lenEdge1DispRect.m_top,this.m_lenEdgeCanvas.graphics.drawRect(e,i,r.m_lenEdge1DispRect.m_width,r.m_lenEdge1DispRect.m_height),this.m_lenEdgeCanvas.graphics.endFill()}},i.prototype.showLen=function(t){this.m_UIPresenter.showLen(t),this.m_NoImgMode?this.showRandomGraph():this.showImg(t.m2_imgResName),this._showLen(t),this.showThumbQuestioner(t)},i.prototype.onThumbTap=function(t){var e=new gdeint.CPoint;e.m_x=t.m_tchX-this.m_UIPresenter.getThumbSelRect().m_width/2,e.m_y=t.m_tchY-this.m_UIPresenter.getThumbSelRect().m_height/2,this.m_UIPresenter.inpThSelPt(e),this.syncWithUIPresenter()},i.prototype.createTop=function(){this.topAreaGroup.y=this.m_wm.getTopY(),this.m_bgUnderTop.x=0,this.m_bgUnderTop.y=0,this.m_bgUnderTop.width=this.m_wm.getWinWidth(),this.m_bgUnderTop.height=this.m_wm.getTopHeight(),this.m_bgUnderTop.graphics.beginFill(65280),this.m_bgUnderTop.graphics.drawRect(0,0,this.m_bgUnderTop.width,this.m_bgUnderTop.height),this.m_bgUnderTop.graphics.endFill(),this.topArea.scoreView.x=this.m_bgUnderTop.x+this.m_bgUnderTop.width-s_topRightWidth+5,this.topArea.scoreView.y=this.m_bgUnderTop.y+s_topRightHeight1+3,this.topArea.progressView.x=this.m_bgUnderTop.x+this.m_bgUnderTop.width-s_topRightWidth+5,this.topArea.progressView.y=s_topRightHeight1/2-35,this.topArea.setTrueWidth(this.m_winWidth),this.topArea.setTrueHeight(this.m_wm.getTopHeight2()),this.m_UIPresenter.setImgWidth(160),this.m_UIPresenter.setImgHeight(160),this.m_imgOriWidth=160,this.m_lenView=new egret.DisplayObjectContainer,this.m_lenEdgeCanvas=new egret.Shape,this.m_lenQuestioner=new egret.TextField,this.m_lenQuestioner.textColor=16711680,this.m_lenQuestioner.size=36,this.m_lenQuestioner.text="?",this.midArea.midCanvasGrp.addChild(this.m_lenEdgeCanvas),this.midArea.midCanvasGrp.addChild(this.m_lenQuestioner);var t=new gdeint.CPoint;t.m_x=0,t.m_y=0,this.m_UIPresenter.inpImgSelPt(t),this.m_UIPresenter.inpImgSelWidth(this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight()),this.topArea.thumbUI.addEventListener(CThumbUIEvent.EVT_THUMB_TAP,this.onThumbTap,this),this.topArea.visible=!0,this.topArea.addEventListener(CTopAreaEvent_Eyelen.EVT_SWITCHBTN_TAP,this.onTopBtnTab,this),this.topAreaGroup.y=this.m_wm.getTopY()},i.prototype.createMid=function(){this.midAreaGroup.y=this.m_wm.getMidY(),this.midArea.setTrueWidth(this.m_winWidth),this.midArea.setTrueHeight(this.m_wm.getMidHeight()),console.log("midTrueWidth:"+this.m_winWidth+",midTrueHeight:"+this.m_wm.getMidHeight())
},i.prototype.createBottom=function(){var t,e;t=this.m_wm.getBottomY(),this.bottomAreaGroup.y=t,e=this.m_wm.getBottomHeight(),this.bottomArea.setTrueWidth(this.m_winWidth),this.bottomArea.setTrueHeight(e)},i.prototype.createScene=function(){e.prototype.createScene.call(this),this.m_wm.setWinWidth(this.m_winWidth),this.m_wm.setWinHeight(this.m_winHeight),this.m_topSpace.setColor(16777215),this.m_topSpace.x=0,this.m_topSpace.y=0,this.m_topSpace.width=this.m_wm.getWinWidth(),this.m_topSpace.height=this.m_wm.getTopSpaceHeight(),this.m_topSpace.draw(),this.midArea.imgFromFile.fillMode=egret.BitmapFillMode.SCALE,this.midArea.imgGrp.x=0,this.createTop(),this.createMid(),this.createBottom(),console.log("OK3"),this.midArea.addEventListener(CMidAreaEvent_Eyelen.EVT_IMG_DRAGMOVE,this.onImgDragMove,this),this.midArea.addEventListener(CMidAreaEvent_Eyelen.EVT_IMG_DRAGEND,this.onImgDragEnd,this),this.addChild(this.m_topSpace),this.finalScoreDlg.left=(this.m_winWidth-this.finalScoreDlg.width)/2,this.finalScoreDlg.visible=!1,this.finalScoreDlg.addEventListener(CFinalScoreDlgEvent.EVT_REPLAY_BTN_TAP,this.replayBtnTouched,this),this.initCmpLenDlg();var t=this.m_pm.getCurLen();this.showLen(t),this.readjustThumb(),this.readjustThumbSel(),this.showInitInstrus()},i.prototype.showInitInstrus=function(){this.prepareTipBalloons();var t=g_scenePos.m_x+65*g_scale,e=g_scenePos.m_y+230*g_scale;this.m_tipBalloon1.x=.9*t,this.m_tipBalloon1.y=e,this.m_tipBalloon1.scaleX=g_scale,this.m_tipBalloon1.scaleY=g_scale,this.m_tipBalloon1.title="提示",this.m_tipBalloon1.setContent("请目测图上“？”处显示的长度，并拖动拉尺输入您目测的结果。"),this.m_tipBalloon1.visible=!0,this.disableScene(),this.m_tipBalloon2.x=1.1*t,this.m_tipBalloon2.y=e,this.m_tipBalloon2.scaleX=g_scale,this.m_tipBalloon2.scaleY=g_scale,this.m_tipBalloon2.title="提示",this.m_tipBalloon2.setContent("请目测图上“？”处显示的\n长度并拖动拉尺输入您目测的结果。"),this.m_tipBalloon2.visible=!1,this.m_tipBalloon1.addEventListener(CBalloonTipEvent.EVT_CLOSE,this.onTipBalloon1Close,this);var i=new gdeint.CRect;i.m_left=5,i.m_top=this.m_wm.getBottomY()+25,i.m_width=440/480*this.m_winWidth,i.m_height=140,this.brightenNotiLayerBgRect(i)},i.prototype.prepareTipBalloons=function(){this.m_notiLayer.addChild(this.m_tipBalloon1),this.m_notiLayer.addChild(this.m_tipBalloon2)},i.prototype.onTipBalloon1Close=function(t){this.m_tipBalloon2.visible=!0,this.m_tipBalloon2.addEventListener(CBalloonTipEvent.EVT_CLOSE,this.onTipBalloon2Close,this)},i.prototype.onTipBalloon2Close=function(t){this.enabled=!0,this.recoverNotiLayerBg(),this.m_notiLayer.visible=!1},i.prototype.onTopBtnTab=function(t){if(g_isSndOn&&playBtnSnd(),this.m_topOpen){this.m_topOpen=!1,this.m_wm.hideTop(),this.midArea.setTrueHeight(this.m_wm.getMidHeight());var e=egret.Tween.get(this.topArea),i=egret.Tween.get(this.bgUnderTopGrp),r=-(this.m_wm.getTopHeight2()-this.m_wm.getTopHeight1());e.to({y:r},300),i.to({y:r},300);var n=egret.Tween.get(this.midAreaGroup);n.to({y:this.m_wm.getMidY()},300),n.to({height:this.m_wm.getMidHeight()},300);var s=new egret.Timer(305,1);s.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerTSClosed,this),s.start()}else{this.m_topOpen=!0,this.m_wm.showTop();var e=egret.Tween.get(this.topArea),i=egret.Tween.get(this.bgUnderTopGrp);e.to({y:0},300),i.to({y:0},300);var n=egret.Tween.get(this.midAreaGroup);n.to({y:this.m_wm.getMidY()},300),n.to({height:this.m_wm.getMidHeight()},300);var s=new egret.Timer(305,1);s.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerTSOpen,this),s.start()}},i.prototype.timerTSOpen=function(t){this.midArea.setTrueHeight(this.m_wm.getMidHeight()),this.midAreaGroup.y=this.m_wm.getMidY(),this.topArea.switchBtn.source=RES.getRes("top_screen_button_up_png"),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight()),this.midArea.setVisibleStartY(this.m_wm.getTopHeight2()-this.m_wm.getTopHeight1()),this.readjustThumbSel()},i.prototype.timerTSClosed=function(t){this.midArea.setTrueHeight(this.m_wm.getMidHeight()),this.midAreaGroup.y=this.m_wm.getMidY(),this.topArea.switchBtn.source=RES.getRes("top_screen_button_down_png"),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight()),this.midArea.setVisibleStartY(0),this.readjustThumbSel()},i.prototype.onImgDragMove=function(t){this.readjustThumbSel()},i.prototype.onImgDragEnd=function(t){this.readjustThumbSel()},i.prototype.sendMsg=function(t,e){var i=null;return"getOnCaliDlgCloseFunc"==t&&(console.log("getOnCaliDlgCloseFunc via send message!"),i=this.onCaliDlgClose),i},i.prototype.onCaliDlgClose=function(t){t&&(this.m_UIPresenter.setCaRat(this._getParentContainer().getCaRat()),this.m_UIPresenter.updateFromPM(),this.syncWithUIPresenter()),this.m_parentContainer.showPraMenu()},i.prototype.onCaliBtn=function(t){this.m_parentContainer.showCaliDlg(this.onCaliDlgClose)},i.prototype.onMenuBtn=function(t){this.m_parentContainer.showPraMenu()},i.prototype.getParentContainer=function(){return this.m_parentContainer},i.prototype.backBtnTap=function(){this.m_parentContainer.showConfirm("该操作将放弃当前练习的进度和数据。\n您确定继续吗？",this.onBack2MainMenuConfirm)},i.prototype.onBack2MainMenuConfirm=function(t){var e=t;e&&(this.finalScoreDlg.visible=!1,g_pageJumper.gotoPage("WelcomeScene",null))},i.prototype.createBottomMenu=function(){},i.prototype.resetSceneElems=function(){this.m_cmpLenDlg.visible=!1,this.finalScoreDlg.visible=!1,this.bottomArea.lenInputer.unlock(),this.bottomArea.lenInputer.clearLen()},i.prototype.refreshScene=function(){this.resetSceneElems(),this.showLen(this.m_pm.getCurLen()),this.m_NoImgMode?(this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(720)):(this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(this.midArea.imgFromFile.height));var t=new gdeint.CRect;t.m_left=0,t.m_top=0,t.m_width=this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat(),t.m_height=this.m_wm.getMidHeight();var e=new gdeint.CPoint;e.m_x=0,e.m_y=0,this.m_UIPresenter.inpImgSelPt(e),this.m_UIPresenter.inpImgSelWidth(this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight()),this.readjustThumb(),this.readjustThumbSel(),this.topArea.progressView.setProgress(0),this.topArea.scoreView.clearScore(),this.m_UIPresenter.m_userLen=0,this.bottomArea.lenInputer.clearLen(),this.showInitInstrus(),this.bottomArea.lenInputer.unlock()},i.prototype.syncWithUIPresenter=function(){this.midArea.readjustCircler();var t;t=this.m_UIPresenter.getImgRect(),this.m_NoImgMode?this.midArea.m_randomGraphShape.resize(t.m_width,t.m_height):(this.midArea.imgFromFile.width=t.m_width,this.midArea.imgFromFile.height=t.m_height);var e;e=this.m_UIPresenter.getLen(),e&&null!=e&&(this.m_NoImgMode?(this.m_imgOriWidth=1024,this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(720)):this.showImg(e.m2_imgResName));var i=new gdeint.CPoint;i.m_x=this.m_UIPresenter.getImgRect().m_left,i.m_y=this.m_UIPresenter.getImgRect().m_top,this.midArea.m_imgCircler.setInpPos(i);var r=this.midArea.m_imgCircler.getOutpPos();console.log("inpPosFinal:["+r.m_x+","+r.m_y+"]"),this.midArea.midContentGroup.x=r.m_x,this.midArea.midContentGroup.y=r.m_y;var n=new gdeint.CPoint;n.m_x=-r.m_x,n.m_y=-r.m_y+this.midArea.m_visibleStartY,this.midArea.m_UIPresenter.inpImgSelPt(n),this._showLen(e),this.readjustThumb();var s;s=this.m_UIPresenter.getThumbQuestionerDispCenterPt(),this.topArea.thumbUI.thumbQuestioner.x=s.m_x-8,this.topArea.thumbUI.thumbQuestioner.y=s.m_y-11,this.readjustThumbSel()},i}(CCommonEyelenPraScene);t.CPraDiffProScene=e,__reflect(e.prototype,"eyelen4.CPraDiffProScene")}(eyelen4||(eyelen4={}));var MSG_PICS_PRELOAD_FINISHED=1,MSG_IMGS_PRELOAD_FINISHED=2,s_topRightWidth=250,s_topRightHeight1=70,s_cellWidth=20,eyelen4;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.m2_cc=!1,i.x=0,i.y=0,i.m_topOpen=!0,i.m_wm=new CEyelen4WinModel,i.m_wm.setTopSpaceHeight(s_topSpaceHeight),i.m_wm.setTopHeight1(30),i.m_wm.setTopHeight2(190),i.m_wm.showTop(),i.m_wm.setBottomHeight(300),i.m_pm=new CEyelen3EPraMachineEasy,i.m_UIPresenter=new CEyelen4PraEasyPresenter,i.m_UIPresenter.bindPM(i.m_pm),i.m_tipBalloon1=new t.CBalloonTip,i.m_tipBalloon1.visible=!1,i.m_tipBalloon2=new t.CBalloonTip,i.m_tipBalloon2.visible=!1,i.m_imgOriWidth=0,i.m_imgHorSpace=100,i.m_imgVerSpace=80,i.m2_imgTchStartPoint=new gdeint.CPoint,i.m2_isImgMoving=!1,i.m_topSpace=new CTopSpace_Eyelen,i.m_curPicTag=-1,i.m_curRoundTag=-1,i.m2_isFirstPra=!0,i}return __extends(i,e),i.prototype.childrenCreated=function(){this.shutdownClock.setFontSize(24),this.midArea.m_UIPresenter=this.m_UIPresenter,this.midArea.setVisibleStartY(this.m_wm.getTopHeight2()-this.m_wm.getTopHeight1()),this.m_bgUnderTop=new egret.Shape,this.bgUnderTopGrp.addChild(this.m_bgUnderTop),this.bottomArea.caliBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCaliBtn,this),this.bottomArea.menuBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onMenuBtn,this),this.bottomArea.lenInputer.okBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onOKButtonTap,this),this.shutdownClock.setTimer(g_shutdownTimer),this.shutdownClock.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClockTap,this),this.m2_cc=!0},i.prototype._setParentContainer=function(t){e.prototype._setParentContainer.call(this,t),this.m_UIPresenter.setRenderFilter(this.getParentContainer()._getRenderFilter())},i.prototype.getPM=function(){return this.m_pm},i.prototype.setLenArr=function(t){this.m_pm.setLenArr(t)},i.prototype.getCurPicTag=function(){return this.m_curPicTag},i.prototype.initCmpLenDlg=function(){this.m_cmpLenDlg=new t.CGridCmpLenDlg,this.m_cmpLenDlg.x=.15*this.m_winWidth,this.m_cmpLenDlg.y=.3*this.m_winHeight;var e=.7*this.m_winWidth;this.m_cmpLenDlg.setTrueWidth(e),this.m_cmpLenDlg.setTrueHeight(350*e/400),this.m_cmpLenDlg.visible=!1,this.m_cmpLenDlg.onNextBtnEvent(egret.TouchEvent.TOUCH_TAP,this.onNextButtonTap,this),this.addChild(this.m_cmpLenDlg)},i.prototype.onNextButtonTap=function(t){g_isSndOn&&playBtnSnd(),this.hideCmpLenDlg();var e;if(e=this.m_pm.getCmplProgress(),e>=10){this.bottomArea.lenInputer.lock();var i=this.m_pm.getCurScore();this.finalScoreDlg.setScore(i),this.finalScoreDlg.visible=!0,i>=270?this.finalScoreDlg.setStars(3):i>=240?this.finalScoreDlg.setStars(2):i>=180?this.finalScoreDlg.setStars(1):(this.finalScoreDlg.setStars(0),this._getParentContainer().showAlert("成绩很差哟！\n别灰心，继续努力！！",this.onFailurePanelClose))}else this.m_UIPresenter.nextLen(),this.m_UIPresenter.setUserGridCnt(0),this.bottomArea.lenInputer.clearLen(),this.bottomArea.lenInputer.unlock(),this.showLen(this.m_pm.getCurLen())},i.prototype.onFailurePanelClose=function(t){},i.prototype.showCmpLenDlg=function(){var t=this.m_UIPresenter.m_curRank;this.m_cmpLenDlg.setScore(10*t);this.m_pm.getCurLen();this.m_cmpLenDlg.setCorreLen(this.m_pm.getCurLen().m_length*this.m_UIPresenter.getRenderFilter()._getCaRat());var e=this.bottomArea.lenInputer.getGridWidth(),i=this.bottomArea.lenInputer.getUserGridCnt();this.m_cmpLenDlg.setUserGridWidth(e),this.m_cmpLenDlg.setUserGridCnt(i),this.m_cmpLenDlg.visible=!0;this.m_pm.getCurLen()},i.prototype.hideCmpLenDlg=function(){this.m_cmpLenDlg.visible=!1},i.prototype.onOKButtonTap=function(t){g_isSndOn&&playBtnSnd(),this.m_UIPresenter.setUserGridCnt(this.bottomArea.lenInputer.getUserGridCnt()),this.m_UIPresenter.submitLen(),this.showCmpLenDlg(),this.bottomArea.lenInputer.lock();var e=(this.m_pm.getLastLenRank(),this.m_pm.getCurScore()),i=this.m_pm.getCmplProgress();this.topArea.scoreView.setScoreWithPro(e,i),this.topArea.progressView.setProgress(i)},i.prototype.replayBtnTouched=function(){this.finalScoreDlg.visible=!1,this.bottomArea.lenInputer.unlock(),this.bottomArea.lenInputer.clearLen(),this.getParentContainer().startNewPra()},i.prototype.onClockTap=function(){g_praEasyContainer.showAlert("为了您的健康，每次使用20分钟后自动停止。",null)},i.prototype.startNewPra=function(){this.m_pm.startPra(),this.m2_isFirstPra?(this.m2_isFirstPra=!1,this.createScene()):this.refreshScene()},i.prototype.readjustThumb=function(){var t=this.m_UIPresenter.getThumbRect();this.topArea.thumbUI.x=t.m_left/480*this.m_winWidth,this.topArea.thumbUI.y=t.m_top,this.topArea.thumbUI.setThumbWidth(t.m_width),this.topArea.thumbUI.setThumbHeight(t.m_height),this.m_NoImgMode||this.topArea.thumbUI.setImgSrc(this.m_curImgResName)},i.prototype.readjustThumbSel=function(){var t=this.m_UIPresenter.getThumbSelRect();this.topArea.thumbUI.setSelRect(t)},i.prototype.showThumbQuestioner=function(t){var e=this.m_pm.getCurLen(),i=new gdeint.CPoint;new gdeint.CPoint;i.m_x=e.m_x+e.m_length/2,i.m_y=e.m_y;var r=this.m_UIPresenter.getThumbQuestionerDispPt();this.topArea.thumbUI.thumbQuestioner.x=r.m_x-8,this.topArea.thumbUI.thumbQuestioner.y=r.m_y-11},i.prototype.showImg=function(t){if(this.m_NoImgMode);else{var e=this.m_curImgResName,i=new egret.Bitmap;i.texture=this.m_parentContainer._getResLoader().getRes(t),this.m_imgOriWidth=i.width;var r=new egret.Bitmap;if(r.texture=this.m_parentContainer._getResLoader().getRes(t),this.midArea.imgFromFile.$setBitmapData(r.texture),this.midArea.imgFromFile.width=this.m_UIPresenter.getImgRect().m_width,this.midArea.imgFromFile.height=i.height,this.m_curImgResName=t,this.topArea.thumbUI.setImgSrc(t),this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(this.midArea.imgFromFile.height),this.midArea.imgFromFile.width=this.m_imgOriWidth*this.m_UIPresenter.getRenderFilter()._getCaRat(),e==this.m_curImgResName);else{var n=new gdeint.CPoint;n.m_x=0,n.m_y=0,this.m_UIPresenter.inpImgSelPt(n),this.m_UIPresenter.inpImgSelWidth(this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight());var s;s=this.m_UIPresenter.getImgRect(),this.midArea.midContentGroup.x=s.m_left,this.midArea.midContentGroup.y=s.m_top}}this.readjustThumb(),this.readjustThumbSel()},i.prototype.showRandomGraph=function(){this.m_imgOriWidth=1024;try{this.midArea.randomGraph.removeChild(this.midArea.m_randomGraphShape)}catch(t){}this.midArea.m_randomGraphShape.genGraph(1024,720),this.midArea.m_randomGraphShape.visible=!0,this.midArea.randomGraph.visible=!0,this.midArea.randomGraph.addChild(this.midArea.m_randomGraphShape),this.midArea.imgFromFile.visible=!1,this.topArea.thumbUI.setShape(this.midArea.m_randomGraphShape),this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(720),this.midArea.m_randomGraphShape.resize(this.m_imgOriWidth*this.m_UIPresenter.getRenderFilter()._getCaRat(),720);var e=new gdeint.CPoint;e.m_x=0,e.m_y=0,this.m_UIPresenter.inpImgSelPt(e),this.m_UIPresenter.inpImgSelWidth(this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight());var i;i=this.m_UIPresenter.getImgRect(),this.midArea.midContentGroup.x=i.m_left,this.midArea.midContentGroup.y=i.m_top,this.readjustThumb(),this.readjustThumbSel()},i.prototype._showLen=function(t){if(this.m_lenEdgeCanvas.graphics.drawRect(0,0,5,60),this.m_lenEdgeCanvas.graphics.clear(),t.m_isHor){this.m_lenQuestioner.x=t.m_x*this.m_UIPresenter.getRenderFilter()._getCaRat()+t.m_length*this.m_UIPresenter.getRenderFilter()._getCaRat()/2-10,this.m_lenQuestioner.y=t.m_y-20;var e=this.m_UIPresenter.getLenEdge1DispRect(),i=this.m_UIPresenter.getLenEdge2DispRect();this.m_lenEdgeCanvas.x=e.m_left,this.m_lenEdgeCanvas.y=e.m_top,this.m_lenEdgeCanvas.graphics.beginFill(65535),this.m_lenEdgeCanvas.graphics.drawRect(0,0,e.m_width,e.m_height);var r,n;r=i.m_left-e.m_left,n=i.m_top-e.m_top,this.m_lenEdgeCanvas.graphics.drawRect(r,n,i.m_width,i.m_height),this.m_lenEdgeCanvas.graphics.endFill()}else{var e,i,s;s=this.m_UIPresenter.getLenQuestionerDispPt();var o=this.m_UIPresenter.getLenQuestionerFontSize();this.m_lenQuestioner.x=s.m_x,this.m_lenQuestioner.y=s.m_y,this.m_lenQuestioner.size=o,e=this.m_UIPresenter.getLenEdge1DispRect(),i=this.m_UIPresenter.getLenEdge2DispRect(),this.m_lenEdgeCanvas.x=this.m_UIPresenter.getLenEdge1DispRect().m_left,this.m_lenEdgeCanvas.y=this.m_UIPresenter.getLenEdge1DispRect().m_top,this.m_lenEdgeCanvas.graphics.beginFill(65535),this.m_lenEdgeCanvas.graphics.drawRect(0,0,e.m_width,e.m_height);var r,n;r=i.m_left-e.m_left,n=i.m_top-e.m_top,this.m_lenEdgeCanvas.graphics.drawRect(r,n,i.m_width,i.m_height),this.m_lenEdgeCanvas.graphics.endFill()}},i.prototype.showLen=function(t){this.m_UIPresenter.showLen(t),this.m_NoImgMode?this.showRandomGraph():this.showImg(t.m2_imgResName),this._showLen(t),this.showThumbQuestioner(t)},i.prototype.onThumbTap=function(t){var e=new gdeint.CPoint;e.m_x=t.m_tchX-this.m_UIPresenter.getThumbSelRect().m_width/2,e.m_y=t.m_tchY-this.m_UIPresenter.getThumbSelRect().m_height/2,this.m_UIPresenter.inpThSelPt(e),this.syncWithUIPresenter()},i.prototype.createTop=function(){this.topAreaGroup.y=this.m_wm.getTopY(),this.m_bgUnderTop.x=0,this.m_bgUnderTop.y=0,this.m_bgUnderTop.width=this.m_winWidth,this.m_bgUnderTop.height=this.m_wm.getTopHeight(),this.m_bgUnderTop.graphics.beginFill(65280),this.m_bgUnderTop.graphics.drawRect(0,0,this.m_bgUnderTop.width,this.m_bgUnderTop.height),this.m_bgUnderTop.graphics.endFill();var t,e;t=this.m_wm.getWinWidth(),this.topArea.setTrueWidth(t),e=this.m_wm.getTopHeight2(),this.topArea.setTrueHeight(e),this.m_UIPresenter.setImgWidth(160),this.m_UIPresenter.setImgHeight(160),this.m_imgOriWidth=160,this.m_lenView=new egret.DisplayObjectContainer,this.m_lenEdgeCanvas=new egret.Shape,this.m_lenQuestioner=new egret.TextField,this.m_lenQuestioner.textColor=16711680,this.m_lenQuestioner.size=36,this.m_lenQuestioner.text="?",this.midArea.midCanvasGrp.addChild(this.m_lenEdgeCanvas),this.midArea.midCanvasGrp.addChild(this.m_lenQuestioner);var i=new gdeint.CPoint;i.m_x=0,i.m_y=0,this.m_UIPresenter.inpImgSelPt(i),this.m_UIPresenter.inpImgSelWidth(this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight()),this.topArea.thumbUI.addEventListener(CThumbUIEvent.EVT_THUMB_TAP,this.onThumbTap,this),this.topArea.visible=!0,this.topArea.addEventListener(CTopAreaEvent_Eyelen.EVT_SWITCHBTN_TAP,this.onTopBtnTab,this),this.topAreaGroup.y=this.m_wm.getTopY()},i.prototype.createMid=function(){this.midAreaGroup.y=this.m_wm.getMidY(),this.midArea.setTrueWidth(this.m_winWidth),this.midArea.setTrueHeight(this.m_wm.getMidHeight())},i.prototype.createBottom=function(){var t,e;t=this.m_wm.getBottomY(),this.bottomAreaGroup.y=t,e=this.m_wm.getBottomHeight(),this.bottomArea.setTrueWidth(this.m_winWidth),this.bottomArea.setTrueHeight(e)},i.prototype.createScene=function(){e.prototype.createScene.call(this),this.m_wm.setWinWidth(this.m_winWidth),this.m_wm.setWinHeight(this.m_winHeight),this.m_topSpace.setColor(16777215),this.m_topSpace.x=0,this.m_topSpace.y=0,this.m_topSpace.width=this.m_wm.getWinWidth(),this.m_topSpace.height=this.m_wm.getTopSpaceHeight(),this.m_topSpace.draw(),this.midArea.imgFromFile.fillMode=egret.BitmapFillMode.SCALE,this.midArea.imgFromFile.x=0,this.midArea.imgFromFile.y=0,this.midArea.imgFromFile.width=160,this.midArea.imgFromFile.height=160,this.createTop(),this.createMid(),this.createBottom(),this.midArea.addEventListener(CMidAreaEvent_Eyelen.EVT_IMG_DRAGMOVE,this.onImgDragMove,this),this.midArea.addEventListener(CMidAreaEvent_Eyelen.EVT_IMG_DRAGEND,this.onImgDragEnd,this),this.addChild(this.m_topSpace),this.finalScoreDlg.left=(this.m_winWidth-this.finalScoreDlg.width)/2,this.finalScoreDlg.visible=!1,this.finalScoreDlg.addEventListener(CFinalScoreDlgEvent.EVT_REPLAY_BTN_TAP,this.replayBtnTouched,this),this.initCmpLenDlg();var t=this.m_pm.getCurLen();this.m_UIPresenter.showLen(t),this.syncWithUIPresenter(),this.showInitInstrus()},i.prototype.showInitInstrus=function(){this.prepareTipBalloons();var t=g_scenePos.m_x+65*g_scale,e=g_scenePos.m_y+230*g_scale;this.m_tipBalloon1.x=.9*t,this.m_tipBalloon1.y=e,this.m_tipBalloon1.scaleX=g_scale,this.m_tipBalloon1.scaleY=g_scale,this.m_tipBalloon1.title="提示",this.m_tipBalloon1.setContent("请目测图上“？”处显示的长度，并点击格子输入您目测的结果。"),this.m_tipBalloon1.visible=!0,this.disableScene(),this.m_tipBalloon2.x=1.1*t,this.m_tipBalloon2.y=e,this.m_tipBalloon2.scaleX=g_scale,this.m_tipBalloon2.scaleY=g_scale,this.m_tipBalloon2.title="提示",this.m_tipBalloon2.setContent("请目测图上“？”处显示的\n长度并点击格子输入您目测的结果。"),this.m_tipBalloon2.visible=!1,this.m_tipBalloon1.addEventListener(CBalloonTipEvent.EVT_CLOSE,this.onTipBalloon1Close,this);var i=new gdeint.CRect;i.m_left=5,i.m_top=this.m_wm.getBottomY()+25,i.m_width=440/480*this.m_winWidth,i.m_height=140,this.brightenNotiLayerBgRect(i)},i.prototype.prepareTipBalloons=function(){this.m_notiLayer.addChild(this.m_tipBalloon1),this.m_notiLayer.addChild(this.m_tipBalloon2)},i.prototype.onTipBalloon1Close=function(t){this.m_tipBalloon2.visible=!0,this.m_tipBalloon2.addEventListener(CBalloonTipEvent.EVT_CLOSE,this.onTipBalloon2Close,this)},i.prototype.onTipBalloon2Close=function(t){this.enabled=!0,this.recoverNotiLayerBg(),this.m_notiLayer.visible=!1},i.prototype.onTopBtnTab=function(t){if(g_isSndOn&&playBtnSnd(),this.m_topOpen){this.m_topOpen=!1,this.m_wm.hideTop(),this.midArea.setTrueHeight(this.m_wm.getMidHeight());var e=egret.Tween.get(this.topArea),i=egret.Tween.get(this.bgUnderTopGrp),r=-(this.m_wm.getTopHeight2()-this.m_wm.getTopHeight1());e.to({y:r},300),i.to({y:r},300);var n=new egret.Timer(305,1);n.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerTSClosed,this),n.start()}else{this.m_topOpen=!0,this.m_wm.showTop();var e=egret.Tween.get(this.topArea),i=egret.Tween.get(this.bgUnderTopGrp);e.to({y:0},300),i.to({y:0},300);var n=new egret.Timer(305,1);n.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerTSOpen,this),n.start()}},i.prototype.timerTSOpen=function(t){this.topArea.switchBtn.source=RES.getRes("top_screen_button_up_png");var e;e=this.m_UIPresenter.getImgRect();var i;i=new gdeint.CPoint,i.m_x=-e.m_left,i.m_y=-e.m_top+this.m_wm.getTopHeight2()-this.m_wm.getTopHeight1(),this.m_UIPresenter.inpImgSelPt(i),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight()),this.midArea.setVisibleStartY(this.m_wm.getTopHeight2()-this.m_wm.getTopHeight1()),this.readjustThumbSel()},i.prototype.timerTSClosed=function(t){this.topArea.switchBtn.source=RES.getRes("top_screen_button_down_png");var e;e=this.m_UIPresenter.getImgRect();var i;i=new gdeint.CPoint,i.m_x=-e.m_left,i.m_y=-e.m_top,this.m_UIPresenter.inpImgSelPt(i),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight()),this.midArea.setVisibleStartY(0),this.readjustThumbSel()},i.prototype.onImgDragMove=function(t){this.readjustThumbSel()},i.prototype.onImgDragEnd=function(t){this.readjustThumbSel()},i.prototype.sendMsg=function(t,e){var i=null;return"getOnCaliDlgCloseFunc"==t&&(console.log("getOnCaliDlgCloseFunc via send message!"),i=this.onCaliDlgClose),i},i.prototype.onCaliDlgClose=function(t){if(t){this.m_UIPresenter.setCaRat(this._getParentContainer().getCaRat());var e=this.m_UIPresenter.getRenderFilter().xOConv(30);this.bottomArea.lenInputer.setGridWidth(e),this.m_pm.setGridDispWidth(e),this.m_UIPresenter.updateFromPM(),this.syncWithUIPresenter()}this.m_parentContainer.showPraMenu()},i.prototype.onCaliBtn=function(t){this.m_parentContainer.showCaliDlg(this.onCaliDlgClose)},i.prototype.onMenuBtn=function(t){this.m_parentContainer.showPraMenu()},i.prototype.getParentContainer=function(){return this.m_parentContainer},i.prototype.backBtnTap=function(){this.m_parentContainer.showConfirm("该操作将放弃当前练习的进度和数据。\n您确定继续吗？",this.onBack2MainMenuConfirm)},i.prototype.onBack2MainMenuConfirm=function(t){var e=t;e&&(this.resetSceneElems(),g_pageJumper.gotoPage("WelcomeScene",null))},i.prototype.createBottomMenu=function(){},i.prototype.resetSceneElems=function(){this.m_cmpLenDlg.visible=!1,this.finalScoreDlg.visible=!1,this.bottomArea.lenInputer.unlock(),this.bottomArea.lenInputer.clearLen()},i.prototype.refreshScene=function(){this.resetSceneElems(),this.showLen(this.m_pm.getCurLen()),this.m_NoImgMode?(this.m_UIPresenter.setImgWidth(1024),this.m_UIPresenter.setImgHeight(720)):(this.m_UIPresenter.setImgWidth(this.m_imgOriWidth),this.m_UIPresenter.setImgHeight(this.midArea.imgFromFile.height));var t=new gdeint.CRect;t.m_left=0,t.m_top=0,t.m_width=this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat(),t.m_height=this.m_wm.getMidHeight();var e=new gdeint.CPoint;e.m_x=0,e.m_y=0,this.m_UIPresenter.inpImgSelPt(e),this.m_UIPresenter.inpImgSelWidth(this.m_wm.getWinWidth()/this.m_UIPresenter.getRenderFilter()._getCaRat()),this.m_UIPresenter.inpImgSelHeight(this.m_wm.getMidVisibleHeight()),this.readjustThumb(),this.readjustThumbSel(),this.topArea.progressView.setProgress(0),this.topArea.scoreView.clearScore(),this.m_UIPresenter.m_userGCnt=0,this.showInitInstrus()},i.prototype.syncWithUIPresenter=function(){this.midArea.readjustCircler();var t;t=this.m_UIPresenter.getImgRect(),this.m_NoImgMode?this.midArea.m_randomGraphShape.resize(t.m_width,t.m_height):(this.midArea.imgFromFile.width=t.m_width,this.midArea.imgFromFile.height=t.m_height);var e;e=this.m_UIPresenter.getLen(),e&&null!=e&&(this.m_NoImgMode||this.showImg(e.m2_imgResName));var i=new gdeint.CPoint;i.m_x=this.m_UIPresenter.getImgRect().m_left,i.m_y=this.m_UIPresenter.getImgRect().m_top,this.midArea.m_imgCircler.setInpPos(i);var r=this.midArea.m_imgCircler.getOutpPos();this.midArea.midContentGroup.x=r.m_x,this.midArea.midContentGroup.y=r.m_y,console.log("inpPosFinal:["+r.m_x+","+r.m_y+"]");var n=new gdeint.CPoint;n.m_x=-r.m_x,n.m_y=-r.m_y+this.midArea.m_visibleStartY,this.midArea.m_UIPresenter.inpImgSelPt(n),this._showLen(e),this.readjustThumb();var s;s=this.m_UIPresenter.getThumbQuestionerDispPt(),this.topArea.thumbUI.thumbQuestioner.x=s.m_x-8,this.topArea.thumbUI.thumbQuestioner.y=s.m_y-11,this.readjustThumbSel()},i}(CCommonEyelenPraScene);t.CPraEasyScene=e,__reflect(e.prototype,"eyelen4.CPraEasyScene")}(eyelen4||(eyelen4={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m2_cc=!1,e.m_trueWidth=480,e.m_trueHeight=210,e}return __extends(e,t),e.prototype.childrenCreated=function(){this.m2_cc=!0,this.rearrangeUI()},e.prototype.setTrueWidth=function(t){this.m_trueWidth=t,this.width<this.m_trueWidth&&(this.width=this.m_trueWidth),this.m2_cc&&this.rearrangeUI()},e.prototype.setTrueHeight=function(t){this.m_trueHeight=t,this.height<this.m_trueHeight&&(this.height=this.m_trueHeight),this.m2_cc&&this.rearrangeUI()},e.prototype.rearrangeUI=function(){this.lenInputer.setWidth(this.m_trueWidth-this.lenInputer.x-10),this.lenInputer.scaleY=1.2,this.menuGroup.y=.6*this.m_trueHeight;var t;t=.32*this.m_trueHeight/this.caliBtn.height,this.menuGroup.scaleY=t,this.menuGroup.scaleX=t},e}(eui.Component);t.CBottomAreaDifficult=e,__reflect(e.prototype,"eyelen4.CBottomAreaDifficult")}(eyelen4||(eyelen4={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m2_cc=!1,e.m_trueWidth=480,e.m_trueHeight=210,e}return __extends(e,t),e.prototype.childrenCreated=function(){this.m2_cc=!0,this.rearrange()},e.prototype.setTrueWidth=function(t){this.m_trueWidth=t,this.width<this.m_trueWidth&&(this.width=this.m_trueWidth),this.m2_cc&&this.rearrange()},e.prototype.setTrueHeight=function(t){this.m_trueHeight=t,this.height<this.m_trueHeight&&(this.height=this.m_trueHeight),this.m2_cc&&this.rearrange()},e.prototype.rearrange=function(){this.lenInputer.setWidth(this.m_trueWidth-this.lenInputer.x-10),this.lenInputer.scaleY=1.2,this.menuGroup.y=.6*this.m_trueHeight;var t;t=.32*this.m_trueHeight/this.caliBtn.height,this.menuGroup.scaleY=t,this.menuGroup.scaleX=t},e}(eui.Component);t.CBottomAreaEasy=e,__reflect(e.prototype,"eyelen4.CBottomAreaEasy")}(eyelen4||(eyelen4={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_trueWidth=0,e.m_trueHeight=0,e.m_visibleStartY=0,e.m2_isImgMoving=!1,e.m2_cc=!1,e.s_horSpace=80,e.s_verSpace=80,e.m_imgCircler=new gdeint.CSquareCircler,e.m_bg=new egret.Shape,e.m2_imgTchStartPoint=new gdeint.CPoint,e.m2_imgStartPoint=new gdeint.CPoint,e.m_evtImgDragEnd=new CMidAreaEvent_Eyelen(CMidAreaEvent_Eyelen.EVT_IMG_DRAGEND),e.m_randomGraphShape=new gdeint.CRandomGraph,e}return __extends(e,t),e.prototype.childrenCreated=function(){this.randomGraph.addChild(this.m_randomGraphShape);var t=new egret.Rectangle;t.x=0,t.y=0,0==this.m_trueWidth?t.width=720:t.width=this.m_trueWidth,t.height=3e3,this.mask=t,this.midBgGrp.addChild(this.m_bg),S_NO_IMG_MODE?(this.m_randomGraphShape.touchEnabled=!0,this.m_randomGraphShape.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this),this.m_randomGraphShape.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.m_randomGraphShape.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this)):(this.imgFromFile.touchEnabled=!0,this.imgFromFile.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this),this.imgFromFile.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.imgFromFile.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this)),this.m2_cc=!0},e.prototype.redrawBg=function(){this.m_bg.width=this.getTrueWidth(),this.m_bg.height=this.m_trueHeight,this.m_bg.graphics.clear(),this.m_bg.graphics.beginFill(10066329),this.m_bg.graphics.drawRect(0,0,this.m_bg.width,this.m_bg.height),this.m_bg.graphics.endFill();var t=new egret.Rectangle;t.x=0,t.y=0,0==this.m_trueWidth?t.width=720:t.width=this.m_trueWidth,t.height=3e3,this.mask=t},e.prototype.readjustCircler=function(){var t=new gdeint.CRect;t.m_left=0,t.m_top=this.m_visibleStartY,t.m_width=this.getTrueWidth(),t.m_height=this.getTrueHeight()-this.m_visibleStartY,this.m_imgCircler.setCirclerRect(t),this.m_imgCircler.setPullGapHor(this.s_horSpace),this.m_imgCircler.setPullGapVer(this.s_verSpace),this.m_imgCircler.setPushGapHor(this.s_horSpace),this.m_imgCircler.setPushGapVer(this.s_verSpace);var e=new gdeint.CRect;S_NO_IMG_MODE?(e.m_width=this.randomGraph.width,e.m_height=this.randomGraph.height):(e.m_width=this.imgFromFile.width,e.m_height=this.imgFromFile.height),this.m_imgCircler.setItemRect(e);var i=new gdeint.CPoint;i.m_x=-this.midContentGroup.x,i.m_y=-this.midContentGroup.y,this.m_imgCircler.setInpPos(i)},e.prototype.touchBegin=function(t){this.readjustCircler(),this.m2_imgTchStartPoint.m_x=t.stageX,this.m2_imgTchStartPoint.m_y=t.stageY,this.m2_imgStartPoint.m_x=this.midContentGroup.x,this.m2_imgStartPoint.m_y=this.midContentGroup.y,this.m2_isImgMoving=!0},e.prototype.touchMove=function(t){if(this.m2_isImgMoving)if(t.target==this.imgFromFile){var e,i,r,n;e=t.stageX-this.m2_imgTchStartPoint.m_x,i=t.stageY-this.m2_imgTchStartPoint.m_y,r=this.m2_imgStartPoint.m_x+e,n=this.m2_imgStartPoint.m_y+i;var s=new gdeint.CPoint;s.m_x=r,s.m_y=n,this.m_imgCircler.setInpPos(s);var o;o=this.m_imgCircler.getOutpPos(),r=o.m_x,n=o.m_y,this.midContentGroup.x=r,this.midContentGroup.y=n;var h;h=new gdeint.CPoint,h.m_x=-this.midContentGroup.x,h.m_y=-this.midContentGroup.y+this.m_visibleStartY,this.m_UIPresenter.inpImgSelPt(h),this.dispatchEvent(this.m_evtImgDragEnd)}else if(t.target==this.m_randomGraphShape){var e,i,r,n;e=t.stageX-this.m2_imgTchStartPoint.m_x,i=t.stageY-this.m2_imgTchStartPoint.m_y,r=this.m2_imgStartPoint.m_x+e,n=this.m2_imgStartPoint.m_y+i;var a=this.m_randomGraphShape.width;if(r>this.s_horSpace&&r+a>this.getTrueWidth()+this.s_horSpace){var m=0,_=0;m=r-this.s_horSpace,_=r+a-(this.getTrueWidth()+this.s_horSpace),r=m>_?-(a-(this.getTrueWidth()+this.s_horSpace)):this.s_horSpace}if(r<-(a+this.s_horSpace-this.getTrueWidth())&&r<-this.s_horSpace){var m=0,_=0;m=r+a+this.s_horSpace-this.getTrueWidth(),_=r+this.s_horSpace,r=_>m?-this.s_horSpace:-(a+this.s_horSpace-this.getTrueWidth())}if(n>this.s_verSpace&&n+720-this.getTrueHeight()>this.s_verSpace){var m=0,_=0;m=n-this.s_verSpace,_=n+720-this.getTrueHeight()-this.s_verSpace,n=m>_?-(720-this.getTrueHeight()-this.s_verSpace):this.s_verSpace}if(n<-(720+this.s_verSpace-this.getTrueHeight())&&n<-this.s_verSpace){var m=0,_=0;
m=n+720+this.s_verSpace-this.getTrueHeight(),_=this.s_verSpace,n=_>m?-this.s_verSpace:-(720+this.s_verSpace-this.getTrueHeight())}this.midContentGroup.x=r,this.midContentGroup.y=n;var h;h=new gdeint.CPoint,h.m_x=-this.midContentGroup.x,h.m_y=-this.midContentGroup.y+this.m_visibleStartY,this.m_UIPresenter.inpImgSelPt(h),this.dispatchEvent(this.m_evtImgDragEnd)}},e.prototype.touchEnd=function(t){this.m2_isImgMoving=!1,this.dispatchEvent(this.m_evtImgDragEnd)},e.prototype.setVisibleStartY=function(t){this.m_visibleStartY=t,this.m_UIPresenter.m_visibleStartY=t},e.prototype.setTrueWidth=function(t){this.m_trueWidth=t,this.m2_cc&&(this.width<this.m_trueWidth&&(this.width=this.m_trueWidth),this.redrawBg())},e.prototype.getTrueWidth=function(){return this.m_trueWidth},e.prototype.setTrueHeight=function(t){this.m_trueHeight=t,this.redrawBg()},e.prototype.getTrueHeight=function(){return this.m_trueHeight},e}(eui.Component);t.CMidAreaDifficult=e,__reflect(e.prototype,"eyelen4.CMidAreaDifficult")}(eyelen4||(eyelen4={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_trueWidth=0,e.m_trueHeight=0,e.m_visibleStartY=0,e.m2_isImgMoving=!1,e.s_horSpace=80,e.s_verSpace=80,e.m2_cc=!1,e.m_imgCircler=new gdeint.CSquareCircler,e.m_bg=new egret.Shape,e.m2_imgTchStartPoint=new gdeint.CPoint,e.m2_imgStartPoint=new gdeint.CPoint,e.m_evtImgDragEnd=new CMidAreaEvent_Eyelen(CMidAreaEvent_Eyelen.EVT_IMG_DRAGEND),e.m_randomGraphShape=new gdeint.CRandomGraph,e.m_randomGraphShape.genGraph(1024,720),e}return __extends(e,t),e.prototype.childrenCreated=function(){this.randomGraph.addChild(this.m_randomGraphShape),this.m_randomGraphShape.touchEnabled=!0,this.m_randomGraphShape.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this),this.m_randomGraphShape.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.m_randomGraphShape.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this);var t=new egret.Rectangle;t.x=0,t.y=0,0==this.m_trueWidth?t.width=720:t.width=this.m_trueWidth,t.height=3e3,this.mask=t,this.midBgGrp.addChild(this.m_bg),S_NO_IMG_MODE||(this.imgFromFile.touchEnabled=!0,this.imgFromFile.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this),this.imgFromFile.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.imgFromFile.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this)),this.m2_cc=!0},e.prototype.redrawBg=function(){this.m_bg.width=this.getTrueWidth(),this.m_bg.height=this.m_trueHeight,this.m_bg.graphics.clear(),this.m_bg.graphics.beginFill(10066329),this.m_bg.graphics.drawRect(0,0,this.m_bg.width,this.m_bg.height),this.m_bg.graphics.endFill()},e.prototype.readjustCircler=function(){var t=new gdeint.CRect;t.m_left=0,t.m_top=this.m_visibleStartY,t.m_width=this.getTrueWidth(),t.m_height=this.getTrueHeight()-this.m_visibleStartY,this.m_imgCircler.setCirclerRect(t),this.m_imgCircler.setPullGapHor(this.s_horSpace),this.m_imgCircler.setPullGapVer(this.s_verSpace),this.m_imgCircler.setPushGapHor(this.s_horSpace),this.m_imgCircler.setPushGapVer(this.s_verSpace);var e=new gdeint.CRect;S_NO_IMG_MODE?(e.m_width=this.randomGraph.width,e.m_height=this.randomGraph.height):(e.m_width=this.imgFromFile.width,e.m_height=this.imgFromFile.height),this.m_imgCircler.setItemRect(e);var i=new gdeint.CPoint;i.m_x=-this.midContentGroup.x,i.m_y=-this.midContentGroup.y,this.m_imgCircler.setInpPos(i)},e.prototype.touchBegin=function(t){this.m2_imgTchStartPoint.m_x=t.stageX,this.m2_imgTchStartPoint.m_y=t.stageY,this.m2_imgStartPoint.m_x=this.midContentGroup.x,this.m2_imgStartPoint.m_y=this.midContentGroup.y,this.readjustCircler(),this.m2_isImgMoving=!0},e.prototype.touchMove=function(t){if(this.m2_isImgMoving)if(t.target==this.imgFromFile){var e,i,r,n;e=t.stageX-this.m2_imgTchStartPoint.m_x,i=t.stageY-this.m2_imgTchStartPoint.m_y,r=this.m2_imgStartPoint.m_x+e,n=this.m2_imgStartPoint.m_y+i;var s=new gdeint.CPoint;s.m_x=r,s.m_y=n,this.m_imgCircler.setInpPos(s);var o=new gdeint.CPoint;o=this.m_imgCircler.getOutpPos(),r=o.m_x,n=o.m_y,this.midContentGroup.x=r,this.midContentGroup.y=n;var h;h=new gdeint.CPoint,h.m_x=-this.midContentGroup.x,h.m_y=-this.midContentGroup.y+this.m_visibleStartY,this.m_UIPresenter.inpImgSelPt(h),this.dispatchEvent(this.m_evtImgDragEnd)}else if(t.target==this.m_randomGraphShape){console.log("Moving randomGraph!");var e,i,r,n;e=t.stageX-this.m2_imgTchStartPoint.m_x,i=t.stageY-this.m2_imgTchStartPoint.m_y,r=this.m2_imgStartPoint.m_x+e,n=this.m2_imgStartPoint.m_y+i;var s=(this.m_randomGraphShape.width,new gdeint.CPoint);s.m_x=r,s.m_y=n,this.m_imgCircler.setInpPos(s);var o=new gdeint.CPoint;o=this.m_imgCircler.getOutpPos(),r=o.m_x,n=o.m_y,this.midContentGroup.x=r,this.midContentGroup.y=n,this.midContentGroup.x=r,this.midContentGroup.y=n;var h;h=new gdeint.CPoint,h.m_x=-this.midContentGroup.x,h.m_y=-this.midContentGroup.y+this.m_visibleStartY,this.m_UIPresenter.inpImgSelPt(h),this.dispatchEvent(this.m_evtImgDragEnd)}},e.prototype.touchEnd=function(t){this.m2_isImgMoving=!1,this.dispatchEvent(this.m_evtImgDragEnd)},e.prototype.setVisibleStartY=function(t){this.m_visibleStartY=t,this.m_UIPresenter.m_visibleStartY=t},e.prototype.setTrueWidth=function(t){if(this.m_trueWidth=t,this.width<this.m_trueWidth&&(this.width=this.m_trueWidth),this.m2_cc){var e=new egret.Rectangle;e.x=0,e.y=0,0==this.m_trueWidth?e.width=480:e.width=this.m_trueWidth,e.height=2e3,this.mask=e}this.redrawBg()},e.prototype.getTrueWidth=function(){return 0==this.m_trueWidth?720:this.m_trueWidth},e.prototype.setTrueHeight=function(t){this.m_trueHeight=t,this.redrawBg()},e.prototype.getTrueHeight=function(){return this.m_trueHeight},e}(eui.Component);t.CMidAreaEasy=e,__reflect(e.prototype,"eyelen4.CMidAreaEasy")}(eyelen4||(eyelen4={}));var CMidAreaEvent_Eyelen=function(t){function e(e,i,r){return void 0===i&&(i=!1),void 0===r&&(r=!1),t.call(this,e,i,r)||this}return __extends(e,t),e.EVT_IMG_DRAGMOVE="EVT_IMG_DRAGMOVE",e.EVT_IMG_DRAGEND="EVT_IMG_DRAGEND",e}(egret.Event);__reflect(CMidAreaEvent_Eyelen.prototype,"CMidAreaEvent_Eyelen");var gdeint;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){this.sndConfMenu.fetchData(),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.caliBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCaliBtn,this),this.sndConfBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSndConfBtn,this),this.helpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onHelpBtn,this),this.viewTermsBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onViewTermsBtn,this),this.quitPraBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onQuitPra,this)},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.isVisible=function(){return this.visible},e.prototype.setSceneRect=function(t,e,i,r){this.x=t+(i-350)/2,this.y=e+(r-580)/5*2,console.log("Setting scene rect!")},e.prototype._setParentContainer=function(t){this.m_parentContainer=t,this._getParentContainer().getDlgLayer().addChild(CDispObj2EgretDOAdapter.from(this)),console.log("Parent container set!")},e.prototype._getParentContainer=function(){return this.m_parentContainer},e.prototype._setMenuListener=function(t){this.m_menuListener=t},e.prototype.onClose=function(){this.visible=!1;var t=new Array;t[0]=!1,this._getParentContainer().applyFunc(this.m_closeListener,t)},e.prototype.onCaliBtn=function(){this.onMenu("Calibrate")},e.prototype.onSndConfBtn=function(){console.log("Showing SndConfMenu!"),this.sndConfMenu.show(),this.onMenu("SndConf")},e.prototype.onHelpBtn=function(){this.helpPanel.visible=!0},e.prototype.onViewTermsBtn=function(){this.viewTermsMenu.visible=!0,this.onMenu("ViewTerms")},e.prototype.onMenu=function(t){"Calibrate"==t&&(this.m_parentContainer.showCaliDlg(this.m_parentContainer.sendMsgToScene("getOnCaliDlgCloseFunc",null)),this.visible=!1)},e.prototype.onQuitPra=function(){this.m_parentContainer.showConfirm("该操作将放弃当前练习的进度和数据。\n您确定继续吗？",this.onBack2MainMenuConfirm)},e.prototype.onBack2MainMenuConfirm=function(t){var e=t;e&&g_pageJumper.gotoPage("WelcomeScene",null)},e}(eui.Component);t.CPraMenu=e,__reflect(e.prototype,"gdeint.CPraMenu",["IContainerPlugin","gdeint.IHidable"])}(gdeint||(gdeint={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.s_bgFrontWidth=428,e.s_bgFrontHeight=160,e.s_topRightWidth=250,e.s_topRightHeight1=65,e.s_thumbAreax=25,e.s_thumbAreay=0,e.s_thumbAreaWidth=178,e.s_thumbAreaHeight=160,e.m_trueWidth=480,e.m_trueHeight=180,e.m2_cc=!1,e.m_bgFront=new egret.Shape,e.m_topButtonBg=new egret.Shape,e.m_evtSwitchBtnTap=new CTopAreaEvent_Eyelen(CTopAreaEvent_Eyelen.EVT_SWITCHBTN_TAP),e}return __extends(e,t),e.prototype.readjustUI=function(){this.width<this.m_trueWidth&&(this.width=this.m_trueWidth),this.height<this.m_trueHeight&&(this.height=this.m_trueHeight),this.m_bgFront.width=this.s_bgFrontWidth/480*this.m_trueWidth,this.m_bgFront.height=this.s_bgFrontHeight/180*this.m_trueHeight;var t,e,i;t=new eui.Rect,t.fillColor=65280,t.width=this.m_bgFront.width,t.height=this.m_bgFront.height,e=new eui.Rect,e.fillColor=11206638,e.width=this.m_bgFront.width-this.s_topRightWidth/480*this.m_trueWidth,e.height=this.m_bgFront.height,i=new eui.Rect,i.fillColor=15632469,i.x=this.m_bgFront.width-this.s_topRightWidth/480*this.m_trueWidth,i.y=this.s_topRightHeight1,i.width=this.s_topRightWidth/480*this.m_trueWidth,i.height=this.m_bgFront.height-this.s_topRightHeight1,this.m_bgFront.graphics.beginFill(11206638),this.m_bgFront.graphics.drawRect(0,0,this.m_bgFront.width-this.s_topRightWidth/480*this.m_trueWidth,this.m_bgFront.height),this.m_bgFront.graphics.endFill(),this.m_bgFront.graphics.beginFill(15632469),this.m_bgFront.graphics.drawRect(this.m_bgFront.width-this.s_topRightWidth/480*this.m_trueWidth,this.s_topRightHeight1,this.s_topRightWidth/480*this.m_trueWidth,this.m_bgFront.height-this.s_topRightHeight1),this.m_bgFront.graphics.endFill(),this.m_topButtonBg.width=this.switchBtn.width,this.m_topButtonBg.height=this.switchBtn.height,this.m_topButtonBg.graphics.beginFill(16777215),this.m_topButtonBg.graphics.drawRect(0,0,this.m_topButtonBg.width,this.m_topButtonBg.height),this.m_topButtonBg.graphics.endFill(),this.bgFrontGrp.left=25/480*this.m_trueWidth,this.bgFrontGrp.addChild(t),this.bgFrontGrp.addChild(e),this.bgFrontGrp.addChild(i),this.progressView.left=i.x+.0625*this.m_trueWidth,this.scoreView.left=i.x+.0625*this.m_trueWidth,this.switchBtn.left=209/480*this.m_trueWidth,this.switchBtn.top=154/180*this.m_trueHeight,this.switchBtnBgGrp.left=this.switchBtn.left,this.switchBtnBgGrp.top=this.switchBtn.top},e.prototype.setTrueWidth=function(t){this.m_trueWidth=t,this.m2_cc&&this.readjustUI()},e.prototype.setTrueHeight=function(t){this.m_trueHeight=t,this.m2_cc&&this.readjustUI()},e.prototype.childrenCreated=function(){console.log("ProTopArea shown!"),this.readjustUI(),this.switchBtnBgGrp.addChild(this.m_topButtonBg),this.switchBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSwitchBtnTap,this),this.m2_cc=!0},e.prototype.onSwitchBtnTap=function(t){this.dispatchEvent(this.m_evtSwitchBtnTap)},e}(eui.Component);t.CProTopArea_Eyelen=e,__reflect(e.prototype,"eyelen4.CProTopArea_Eyelen")}(eyelen4||(eyelen4={}));var gdeint;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.fetchData=function(){egret.ExternalInterface.call("fetchIsSndOn","")},e.prototype.show=function(){this.sndOnSwitch.$setSelected(g_isSndOn),this.visible=!0},e.prototype.savData=function(){var t="";g_isSndOn=this.sndOnSwitch.selected,t=g_isSndOn?"1":"0",egret.ExternalInterface.call("storeIsSndOn",t),this.visible=!1},e.prototype.childrenCreated=function(){this.OKBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onOKBtn,this),this.cancelBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCancelBtn,this)},e.prototype.onOKBtn=function(){this.savData(),this.visible=!1},e.prototype.onCancelBtn=function(){this.fetchData(),this.visible=!1},e}(eui.Component);t.CSndConfMenu=e,__reflect(e.prototype,"gdeint.CSndConfMenu")}(gdeint||(gdeint={}));var eyelen4;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.s_bgFrontWidth=428,e.s_bgFrontHeight=160,e.s_topRightWidth=250,e.s_topRightHeight1=65,e.s_thumbAreax=25,e.s_thumbAreay=0,e.s_thumbAreaWidth=178,e.s_thumbAreaHeight=160,e.m_trueWidth=480,e.m_trueHeight=180,e.m2_cc=!1,e.m_bgFront=new egret.Shape,e.m_topButtonBg=new egret.Shape,e.m_evtSwitchBtnTap=new CTopAreaEvent_Eyelen(CTopAreaEvent_Eyelen.EVT_SWITCHBTN_TAP),e}return __extends(e,t),e.prototype.readjustUI=function(){this.width<this.m_trueWidth&&(this.width=this.m_trueWidth),this.height<this.m_trueHeight&&(this.height=this.m_trueHeight),this.m_bgFront.width=this.s_bgFrontWidth/480*this.m_trueWidth,this.m_bgFront.height=this.s_bgFrontHeight/180*this.m_trueHeight;var t,e,i;t=new eui.Rect,t.fillColor=65280,t.width=this.m_bgFront.width,t.height=this.m_bgFront.height,e=new eui.Rect,e.fillColor=11206638,e.width=this.m_bgFront.width-this.s_topRightWidth/480*this.m_trueWidth,e.height=this.m_bgFront.height,i=new eui.Rect,i.fillColor=15632469,i.x=this.m_bgFront.width-this.s_topRightWidth/480*this.m_trueWidth,i.y=this.s_topRightHeight1,i.width=this.s_topRightWidth/480*this.m_trueWidth,i.height=this.m_bgFront.height-this.s_topRightHeight1,this.m_bgFront.graphics.beginFill(11206638),this.m_bgFront.graphics.drawRect(0,0,this.m_bgFront.width-this.s_topRightWidth/480*this.m_trueWidth,this.m_bgFront.height),this.m_bgFront.graphics.endFill(),this.m_bgFront.graphics.beginFill(15632469),this.m_bgFront.graphics.drawRect(this.m_bgFront.width-this.s_topRightWidth/480*this.m_trueWidth,this.s_topRightHeight1,this.s_topRightWidth/480*this.m_trueWidth,this.m_bgFront.height-this.s_topRightHeight1),this.m_bgFront.graphics.endFill(),this.m_topButtonBg.width=this.switchBtn.width,this.m_topButtonBg.height=this.switchBtn.height,this.m_topButtonBg.graphics.beginFill(16777215),this.m_topButtonBg.graphics.drawRect(0,0,this.m_topButtonBg.width,this.m_topButtonBg.height),this.m_topButtonBg.graphics.endFill(),this.bgFrontGrp.left=25/480*this.m_trueWidth,this.bgFrontGrp.addChild(t),this.bgFrontGrp.addChild(e),this.bgFrontGrp.addChild(i),this.progressView.left=i.x+.0625*this.m_trueWidth,this.scoreView.left=i.x+.0625*this.m_trueWidth,this.switchBtn.left=209/480*this.m_trueWidth,this.switchBtn.top=154/180*this.m_trueHeight,this.switchBtnBgGrp.left=this.switchBtn.left,this.switchBtnBgGrp.top=this.switchBtn.top},e.prototype.setTrueWidth=function(t){this.m_trueWidth=t,this.m2_cc&&this.readjustUI()},e.prototype.setTrueHeight=function(t){this.m_trueHeight=t,this.m2_cc&&this.readjustUI()},e.prototype.childrenCreated=function(){this.readjustUI(),this.switchBtnBgGrp.addChild(this.m_topButtonBg),this.switchBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSwitchBtnTap,this),this.m2_cc=!0},e.prototype.onSwitchBtnTap=function(t){this.dispatchEvent(this.m_evtSwitchBtnTap)},e}(eui.Component);t.CTopArea_Eyelen=e,__reflect(e.prototype,"eyelen4.CTopArea_Eyelen")}(eyelen4||(eyelen4={}));var CTopAreaEvent_Eyelen=function(t){function e(e,i,r){return void 0===i&&(i=!1),void 0===r&&(r=!1),t.call(this,e,i,r)||this}return __extends(e,t),e.EVT_SWITCHBTN_TAP="EVT_SWITCHBTN_TAP",e}(egret.Event);__reflect(CTopAreaEvent_Eyelen.prototype,"CTopAreaEvent_Eyelen");var eyelen4;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtn,this)},e.prototype.show=function(){console.log("ScoreJSONObjSize():"+g2_tmpScoresJSONObj.size),this.scoreLabel.text="";var t;for(t=0;t<g2_tmpScoresJSONObj.Scores.length;++t)this.scoreLabel.text+=g2_tmpScoresJSONObj.Scores[t].Score+"分 于"+g2_tmpScoresJSONObj.Scores[t].PraDateTime+"\n\n";this.visible=!0},e.prototype.onCloseBtn=function(){this.visible=!1},e}(eui.Component);t.CViewDiffProHisScoreDlg=e,__reflect(e.prototype,"eyelen4.CViewDiffProHisScoreDlg")}(eyelen4||(eyelen4={}));var gdeint;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtn,this),this.viewUserProBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onViewUserProBtn,this),this.viewPriPoliBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onViewPriPoliBtn,this)},e.prototype.onViewUserProBtn=function(){this.userProPanel.visible=!0},e.prototype.onViewPriPoliBtn=function(){this.priPoliPanel.visible=!0},e.prototype.onCloseBtn=function(){this.visible=!1},e}(eui.Component);t.CViewTermsMenu=e,__reflect(e.prototype,"gdeint.CViewTermsMenu")}(gdeint||(gdeint={}));var LoadingUI_Eint_V3=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.create=function(){this.width=this.m_winWidth,this.height=this.m_winHeight,this.createView(),this.m_flashCnt=0,this.m_flashTimer=new egret.Timer(300,0),this.m_flashTimer.addEventListener(egret.TimerEvent.TIMER,this.onFlashTimer,this)},e.prototype.createView=function(){this.m_bg=new egret.Shape,this.m_bg.width=this.width,this.m_bg.height=this.height,this.m_bg.graphics.beginFill(16777215),this.m_bg.graphics.drawRect(0,0,this.m_bg.width,this.m_bg.height),this.m_bg.graphics.endFill(),this.m_procra=new egret.TextField,this.m_procra.x=this.width/2-200,this.m_procra.y=.2*this.height,this.m_procra.size=56,this.m_procra.textColor=0,this.m_procra.text="卓越是为了奉献",this.m_logo=new egret.Bitmap,this.m_logo.x=this.width/2-60,this.m_logo.y=.3*this.height,this.m_logo.width=240,this.m_logo.height=128,this.m_logo.texture=RES.getRes("eint_logo_png"),this.m_progress=new egret.TextField,this.m_progress.x=this.width/2-90,this.m_progress.y=.6*this.height,this.m_progress.textColor=0,this.m_progress.textAlign="center",this.m_p2c=new egret.TextField,this.m_p2c.x=this.width/2-80,this.m_p2c.y=.7*this.height,this.m_p2c.textColor=0,this.m_p2c.text="触摸屏幕继续",this.m_p2c.visible=!1,this.addChild(this.m_bg),this.addChild(this.m_procra),this.addChild(this.m_logo),this.addChild(this.m_progress),this.addChild(this.m_p2c)},e.prototype.onTchTimer=function(t){this.m_p2c.visible=!0,this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouch,this),this.m_flashTimer.start()},e.prototype.onFlashTimer=function(t){++this.m_flashCnt,0==this.m_flashCnt%3?this.m_p2c.visible=!1:this.m_p2c.visible=!0},e.prototype.onTouch=function(t){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouch,this),this.m_flashTimer.stop(),this.m_p2c.visible=!0,this.visible=!1},e.prototype.setProgress=function(t,e){this.m_progress.text="准备中..."+(t/e*100).toString().substr(0,4)+"%"},e.prototype.setWinSize=function(t,e){this.m_winWidth=t,this.m_winHeight=e},e.prototype.onProgress=function(t,e){this.setProgress(t,e)},e.prototype.touch2C=function(){return __awaiter(this,void 0,void 0,function(){var t,e=this;return __generator(this,function(i){return t=new Promise(function(t){e.m_p2c.visible=!0,e.touchEnabled=!0,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(e){t()},e),e.m_flashTimer.start()}),[2,t]})})},e}(egret.Sprite);__reflect(LoadingUI_Eint_V3.prototype,"LoadingUI_Eint_V3",["RES.PromiseTaskReporter"]);var LoadingUI_NoUI=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.onProgress=function(t,e){},e}(egret.Sprite);__reflect(LoadingUI_NoUI.prototype,"LoadingUI_NoUI",["RES.PromiseTaskReporter"]);